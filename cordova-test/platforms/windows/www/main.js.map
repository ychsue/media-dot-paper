{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/draglist/draglist.component.css","webpack:///./src/app/components/draglist/draglist.component.html","webpack:///./src/app/components/draglist/draglist.component.ts","webpack:///./src/app/components/me-main-dashboard/me-main-dashboard.component.css","webpack:///./src/app/components/me-main-dashboard/me-main-dashboard.component.html","webpack:///./src/app/components/me-main-dashboard/me-main-dashboard.component.ts","webpack:///./src/app/components/me-mani-plate/me-mani-plate.component.css","webpack:///./src/app/components/me-mani-plate/me-mani-plate.component.html","webpack:///./src/app/components/me-mani-plate/me-mani-plate.component.ts","webpack:///./src/app/components/me-section-dashboard/me-section-dashboard.component.css","webpack:///./src/app/components/me-section-dashboard/me-section-dashboard.component.html","webpack:///./src/app/components/me-section-dashboard/me-section-dashboard.component.ts","webpack:///./src/app/components/player/player.component.css","webpack:///./src/app/components/player/player.component.html","webpack:///./src/app/components/player/player.component.ts","webpack:///./src/app/components/set-speech-synthesis/set-speech-synthesis.component.css","webpack:///./src/app/components/set-speech-synthesis/set-speech-synthesis.component.html","webpack:///./src/app/components/set-speech-synthesis/set-speech-synthesis.component.ts","webpack:///./src/app/components/swap-icon/swap-icon.component.css","webpack:///./src/app/components/swap-icon/swap-icon.component.html","webpack:///./src/app/components/swap-icon/swap-icon.component.ts","webpack:///./src/app/dialog/dialog.component.css","webpack:///./src/app/dialog/dialog.component.html","webpack:///./src/app/dialog/dialog.component.ts","webpack:///./src/app/message/message.component.css","webpack:///./src/app/message/message.component.html","webpack:///./src/app/message/message.component.ts","webpack:///./src/app/navbar/navbar.component.css","webpack:///./src/app/navbar/navbar.component.html","webpack:///./src/app/navbar/navbar.component.ts","webpack:///./src/app/pages/home/home.component.css","webpack:///./src/app/pages/home/home.component.html","webpack:///./src/app/pages/home/home.component.ts","webpack:///./src/app/pages/media-edit/media-edit.component.css","webpack:///./src/app/pages/media-edit/media-edit.component.html","webpack:///./src/app/pages/media-edit/media-edit.component.ts","webpack:///./src/app/pages/story/story.component.css","webpack:///./src/app/pages/story/story.component.html","webpack:///./src/app/pages/story/story.component.ts","webpack:///./src/app/pages/test/test.component.css","webpack:///./src/app/pages/test/test.component.html","webpack:///./src/app/pages/test/test.component.ts","webpack:///./src/app/pipes/safe.pipe.ts","webpack:///./src/app/services/ad.service.ts","webpack:///./src/app/services/clipboard.service.ts","webpack:///./src/app/services/cross-comp.service.ts","webpack:///./src/app/services/db.service.ts","webpack:///./src/app/services/device.service.ts","webpack:///./src/app/services/fs.service.ts","webpack:///./src/app/services/gv.service.ts","webpack:///./src/app/services/media-edit.service.ts","webpack:///./src/app/services/message.service.ts","webpack:///./src/app/services/page-texts.service.ts","webpack:///./src/app/services/speech-synthesis.service.ts","webpack:///./src/app/services/story.service.ts","webpack:///./src/app/services/youtube.service.ts","webpack:///./src/app/vm/a-frame.ts","webpack:///./src/app/vm/player-type.enum.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,4E;;;;;;;;;;;ACZA,6BAA6B,0BAA0B,sBAAsB,oCAAoC,yCAAyC,sBAAsB,wDAAwD,KAAK,mBAAmB,wBAAwB,2BAA2B,0BAA0B,qBAAqB,qBAAqB,KAAK,qBAAqB,sBAAsB,2BAA2B,KAAK,kBAAkB,gBAAgB,0BAA0B,sBAAsB,gCAAgC,yCAAyC,KAAK,oBAAoB,2BAA2B,mBAAmB,mBAAmB,qBAAqB,gCAAgC,2BAA2B,KAAK,0BAA0B,2BAA2B,KAAK,iBAAiB,wBAAwB,2BAA2B,2BAA2B,yBAAyB,KAAK,cAAc,oBAAoB,qBAAqB,KAAK,sBAAsB,2BAA2B,2BAA2B,iBAAiB,iBAAiB,oBAAoB,qBAAqB,iBAAiB,mBAAmB,KAAK,sBAAsB,mBAAmB,oBAAoB,KAAK,+CAA+C,mCAAmC,KAAK,sDAAsD,2BAA2B,qBAAqB,KAAK,C;;;;;;;;;;;ACAx8C,4pCAA4pC,2CAA2C,6aAA6a,aAAa,yvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAxkD;AACiB;AAGd;AACA;AACzB;AACuB;AACoC;AAC7B;AACA;AAOjE;IAUE,sBAAmB,UAA0B,EAAS,EAAa,EAC1D,UAA4B,EAC3B,SAAyB,EAAU,MAAqB,EAAS,SAA2B;QAFnF,eAAU,GAAV,UAAU,CAAgB;QAAS,OAAE,GAAF,EAAE,CAAW;QAC1D,eAAU,GAAV,UAAU,CAAkB;QAC3B,cAAS,GAAT,SAAS,CAAgB;QAAU,WAAM,GAAN,MAAM,CAAe;QAAS,cAAS,GAAT,SAAS,CAAkB;QAVtG,YAAO,GAAG,IAAI,4CAAO,EAAgB,CAAC;QAItC,aAAQ,GAAG,6DAAQ,CAAC;QAOhB,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,6DAAM,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,gBAAM;YACjF,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACX,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,OAAO,CAAC;YACzC,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,YAAY,GAAG,CAAC,MAAM,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC;QAC9E,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAED,sCAAe,GAAf;QAAA,iBA2BC;QA1BC,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;QAChC,IAAI,EAAE,GAAG,GAAG,CAAC;QACb,gDAAgD;QAChD,IAAI,CAAC,OAAO,CAAC,IAAI,CACb,0DAAG,CAAC,WAAC,IAAI,WAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CACtC,gEAAS,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CACrC,4DAAK,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,mEAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAC3D,CAAC,EACF,6DAAM,CAAC,+CAAE,CAAC,IAAI,CAAC,CAAC,CACjB,EALQ,CAKR,CAAC,EACF,gEAAS,EAAE,CACd,CAAC,SAAS,CAAC,UAAC,EAAgB;YAC3B,EAAE,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,CAAC,CAAC;gBAChB,EAAE,GAAG,GAAG,CAAC;gBACT,KAAI,CAAC,iBAAiB,EAAE,CAAC;YAC3B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;oBACd,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC;gBAClB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,IAAM,EAAE,GAAG,EAAE,CAAC,OAAO,GAAG,EAAE,CAAC;oBAC3B,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC;oBACd,IAAI,CAAC,YAAY,IAAI,EAAE,CAAC;gBAC5B,CAAC;YACH,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,wCAAiB,GAAjB;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;YAC9C,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;QAC5B,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;QAC5B,CAAC;IACH,CAAC;IAED,wCAAiB,GAAjB,UAAkB,EAAgB;QAChC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACxB,CAAC;IAhEU,YAAY;QALxB,+DAAS,CAAC;YACT,QAAQ,EAAE,UAAU;;;SAGrB,CAAC;yCAW+B,wEAAc,EAAa,8DAAS;YAC9C,6EAAgB;YAChB,wEAAc,EAAkB,sEAAa,EAAoB,6EAAgB;OAZ3F,YAAY,CAiExB;IAAD,mBAAC;CAAA;AAjEwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBiC;AACjB;AAEM;AACgB;AACH;AACmB;AAIK;AACxB;AAEA;AACA;AACD;AACkB;AACyB;AACS;AACrB;AACnB;AACN;AACL;AACV;AACU;AACf;AACK;AACQ;AACmB;AACE;AACb;AACH;AACb;AACc;AACC;AACG;AAClB;AAC2B;AACkC;AAC9C;AAkDjE;IAAA;IAAyB,CAAC;IAAb,SAAS;QAhDrB,8DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,2DAAY;gBACZ,2EAAgB;gBAChB,wEAAe;gBACf,wEAAa;gBACb,wEAAa;gBACb,0DAAQ;gBACR,8DAAY;gBACZ,0FAAkB;gBAClB,mHAAwB;gBACxB,4HAA2B;gBAC3B,uGAAoB;gBACpB,oFAAe;gBACf,yEAAe;gBACf,0FAAiB;gBACjB,4FAAiB;gBACjB,4EAAc;gBACd,4HAA2B;aAC5B;YACD,eAAe,EAAE,CAAC,2EAAgB,EAAE,yEAAe,CAAC;YACpD,OAAO,EAAE;gBACP,uEAAa;gBACb,2DAAW;gBACX,4FAAuB;gBACvB,iEAAe;gBACf,gEAAc;gBACd,+DAAa;gBACb,kEAAgB;gBAChB,gEAAc;gBACd,oEAAkB;gBAClB,sEAAoB;gBACpB,+DAAa;gBACb,iEAAe;gBACf,0EAAY;gBACZ,iEAAe;gBACf,+DAAa;gBACb,kEAAgB;gBAChB,sEAAgB;gBAChB,+DAAa;gBACb,iEAAe;gBACf,sEAAoB;aACrB;YACD,SAAS,EAAE,CAAC,wEAAc,EAAE,8EAAgB,EAAE,yEAAc,EAAE,+DAAS,EAAE,+DAAS,EAAE,uEAAa;gBAC7F,+DAAS,EAAE,6EAAgB,EAAE,8EAAgB,EAAE,+DAAS,EAAE,0FAAsB,EAAE,8EAAgB;aACrG;YACD,SAAS,EAAE,CAAC,2DAAY,CAAC;SAC1B,CAAC;OACW,SAAS,CAAI;IAAD,gBAAC;CAAA;AAAJ;;;;;;;;;;;;ACzFtB,8BAA8B,0BAA0B,sBAAsB,8BAA8B,uCAAuC,KAAK,kBAAkB,2BAA2B,uBAAuB,wBAAwB,oBAAoB,8BAA8B,2BAA2B,sBAAsB,4BAA4B,qBAAqB,KAAK,gBAAgB,0BAA0B,KAAK,kBAAkB,2BAA2B,uBAAuB,uBAAuB,mBAAmB,gCAAgC,2BAA2B,KAAK,C;;;;;;;;;;;ACA1mB,2ZAA2Z,YAAY,oB;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA7U;AAEhB;AACZ;AAC6E;AACtE;AAOrE;IAwBE,2BAAoB,aAA4B,EAAU,SAA2B;QAAjE,kBAAa,GAAb,aAAa,CAAe;QAAU,cAAS,GAAT,SAAS,CAAkB;QArB3E,WAAM,GAAG,IAAI,0DAAY,EAAE,CAAC;QAC5B,iBAAY,GAAG,IAAI,0DAAY,EAAE,CAAC;QAG5C,aAAQ,GAAG,GAAG,CAAC;QAEP,qBAAgB,GAAG,EAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC;QACnC,qBAAgB,GAAG,EAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC;QAM3C,iBAAiB;QACP,wBAAmB,GAAG,IAAI,0DAAO,EAAgB,CAAC;QAClD,sBAAiB,GAAG,IAAI,0DAAO,EAAgB,CAAC;IAM+B,CAAC;IAJ1F,gDAAoB,GAApB,UAAqB,EAAgB;QACnC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACpC,CAAC;IAID,oCAAQ,GAAR;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,iBAAiB;QACjB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,YAAE,IAAI,WAAI,CAAC,gBAAgB,GAAG,EAAC,IAAI,EAAE,EAAE,CAAC,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC,OAAO,EAAC,EAA3D,CAA2D,CAAC,CAAC;QACtH,sBAAsB;QACtB,IAAI,SAAS,GAAG,CAAC,QAAQ,CAAC;QAC1B,gCAAgC;QAChC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAC3C,wEAAG,CAAE,WAAC,IAAI,WAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,CAC9C,8EAAS,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC;QAC1C,oDAAoD;QACpD,uBAAuB;QACvB,2CAA2C;QAC3C,MAAM;QACN,2EAAM,CAAC,6DAAE,CAAC,EAAC,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,QAAQ,EAAE,OAAO,EAAE,CAAC,QAAQ,EAAC,CAAC,CAAC,CACjF,EAPS,CAOT,CAAC,EACF,8EAAS,EAAE;QACX,wBAAwB;QACxB,mFAAc,CAAC,IAAI,CAAC,mBAAmB,EAAE,UAAC,MAAM,EAAE,MAAM;YACtD,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,gBAAgB,GAAG,EAAC,IAAI,EAAE,MAAM,CAAC,SAAS,EAAE,CAAC,EAAE,MAAM,CAAC,OAAO,EAAC,CAAC;YACtE,CAAC;YACD,MAAM,CAAC,CAAC,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;QAC5E,CAAC,CAAC,CACH,CAAC,SAAS,CAAE,aAAG;YACd,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;gBAChB,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBAC9H,2FAA2F;gBAC3F,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAC1C,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;gBACrB,CAAC;gBACD,SAAS,GAAG,CAAC,QAAQ,CAAC;YACxB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACxC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC9C,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,CAAC;wBACrC,SAAS,GAAG,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;wBACvF,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,SAAS,GAAG,SAAS,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;oBAChE,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAW,GAAX;QACE,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;QAC5B,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;IAC9B,CAAC;IAED,0CAAc,GAAd,UAAe,EAAE;QACf,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;IAC3B,CAAC;IA9EQ;QAAR,2DAAK,EAAE;;oDAA+B;IAE7B;QAAT,4DAAM,EAAE;;qDAA6B;IAC5B;QAAT,4DAAM,EAAE;;2DAAmC;IAJjC,iBAAiB;QAL7B,+DAAS,CAAC;YACT,QAAQ,EAAE,cAAc;;;SAGzB,CAAC;yCAyBmC,sEAAa,EAAqB,6EAAgB;OAxB1E,iBAAiB,CAiF7B;IAAD,wBAAC;CAAA;AAjF6B;;;;;;;;;;;;ACZ9B,8BAA8B,oBAAoB,2BAA2B,mCAAmC,+BAA+B,qBAAqB,yBAAyB,qBAAqB,KAAK,yBAAyB,4BAA4B,yBAAyB,6BAA6B,sBAAsB,4CAA4C,iDAAiD,+BAA+B,oCAAoC,sDAAsD,KAAK,qBAAqB,wBAAwB,2BAA2B,6BAA6B,oBAAoB,0BAA0B,sBAAsB,2BAA2B,qBAAqB,4BAA4B,wBAAwB,2BAA2B,0BAA0B,yBAAyB,qBAAqB,KAAK,mBAAmB,wBAAwB,2BAA2B,2BAA2B,sBAAsB,iBAAiB,mBAAmB,2BAA2B,uBAAuB,wBAAwB,oBAAoB,4BAA4B,4BAA4B,oBAAoB,qBAAqB,2BAA2B,uCAAuC,uCAAuC,KAAK,K;;;;;;;;;;;ACAh3C,oqDAAoqD,qCAAqC,0B;;;;;;;;;;;;;;;;;;;;;;;;;ACA/oD;AACoC;AAO9F;IAaE,kCAAmB,SAA2B,EAAU,KAAa;QAAlD,cAAS,GAAT,SAAS,CAAkB;QAAU,UAAK,GAAL,KAAK,CAAQ;QAXrE,YAAO,GAAG,2EAAO,CAAC;QAClB,YAAO,GAAG,gFAAY,CAAC;QACf,YAAO,GAAG,gFAAY,CAAC,IAAI,CAAC;IASqC,CAAC;IAR1E,sBAAW,4CAAM;aAAjB;YACE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACtB,CAAC;aACD,UAAkB,CAAe;YAC/B,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACtC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACnB,CAAC;;;OAJA;IAQD,2CAAQ,GAAR;IACA,CAAC;IAED,yCAAM,GAAN;QAAA,iBAIC;QAHC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAE;YACd,KAAI,CAAC,MAAM,GAAG,gFAAY,CAAC,IAAI,CAAC;QAClC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,0CAAO,GAAP;QAAA,iBAIC;QAHC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAE;YACd,KAAI,CAAC,MAAM,GAAG,gFAAY,CAAC,KAAK,CAAC;QACnC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sDAAmB,GAAnB,UAAoB,EAAc,EAAE,IAAa;QAC/C,iGAAiG;QACjG,uCAAuC;QACvC,IAAM,MAAM,GAAG,IAAI,CAAC;QACpB,IAAM,IAAI,GAAG,MAAM,CAAC,qBAAqB,EAAE,CAAC;QAC5C,IAAM,MAAM,GAAG,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;QACtC,wCAAwC;QACxC,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,MAAM,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;QACxE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/B,CAAC;IAvCU,wBAAwB;QALpC,+DAAS,CAAC;YACT,QAAQ,EAAE,uBAAuB;;;SAGlC,CAAC;yCAc8B,oFAAgB,EAAiB,oDAAM;OAb1D,wBAAwB,CAwCpC;IAAD,+BAAC;CAAA;AAxCoC;;;;;;;;;;;;ACRrC,8BAA8B,2BAA2B,oBAAoB,qBAAqB,0BAA0B,sBAAsB,kCAAkC,uCAAuC,oCAAoC,yCAAyC,qDAAqD,KAAK,eAAe,wBAAwB,2BAA2B,wBAAwB,yCAAyC,qCAAqC,kCAAkC,uCAAuC,uCAAuC,4CAA4C,yFAAyF,4BAA4B,8BAA8B,KAAK,kBAAkB,wBAAwB,2BAA2B,2BAA2B,0BAA0B,sBAAsB,8BAA8B,uCAAuC,mBAAmB,KAAK,oBAAoB,wBAAwB,2BAA2B,6BAA6B,mBAAmB,KAAK,oBAAoB,wBAAwB,2BAA2B,6BAA6B,mBAAmB,qBAAqB,6BAA6B,0BAA0B,sBAAsB,KAAK,sBAAsB,sBAAsB,4BAA4B,4BAA4B,gCAAgC,oBAAoB,KAAK,iBAAiB,wBAAwB,2BAA2B,0BAA0B,8BAA8B,0BAA0B,wCAAwC,iDAAiD,oCAAoC,4BAA4B,4BAA4B,KAAK,oBAAoB,wBAAwB,oBAAoB,2BAA2B,uBAAuB,KAAK,uBAAuB,wBAAwB,oBAAoB,2BAA2B,uBAAuB,oBAAoB,KAAK,qBAAqB,wBAAwB,oBAAoB,2BAA2B,uBAAuB,oBAAoB,KAAK,qCAAqC,mBAAmB,mBAAmB,2BAA2B,wBAAwB,oBAAoB,KAAK,iBAAiB,2BAA2B,gCAAgC,yBAAyB,KAAK,mBAAmB,2BAA2B,uBAAuB,sCAAsC,iCAAiC,uHAAuH,2BAA2B,qBAAqB,KAAK,kBAAkB,2BAA2B,gCAAgC,yBAAyB,qCAAqC,gCAAgC,KAAK,mBAAmB,qBAAqB,sBAAsB,KAAK,mBAAmB,mCAAmC,sBAAsB,KAAK,iBAAiB,mCAAmC,sBAAsB,KAAK,mBAAmB,2BAA2B,yBAAyB,oBAAoB,qBAAqB,gCAAgC,mBAAmB,2BAA2B,iCAAiC,wBAAwB,8BAA8B,KAAK,iBAAiB,mBAAmB,uHAAuH,qBAAqB,sCAAsC,KAAK,eAAe,sBAAsB,gCAAgC,KAAK,gBAAgB,wBAAwB,2BAA2B,2BAA2B,8BAA8B,oCAAoC,+BAA+B,gCAAgC,sCAAsC,oBAAoB,qBAAqB,mBAAmB,KAAK,C;;;;;;;;;;;ACAplI,i7HAAi7H,uBAAuB,uQAAuQ,wEAAwE,wgBAAwgB,sEAAsE,4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAlwJ;AACL;AACY;AACxC;AACJ;AAC4D;AACtB;AAgCpG;IAyBE,8BAAmB,SAA2B,EAAS,SAAiC,EAC9E,MAAqB;QADZ,cAAS,GAAT,SAAS,CAAkB;QAAS,cAAS,GAAT,SAAS,CAAwB;QAC9E,WAAM,GAAN,MAAM,CAAe;QAxB/B,kBAAa,GAAY,2EAAO,CAAC,WAAW,CAAC;QAC7C,YAAO,GAAG,2EAAO,CAAC;QAElB,iBAAY,GAAG,KAAK,CAAC;QACrB,eAAU,GAAG,KAAK,CAAC;QACnB,aAAQ,GAAG,MAAM,CAAC;QAElB,aAAQ,GAAG,GAAG,CAAC;QAGf,cAAS,GAAG,KAAK,CAAC;QAKlB,wBAAwB;QACxB,oBAAe,GAAG,IAAI,0DAAO,EAAY,CAAC;QAE1C,kBAAa,GAAG,IAAI,0DAAO,EAAW,CAAC;QAEvC,kBAAa,GAAG,IAAI,0DAAO,EAAgB,CAAC;QAC5C,gBAAW,GAAG,IAAI,0DAAO,EAAgB,CAAC;QAoH1C,oBAAe,GAAG,UAAC,SAA2B;YAC5C,MAAM,CAAC,UAAC,CAAS;gBACf,MAAM,CAAC,SAAS,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC;YAC7C,CAAC,CAAC;QACJ,CAAC;IApHC,CAAC;IAEH,uCAAQ,GAAR;QAAA,iBA2BC;QA1BC,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;QAC1C,+DAA+D;QAC/D,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS,CAAC,WAAC;YACvE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACX,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC,CAAC;gBAChC,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,OAAO,KAAK,IAAI,CAAC,CAAC,CAAC;oBAC9E,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC1D,CAAC;YACH,CAAC;QACH,CAAC,CAAC,CAAC;QACH,0CAA0C;QAC1C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAC3D,mEAAY,CAAC,GAAG,CAAC,EACjB,2EAAoB,EAAE,CAAC,CAAC,SAAS,CAAC,aAAG;YACnC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;YAC3E,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;QACnF,CAAC,CAAC,CAAC;QACL,4DAA4D;QAC5D,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS,CAAC,WAAC;YACzE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACX,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,KAAK,IAAI,CAAC,CAAC,CAAC;oBACpD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBAC1D,CAAC;YACH,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,0CAAW,GAAX;QACE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9B,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC5B,CAAC;IAED,8CAAe,GAAf;QAAA,iBAqDC;QApDC,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,WAAC,IAAI,YAAI,CAAC,QAAQ,GAAG,MAAM,EAAtB,CAAsB,CAAC,CAAC;QACxD,2CAA2C;QAC3C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,0DAAG,CAAC,YAAE;YAChE,0EAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAC1B,qEAAc,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,EAC1C,0DAAG,CAAC,UAAC,EAAS;oBAAP,SAAC,EAAG,UAAE;gBAAM,SAAE;YAAF,CAAE,CAAC,EACtB,gEAAS,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CACpC;QAJD,CAIC,CACF,EAAE,gEAAS,EAAE,CAAC;aACd,IAAI,CACH,qEAAc,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,UAAC,EAAE,EAAE,EAAE;YAChD,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YACvE,EAAE,CAAC,CAAC,EAAE,CAAC,OAAO,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC5B,IAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC;gBAC7C,EAAE,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;oBACtB,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;oBACpB,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC;gBACxC,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAE,EAAE,CAAC,OAAO,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;gBACpC,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC;gBAC9C,EAAE,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,IAAI,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC;oBACpC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;oBACpB,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC;gBACxC,CAAC;YACH,CAAC;QACH,CAAC,CAAC,CACH,CAAC,SAAS,EAAE,CAAC;QAEd,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,0DAAG,CAAC,YAAE;YAC9D,0EAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAC1B,qEAAc,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,EAC1C,0DAAG,CAAC,UAAC,EAAS;oBAAP,SAAC,EAAG,UAAE;gBAAM,SAAE;YAAF,CAAE,CAAC,EACtB,gEAAS,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CACpC;QAJD,CAIC,CACF,EAAE,gEAAS,EAAE,CAAC;aACd,IAAI,CACH,qEAAc,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,UAAC,EAAE,EAAE,EAAE;YAChD,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YACvE,EAAE,CAAC,CAAC,EAAE,CAAC,OAAO,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC5B,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,CAAC;gBACzC,EAAE,CAAC,CAAC,GAAG,GAAG,KAAK,CAAC,KAAK,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACvD,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;gBAClB,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAE,EAAE,CAAC,OAAO,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;gBACpC,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,CAAC;gBAC1C,EAAE,CAAC,CAAC,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;oBACtB,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;gBAClB,CAAC;YACH,CAAC;QACH,CAAC,CAAC,CACH,CAAC,SAAS,EAAE,CAAC;IAChB,CAAC;IAED,0CAAW,GAAX;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,KAAK,2EAAO,CAAC,OAAO,CAAC,CAAC,CAAC;YAC3C,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,gFAAY,CAAC,IAAI,CAAC,CAAC;YACtD,IAAI,CAAC,aAAa,GAAG,2EAAO,CAAC,OAAO,CAAC;QACvC,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,KAAK,2EAAO,CAAC,OAAO,CAAC,CAAC,CAAC;YAClD,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,gFAAY,CAAC,KAAK,CAAC,CAAC;YACvD,IAAI,CAAC,aAAa,GAAG,2EAAO,CAAC,MAAM,CAAC;QACtC,CAAC;IACH,CAAC;IAED,+CAAgB,GAAhB,UAAiB,OAAyB;QACxC,OAAO,CAAC,KAAK,EAAE,CAAC;QAChB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IAC3B,CAAC;IAED,6CAAc,GAAd,UAAe,KAAuB;QACpC,KAAK,CAAC,KAAK,EAAE,CAAC;QACd,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IACzB,CAAC;IAQD,iDAAkB,GAAlB,UAAmB,IAAY,EAAE,SAA4B;QAC3D,wCAAwC;QACxC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;YACrC,IAAM,cAAc,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;YACpD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,SAAS,GAAG,cAAc,CAAC;YACpF,cAAc,CAAC,IAAI,GAAG,IAAI,CAAC;YAC3B,cAAc,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC;YAChD,cAAc,CAAC,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC;YAC3C,OAAO,cAAc,CAAC,OAAO,CAAC,CAAC;QACjC,CAAC;QACD,gCAAgC;QAChC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,OAAO,KAAK,IAAI,CAAC,CAAC,CAAC;YAC9E,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;QACtC,CAAC;IACH,CAAC;IAED,4CAAa,GAAb,UAAc,IAAY,EAAE,SAA4B;QACtD,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACvC,CAAC;IAED,2CAAY,GAAZ,UAAa,CAAe;QAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,iBAAiB,KAAK,KAAK,CAAC,CAAC,CAAC;YACrC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;QACzB,CAAC;IACH,CAAC;IAED,gDAAiB,GAAjB,UAAkB,CAAa;QAC7B,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;QACvB,UAAU,CAAC,WAAC,IAAI,WAAI,CAAC,iBAAiB,GAAG,KAAK,EAA9B,CAA8B,EAAE,GAAG,CAAC,CAAC;IACvD,CAAC;IAED,0CAAW,GAAX,UAAY,CAAa;QACvB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IACxB,CAAC;IAED,sDAAuB,GAAvB,UAAwB,MAAkB;QAAlB,mCAAkB;QACxC,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;QACnC,IAAI,SAA4B,CAAC;QACjC,qDAAqD;QACrD,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC;YAC/C,SAAS,GAAG,IAAI,oFAAiB,EAAE,CAAC;YACpC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC;QAC7C,CAAC;QACD,kDAAkD;QAClD,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC;QAC9D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,wBAAwB,CAAC,SAAS,CAAC,CAAC;IACtE,CAAC;IApMU,oBAAoB;QA9BhC,+DAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;;;YAG7B,UAAU,EAAE;gBACV,gFAAO,CAAC,aAAa,EAAE;oBACrB,mFAAU,CAAC,QAAQ,EAAE;wBACnB,8EAAK,CAAC,EAAC,SAAS,EAAE,mBAAmB,EAAC,CAAC;wBACvC,gFAAO,CAAC,mBAAmB,EAAE,8EAAK,CAAC,EAAC,SAAS,EAAE,eAAe,EAAC,CAAC,CAAC;qBAClE,CAAC;iBACH,CAAC;gBACF,gFAAO,CAAC,UAAU,EAAE;oBAClB,8EAAK,CAAC,IAAI,EAAE,8EAAK,CAAC,EAAC,SAAS,EAAE,eAAe,EAAE,OAAO,EAAE,CAAC,EAAC,CAAC,CAAC;oBAC5D,8EAAK,CAAC,KAAK,EAAE,8EAAK,CAAC,EAAC,SAAS,EAAE,kBAAkB,EAAE,OAAO,EAAE,CAAC,EAAC,CAAC,CAAC;oBAChE,mFAAU,CAAC,WAAW,EAAE;wBACtB,8EAAK,CAAC,EAAC,SAAS,EAAE,kBAAkB,EAAE,OAAO,EAAE,CAAC,EAAC,CAAC;wBAClD,gFAAO,CAAC,mBAAmB,EAAE,8EAAK,CAAC,EAAC,SAAS,EAAE,eAAe,EAAE,OAAO,EAAE,CAAC,EAAC,CAAC,CAAC;qBAC9E,CAAC;oBACF,mFAAU,CAAC,WAAW,EAAE;wBACtB,gFAAO,CAAC,oBAAoB,EAAE,8EAAK,CAAC,EAAC,SAAS,EAAE,kBAAkB,EAAE,OAAO,EAAE,CAAC,EAAC,CAAC,CAAC;qBAClF,CAAC;iBACH,CAAC;gBACF,gFAAO,CAAC,UAAU,EAAE;oBAClB,8EAAK,CAAC,MAAM,EAAE,8EAAK,CAAC,EAAC,OAAO,EAAE,CAAC,EAAC,CAAC,CAAC;oBAClC,8EAAK,CAAC,MAAM,EAAE,8EAAK,CAAC,EAAC,OAAO,EAAE,CAAC,EAAC,CAAC,CAAC;oBAClC,mFAAU,CAAC,cAAc,EAAE,CAAC,gFAAO,CAAC,mBAAmB,EAAE,8EAAK,CAAC,EAAC,OAAO,EAAE,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC;oBAC/E,mFAAU,CAAC,cAAc,EAAE,CAAC,gFAAO,CAAC,gBAAgB,EAAE,8EAAK,CAAC,EAAC,OAAO,EAAE,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC;iBAC7E,CAAC;aACH;SACF,CAAC;yCA0B8B,oFAAgB,EAAoB,yFAAsB;YACtE,sEAAa;OA1BpB,oBAAoB,CAqMhC;IAAD,2BAAC;CAAA;AArMgC;;;;;;;;;;;;ACtCjC,8BAA8B,sBAAsB,KAAK,gBAAgB,yBAAyB,KAAK,wBAAwB,qBAAqB,0BAA0B,yBAAyB,wBAAwB,KAAK,gBAAgB,uCAAuC,uCAAuC,sCAAsC,sCAAsC,oDAAoD,oDAAoD,KAAK,kCAAkC,YAAY,yBAAyB,SAAS,KAAK,0BAA0B,YAAY,yBAAyB,SAAS,KAAK,C;;;;;;;;;;;ACA7pB,4bAA4b,eAAe,iR;;;;;;;;;;;;;;;;;;;;;;;;;;ACAzZ;AACmB;AAC3B;AAO1C;IAEE,qCAAmB,SAA2B;QAA3B,cAAS,GAAT,SAAS,CAAkB;IAAI,CAAC;IAEnD,8CAAQ,GAAR;IACA,CAAC;IAED,gDAAU,GAAV;QACE,IAAM,KAAK,GAAG,IAAI,kDAAM,EAAE,CAAC;QAC3B,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC;QACzC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC;QAC7B,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;QACnB,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC;QAChC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC1C,CAAC;IAED,mDAAa,GAAb,UAAc,CAAS;QACrB,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC;QAC3C,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACpB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/B,CAAC;IAED,kDAAY,GAAZ,UAAa,CAAS;QACpB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;QAC5B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACX,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;QACjE,CAAC;QACD,OAAO,CAAC,GAAG,CAAI,CAAC,oEAAiE,CAAC,CAAC;IACrF,CAAC;IA5BU,2BAA2B;QALvC,+DAAS,CAAC;YACT,QAAQ,EAAE,0BAA0B;;;SAGrC,CAAC;yCAG8B,6EAAgB;OAFnC,2BAA2B,CA6BvC;IAAD,kCAAC;CAAA;AA7BuC;;;;;;;;;;;;ACTxC,wBAAwB,qBAAqB,oBAAoB,wBAAwB,0CAA0C,0KAA0K,oCAAoC,KAAK,8BAA8B,oBAAoB,yBAAyB,C;;;;;;;;;;;ACAja,sPAAsP,uR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA1J;AACE;AAC5B;AACR;AAC0B;AAEJ;AACzB;AAEO;AAO9D;IA0BE,yBAAmB,SAA2B,EAAU,SAAyB,EACvE,UAA0B,EAAU,MAAc,EAAU,MAAqB;QADxE,cAAS,GAAT,SAAS,CAAkB;QAAU,cAAS,GAAT,SAAS,CAAgB;QACvE,eAAU,GAAV,UAAU,CAAgB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,WAAM,GAAN,MAAM,CAAe;QAzB3F,UAAK,GAAG,+DAAU,CAAC;QACnB,iBAAY,GAAG,IAAI,4CAAO,EAAW,CAAC;QAoBtC,aAAQ,GAAG,KAAK,CAAC;QACjB,gBAAW,GAAG,GAAG,CAAC;IAIlB,CAAC;IApBD,sBAAW,kCAAK;aAAhB;YACE,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;QACrB,CAAC;aACD,UAAiB,CAAS;YACxB,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;YACpD,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAClB,CAAC;;;OAJA;IAoBD,kCAAQ,GAAR;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;QAC3C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC;QAC/C,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,wIAAwI;QACxI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,KAAK,2EAAO,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;YACnF,IAAI,CAAC,MAAM,EAAE,CAAC;YACd,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACvB,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,IAAI,OAAO,CAAC,UAAU,KAAK,KAAK,CAAC,CAAC,CAAC;YAC1D,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC;QACpD,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,2EAAO,CAAC,WAAW,CAAC;IAC7C,CAAC;IAED,qCAAW,GAAX;QACE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7B,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;IAC/B,CAAC;IAED,wCAAc,GAAd;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC;QAC3C,EAAE,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;YACpC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC,CAAC;gBAC1E,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC;YAClD,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,MAAM,CAAC,CAAC,CAAC,CAAC;YACZ,CAAC;QACH,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;QACnC,CAAC;IACH,CAAC;IAED,wCAAc,GAAd;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,uBAAuB;QACvB,IAAI,CAAC,SAAS,CAAC,cAAc;aAC5B,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAClC,SAAS,CAAC,UAAC,CAAC;YACX,EAAE,CAAC,CAAC,CAAC,KAAK,2EAAO,CAAC,cAAc,CAAC,CAAC,CAAC;gBACjC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,KAAK,CAAC,CAAC,CAAC;oBAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAAC,CAAC;gBACrD,IAAI,CAAC,MAAM,EAAE,CAAC;YAChB,CAAC;QACH,CAAC,CAAC,CAAC;QACH,uCAAuC;QACvC,IAAI,CAAC,SAAS,CAAC,oBAAoB,GAAG,qDAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;aAC/D,IAAI,CACH,0DAAG,CAAC,WAAC,IAAI,WAAI,CAAC,cAAc,EAAE,EAArB,CAAqB,CAAC,EAC/B,2EAAoB,EAAE,EACtB,4DAAK,EAAE,CACR,CAAC;QACF,IAAI,CAAC,SAAS,CAAC,oBAAoB;aAClC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAClC,SAAS,CAAC,WAAC;YACV,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,CAAC,CAAC;YAC/B,kBAAkB;QACpB,CAAC,CAAC,CAAC;QAEH,IAAI,aAAa,GAAG,KAAK,CAAC,CAAC,kFAAkF;QAC7G,IAAI,WAAW,GAAG,KAAK,CAAC;QACxB,gDAAgD;QAChD,IAAI,CAAC,SAAS,CAAC,oBAAoB;aAClC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAClC,SAAS,CAAC,WAAC;YACV,IAAI,CAAC;gBACH,IAAI,OAAK,GAAG,CAAC,CAAC;gBACd,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,GAAG,CAAC;gBACxC,IAAM,QAAM,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC;gBAC3C,EAAE,CAAC,CAAC,QAAM,IAAI,CAAC,CAAC,CAAC,CAAC;oBAChB,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,QAAM,CAAC,CAAC;oBAClD,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;wBACZ,OAAK,GAAG,KAAK,CAAC,KAAK,CAAC;wBACpB,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC;oBAClB,CAAC;gBACH,CAAC;gBACD,EAAE,CAAC,CAAC,CAAC,GAAG,OAAK,CAAC,CAAC,CAAC;oBACd,EAAE,CAAC,CAAC,aAAa,KAAK,KAAK,CAAC,CAAC,CAAC;wBAC5B,aAAa,GAAG,IAAI,CAAC;wBACrB,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,OAAK,CAAC;oBAClC,CAAC;gBACH,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;oBACjD,EAAE,CAAC,CAAC,WAAW,KAAK,KAAK,CAAC,CAAC,CAAC;wBAC1B,WAAW,GAAG,IAAI,CAAC;wBACnB,UAAU,CAAC;4BACT,WAAW,GAAG,KAAK,CAAC;4BACpB,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,OAAK,CAAC;4BAChC,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,KAAK,KAAK,CAAC,CAAC,CAAC;gCACtC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,gFAAY,CAAC,KAAK,CAAC,CAAC;4BACzD,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACN,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,QAAM,CAAC,CAAC;4BAC3C,CAAC;wBACH,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;oBACvB,CAAC;gBACH,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,EAAE,CAAC,CAAC,aAAa,KAAK,IAAI,CAAC,CAAC,CAAC;wBAC3B,aAAa,GAAG,KAAK,CAAC;oBACxB,CAAC;gBACH,CAAC;YACH,CAAC;YAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACf,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YACvB,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,gEAAgE;QAChE,sDAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,gBAAgB,CAAC;aAEzC,IAAI,CAAE,gEAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aACnC,SAAS,CAAC,WAAC;YACV,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;YACjD,IAAI,CAAC,SAAS,CAAC,sBAAsB,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1E,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,OAAO;aACrB,IAAI,CAAE,gEAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aACnC,SAAS,CAAC,WAAC;YACV,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;YAChE,IAAI,CAAC,SAAS,CAAC,sBAAsB,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,yBAAyB,EAAE,CAAC;QAC9F,CAAC,CAAC,CAAC;QAEH,qBAAqB;QACrB,IAAI,CAAC,SAAS,CAAC,cAAc;aAC5B,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAClC,SAAS,CAAC,UAAC,CAAC;YACX,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC;YAC3C,EAAE,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC5D,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACV,KAAK,gFAAY,CAAC,IAAI;wBACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;wBACrB,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,KAAK;wBACvB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;wBACtB,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,IAAI;wBACtB,IAAI,CAAC,QAAQ,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;wBACpD,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,WAAW;wBAC7B,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;wBACjD,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,SAAS;wBAC3B,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;wBAC9C,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,SAAS;wBAC3B,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;wBAC7C,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,eAAe;wBACjC,IAAI,CAAC,SAAS,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;wBAC1D,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,eAAe;wBACjC,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC;wBACzD,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,sBAAsB;wBACxC,IAAI,CAAC,SAAS,CAAC,sBAAsB,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;wBACxE,KAAK,CAAC;oBACN;wBACA,KAAK,CAAC;gBACR,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC3C,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;gBACzC,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,KAAK,KAAK,CAAC,CAAC,CAAC;oBAAA,MAAM,CAAC;gBAAC,CAAC;gBACpC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACV,KAAK,gFAAY,CAAC,IAAI;wBACtB,QAAQ,CAAC,SAAS,EAAE,CAAC;wBACrB,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,KAAK;wBACvB,QAAQ,CAAC,UAAU,EAAE,CAAC;wBACtB,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,IAAI;wBACtB,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;4BACtB,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;wBACjD,CAAC;wBACD,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,WAAW;wBAC7B,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC;4BACzC,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;wBACnD,CAAC;wBACD,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,SAAS;wBAC3B,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,QAAQ,CAAC,SAAS,EAAE,GAAG,GAAG,CAAC;wBACpD,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,SAAS;wBAC3B,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC;wBAChD,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,eAAe;wBACjC,IAAI,CAAC,SAAS,CAAC,aAAa,GAAG,QAAQ,CAAC,eAAe,EAAE,CAAC;wBAC1D,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,eAAe;wBACjC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;wBACtD,KAAK,CAAC;oBACN,KAAK,gFAAY,CAAC,sBAAsB;wBACxC,IAAI,CAAC,SAAS,CAAC,sBAAsB,GAAG,QAAQ,CAAC,yBAAyB,EAAE,CAAC;wBAC7E,KAAK,CAAC;oBACN;wBACA,KAAK,CAAC;gBACR,CAAC;YACH,CAAC;QACH,CAAC,CAAC,CAAC;QACH,+CAA+C;QAC/C,IAAI,CAAC,SAAS,CAAC,aAAa;aAC3B,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAClC,SAAS,CAAE,UAAC,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBACd,MAAM,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;oBAChB,KAAK,EAAE,CAAC,WAAW,CAAC,OAAO;wBACzB,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,2EAAO,CAAC,OAAO,CAAC;wBACvC,KAAK,CAAC;oBACR,KAAK,EAAE,CAAC,WAAW,CAAC,MAAM;wBACxB,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,2EAAO,CAAC,MAAM,CAAC;wBACtC,KAAK,CAAC;oBACR,KAAK,EAAE,CAAC,WAAW,CAAC,KAAK;wBACvB,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,2EAAO,CAAC,OAAO,CAAC;wBACvC,KAAK,CAAC;oBACR;wBACE,KAAK,CAAC;gBACV,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QACH,yCAAyC;QACzC,IAAI,CAAC,SAAS,CAAC,OAAO;aACrB,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aAClC,SAAS,CAAE,UAAC,EAAE;YACb,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC1C,IAAM,IAAI,GAAI,IAAI,CAAC,SAAS,CAAC,QAAgB,CAAC,YAAY,EAAE,CAAC;gBAC7D,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC3B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;gBACzC,CAAC;YACH,CAAC;YACD,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,2EAAO,CAAC,OAAO,CAAC;QACzC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAa,GAAb;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,2CAA2C;QAC3C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,UAAC,EAAE;YAC3B,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,2EAAO,CAAC,OAAO,CAAC;QACzC,CAAC,CAAC;QACF,yCAAyC;QACzC,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,UAAC,EAAE;YACzB,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,2EAAO,CAAC,KAAK,CAAC;QACvC,CAAC,CAAC;QACF,2CAA2C;QAC3C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,UAAC,EAAE;YAC3B,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,2EAAO,CAAC,OAAO,CAAC;QACzC,CAAC,CAAC;QACF,2CAA2C;QAC3C,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,UAAC,EAAE;YACxB,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,2EAAO,CAAC,OAAO,CAAC;QACzC,CAAC,CAAC;QACF,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,UAAC,EAAE;YAC3B,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,2EAAO,CAAC,OAAO,CAAC;QACzC,CAAC,CAAC;QACF,0CAA0C;QAC1C,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,UAAC,EAAE;YACzB,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,2EAAO,CAAC,MAAM,CAAC;QACxC,CAAC,CAAC;QACF,2CAA2C;QAC3C,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,UAAC,EAAE;YACzB,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,2EAAO,CAAC,OAAO,CAAC;QACzC,CAAC,CAAC;QACF,+DAA+D;IACjE,CAAC;IAED,gCAAM,GAAN;QACE,uBAAuB;QACvB,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC;QAC3C,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC;QAC7C,EAAE,CAAC,CAAC,MAAM,KAAM,+DAAU,CAAC,GAAG,CAAC,CAAC,CAAC;YAC/B,EAAE,CAAC,CAAC,+EAAc,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBACzC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,+DAAU,CAAC,SAAS,CAAC;gBACnD,IAAI,CAAC,KAAK,GAAG,+EAAc,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAC/C,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YAC1B,CAAC;QACH,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,KAAK,+DAAU,CAAC,SAAS,CAAC,CAAC,CAAC;YAC3C,EAAE,CAAC,CAAC,+EAAc,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBACzC,IAAI,CAAC,KAAK,GAAG,+EAAc,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAC/C,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;YACvB,CAAC;QACH,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,KAAK,+DAAU,CAAC,IAAI,CAAC,CAAC,CAAC;YACtC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QAC1B,CAAC;IACH,CAAC;IAED,4CAAkB,GAAlB,UAAmB,EAAc;QAC/B,EAAE,CAAC,cAAc,EAAE,CAAC;QACpB,IAAM,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;QACnC,EAAE,CAAC,CAAC,KAAK,KAAK,2EAAO,CAAC,MAAM,IAAI,KAAK,KAAK,2EAAO,CAAC,cAAc,IAAI,KAAK,KAAK,2EAAO,CAAC,OAAO,CAAC,CAAC,CAAC;YAC9F,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,gFAAY,CAAC,IAAI,CAAC,CAAC;QACxD,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,gFAAY,CAAC,KAAK,CAAC,CAAC;QACzD,CAAC;IACH,CAAC;IAnTD;QADC,+DAAS,CAAC,OAAO,CAAC;kCACV,wDAAU;oDAAC;IAIpB;QADC,+DAAS,CAAC,SAAS,CAAC;kCACV,wDAAU;sDAAC;IArBX,eAAe;QAL3B,+DAAS,CAAC;YACT,QAAQ,EAAE,YAAY;;;SAGvB,CAAC;yCA2B8B,oFAAgB,EAAqB,+EAAc;YAC3D,+EAAc,EAAkB,oDAAM,EAAkB,sEAAa;OA3BhF,eAAe,CAqU3B;IAAD,sBAAC;CAAA;AArU2B;;;;;;;;;;;;AChB5B,0BAA0B,2BAA2B,iBAAiB,KAAK,6CAA6C,gCAAgC,sBAAsB,wBAAwB,KAAK,mBAAmB,uBAAuB,KAAK,K;;;;;;;;;;;ACA1P,gXAAgX,oKAAoK,YAAY,8TAA8T,uBAAuB,mWAAmW,uBAAuB,kWAAkW,uBAAuB,kJ;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAzhD;AACqB;AAC/B;AAC7B;AAOxC;IAWE,qCAAmB,SAAiC,EAAS,UAA4B;QAAtE,cAAS,GAAT,SAAS,CAAwB;QAAS,eAAU,GAAV,UAAU,CAAkB;QAT/E,UAAK,GAAG,IAAI,0DAAY,EAAE,CAAC;QAE3B,WAAM,GAAoC,IAAI,0DAAY,EAAE,CAAC;QAQrE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,oFAAiB,EAAE,CAAC;QAC3C,CAAC;IACH,CAAC;IAED,8CAAQ,GAAR;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,6DAAM,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,WAAC;YAC5E,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,SAAS,CAAC;QAC3C,CAAC,CAAC,CAAC;IACL,CAAC;IApBS;QAAT,4DAAM,EAAE;;8DAA4B;IAE3B;QAAT,4DAAM,EAAE;kCAAS,0DAAY;+DAAyC;IAC9D;QAAR,2DAAK,EAAE;kCAAY,oFAAiB;kEAAC;IAL3B,2BAA2B;QALvC,+DAAS,CAAC;YACT,QAAQ,EAAE,0BAA0B;;;SAGrC,CAAC;yCAY8B,yFAAsB,EAAqB,6EAAgB;OAX9E,2BAA2B,CAuBvC;IAAD,kCAAC;CAAA;AAvBuC;;;;;;;;;;;;ACVxC,kCAAkC,iCAAiC,6BAA6B,kCAAkC,uCAAuC,+BAA+B,oCAAoC,0CAA0C,KAAK,gBAAgB,2BAA2B,KAAK,6BAA6B,wBAAwB,2BAA2B,0BAA0B,0BAA0B,oBAAoB,QAAQ,gBAAgB,8BAA8B,qBAAqB,KAAK,C;;;;;;;;;;;ACAnjB,oeAAoe,OAAO,oC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAjZ;AACzC;AACa;AACqB;AAOnF;IA8BE,2BAAoB,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;QAvBvC,OAAE,GAAG,CAAC,CAAC;QAEN,WAAM,GAAG,IAAI,0DAAY,EAAE,CAAC;QAC5B,iBAAY,GAAG,IAAI,0DAAY,EAAE,CAAC;QAG5C,aAAQ,GAAG,GAAG,CAAC;QAEP,qBAAgB,GAAG,EAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC;QACnC,qBAAgB,GAAG,EAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC,CAAC;QAM3C,iBAAiB;QACP,wBAAmB,GAAG,IAAI,4CAAO,EAAgB,CAAC;QAClD,sBAAiB,GAAG,IAAI,4CAAO,EAAgB,CAAC;IAMN,CAAC;IAJrD,gDAAoB,GAApB,UAAqB,EAAgB;QACnC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACpC,CAAC;IAID,oCAAQ,GAAR;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,iBAAiB;QACjB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,CAAC,YAAE,IAAI,WAAI,CAAC,gBAAgB,GAAG,EAAC,IAAI,EAAE,EAAE,CAAC,SAAS,EAAE,CAAC,EAAE,EAAE,CAAC,OAAO,EAAC,EAA3D,CAA2D,CAAC,CAAC;QACtH,gCAAgC;QAChC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAC3C,0DAAG,CAAE,WAAC,IAAI,WAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,CAC9C,gEAAS,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EAC1C,6DAAM,CAAC,+CAAE,CAAC,EAAC,SAAS,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,IAAI,EAAC,CAAC,CAAC,CACzD,EAHS,CAGT,CAAC,EACF,gEAAS,EAAE;QACX,wBAAwB;QACxB,qEAAc,CAAC,IAAI,CAAC,mBAAmB,EAAE,UAAC,MAAM,EAAE,MAAM;YACtD,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,gBAAgB,GAAG,EAAC,IAAI,EAAE,MAAM,CAAC,SAAS,EAAE,CAAC,EAAE,MAAM,CAAC,OAAO,EAAC,CAAC;YACtE,CAAC;YACD,MAAM,CAAC,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;QACzC,CAAC,CAAC,CACH,CAAC,SAAS,CAAE,YAAE;YACb,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;gBACf,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;gBAChB,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBAC9H,2FAA2F;gBAC3F,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAC1C,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;gBACrB,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YACtC,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAW,GAAX;QACE,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;QAC5B,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;IAC9B,CAAC;IAED,sCAAU,GAAV,UAAW,EAAE;QACX,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACrC,CAAC;IAtEQ;QAAR,2DAAK,EAAE;;oDAAe;IAEd;QAAR,2DAAK,EAAE;;iDAAY;IACX;QAAR,2DAAK,EAAE;;iDAAY;IACX;QAAR,2DAAK,EAAE;;iDAAY;IACX;QAAR,2DAAK,EAAE;;iDAAQ;IAEN;QAAT,4DAAM,EAAE;;qDAA6B;IAC5B;QAAT,4DAAM,EAAE;;2DAAmC;IAVjC,iBAAiB;QAL7B,+DAAS,CAAC;YACT,QAAQ,EAAE,eAAe;;;SAG1B,CAAC;yCA+BmC,sEAAa;OA9BrC,iBAAiB,CAyE7B;IAAD,wBAAC;CAAA;AAzE6B;;;;;;;;;;;;ACV9B,+BAA+B,oBAAoB,KAAK,kBAAkB,sBAAsB,gCAAgC,KAAK,C;;;;;;;;;;;ACArI,0TAA0T,uBAAuB,8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAvR;AACQ;AACA;AAC1B;AAOxC;IAME,yBAAmB,UAA4B,EACtC,SAAwC,EACf,IAAgB;QAF/B,eAAU,GAAV,UAAU,CAAkB;QACtC,cAAS,GAAT,SAAS,CAA+B;QACf,SAAI,GAAJ,IAAI,CAAY;QANlD,eAAU,GAAG,UAAU,CAAC;IAM8B,CAAC;IAEvD,kCAAQ,GAAR;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,6DAAM,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,WAAC;YAC5E,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC;QAC5C,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mCAAS,GAAT;QACE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACtC,CAAC;IAnBU,eAAe;QAL3B,+DAAS,CAAC;YACT,QAAQ,EAAE,YAAY;;;SAGvB,CAAC;QASG,uEAAM,CAAC,iEAAe,CAAC;yCAFK,6EAAgB;YAC3B,8DAAY;OAPrB,eAAe,CAoB3B;IAAD,sBAAC;CAAA;AApB2B;AAsB5B,IAAY,UAEX;AAFD,WAAY,UAAU;IACpB,mDAAY;AACd,CAAC,EAFW,UAAU,KAAV,UAAU,QAErB;;;;;;;;;;;;AClCD,6BAA6B,8BAA8B,qBAAqB,uCAAuC,KAAK,cAAc,iCAAiC,oBAAoB,uCAAuC,KAAK,cAAc,oCAAoC,qBAAqB,uCAAuC,KAAK,C;;;;;;;;;;;ACA9V,mT;;;;;;;;;;;;;;;;;;;;;;;;;;ACAkD;AACqC;AACjC;AAOtD;IAIE,0BAAoB,cAAmD,EAC7D,UAA0B;QADhB,mBAAc,GAAd,cAAc,CAAqC;QAC7D,eAAU,GAAV,UAAU,CAAgB;QAFpC,YAAO,GAAG,sEAAY,CAAC;IAEiB,CAAC;IAEzC,mCAAQ,GAAR,UAAS,GAAgB;QAAhB,8BAAgB;QACvB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,CAAC;IACjD,CAAC;IAED,mCAAQ,GAAR;IACA,CAAC;IAZU,gBAAgB;QAL5B,+DAAS,CAAC;YACT,QAAQ,EAAE,aAAa;;;SAGxB,CAAC;yCAKoC,mEAAiB;YAC/B,wEAAc;OALzB,gBAAgB,CAc5B;IAAD,uBAAC;CAAA;AAd4B;;;;;;;;;;;;ACT7B,sBAAsB,sBAAsB,4BAA4B,0BAA0B,4BAA4B,KAAK,qBAAqB,qBAAqB,2BAA2B,yBAAyB,KAAK,mBAAmB,oCAAoC,KAAK,C;;;;;;;;;;;ACAlS,0lBAA0lB,uBAAuB,oiBAAoiB,WAAW,iC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAhlC;AACL;AACxB;AACa;AACb;AAC8B;AAE9B;AAEe;AAOlE;IAOE,yBAAoB,WAA2B,EAAW,MAAc,EAC9D,EAAa,EAAU,SAAoB,EAAS,SAA2B,EAChF,UAA0B,EAAS,UAA4B;QAFpD,gBAAW,GAAX,WAAW,CAAgB;QAAW,WAAM,GAAN,MAAM,CAAQ;QAC9D,OAAE,GAAF,EAAE,CAAW;QAAU,cAAS,GAAT,SAAS,CAAW;QAAS,cAAS,GAAT,SAAS,CAAkB;QAChF,eAAU,GAAV,UAAU,CAAgB;QAAS,eAAU,GAAV,UAAU,CAAkB;QAP9D,wBAAmB,GAAG,IAAI,0DAAY,EAAc,CAAC;QAE/D,eAAU,GAAG,CAAC,CAAC;QACf,mBAAc,GAAG,0EAAa,CAAC;QAK7B,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC,UAAU,EAAE,CAAC;QAC1C,UAAU,CAAC,WAAW,CAAC,SAAS,CAC9B,UAAC,CAAC;YACA,EAAE,CAAC,CAAC,UAAU,CAAC,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC;gBAAA,MAAM,CAAC;YAAC,CAAC;YAC5C,IAAM,QAAQ,GAAG,oDAAM,CAAC,eAAe,EAAE,CAAC;YAC1C,IAAM,MAAM,GAAG,cAAQ,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9C,EAAE,CAAC,CAAC,QAAQ,KAAK,KAAK,CAAC,CAAC,CAAC;gBACvB,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACrB,CAAC;YAAC,IAAI,CAAC,CAAC;gBAAA,MAAM,EAAE,CAAC;YAAC,CAAC;QACrB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,kCAAQ,GAAR;IACA,CAAC;IAED,0CAAgB,GAAhB;QACE,IAAM,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,2EAAgB,CAAC,CAAC;QACpD,GAAG,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;IAC1B,CAAC;IA3BS;QAAT,4DAAM,EAAE;;gEAAsD;IAFpD,eAAe;QAL3B,+DAAS,CAAC;YACT,QAAQ,EAAE,YAAY;;;SAGvB,CAAC;yCAQiC,gEAAc,EAAmB,oDAAM;YAC1D,8DAAS,EAAqB,8DAAS,EAAoB,6EAAgB;YACpE,wEAAc,EAAqB,6EAAgB;OAT7D,eAAe,CA8B3B;IAAD,sBAAC;CAAA;AA9B2B;;;;;;;;;;;;AChB5B,sCAAsC,sBAAsB,KAAK,qBAAqB,oBAAoB,uBAAuB,KAAK,mBAAmB,8BAA8B,sBAAsB,4BAA4B,uBAAuB,wBAAwB,KAAK,sBAAsB,mBAAmB,KAAK,0BAA0B,sBAAsB,wCAAwC,sBAAsB,gCAAgC,yCAAyC,KAAK,qBAAqB,yBAAyB,2BAA2B,KAAK,C;;;;;;;;;;;ACArlB,yVAAyV,yBAAyB,sBAAsB,6WAA6W,uBAAuB,mIAAmI,mCAAmC,4c;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAv0B;AAC3C;AACoB;AACtC;AAC8B;AACtB;AACL;AAEkB;AAEb;AACwB;AACvB;AACa;AACC;AACA;AAOrE;IAiBE,uBAAmB,EAAa,EAAS,MAAiB,EAAS,SAA2B,EACpF,SAA2B,EAAU,EAAa,EAClD,MAAc,EAAU,EAAa,EACnC,GAAmB,EAAU,SAA2B,EAC1D,SAA2B;QAJlB,OAAE,GAAF,EAAE,CAAW;QAAS,WAAM,GAAN,MAAM,CAAW;QAAS,cAAS,GAAT,SAAS,CAAkB;QACpF,cAAS,GAAT,SAAS,CAAkB;QAAU,OAAE,GAAF,EAAE,CAAW;QAClD,WAAM,GAAN,MAAM,CAAQ;QAAU,OAAE,GAAF,EAAE,CAAW;QACnC,QAAG,GAAH,GAAG,CAAgB;QAAU,cAAS,GAAT,SAAS,CAAkB;QAC1D,cAAS,GAAT,SAAS,CAAkB;QAnBrC,QAAG,GAAG,mEAAmE,CAAC;QAC1E,mBAAc,GAAG,8BAA8B,CAAC;QAIhD,iBAAY,GAAG,IAAI,4CAAO,EAAU,CAAC;QAK7B,kBAAa,GAAG,IAAI,4CAAO,EAAW,CAAC;QAI/C,aAAQ,GAAG,6DAAQ,CAAC;QAMhB,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,6DAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS,CAAC,WAAC;YACpG,IAAI,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IAEH,gCAAQ,GAAR;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,wDAAwD;QACxD,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS,CAAC,cAAI,IAAI,WAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,EAA5B,CAA4B,CAAC,CAAC;QAC1G,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,0DAAG,CAAC,aAAG;YAC5C,EAAE,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC;gBAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,8DAAS,CAAC,cAAc,EAAE,IAAI,EAAE,IAAI,EAAE,EAAC,QAAQ,EAAE,MAAM,EAAC,CAAC,CAAC;YAAC,CAAC;QAC7G,CAAC,CAAC,EACF,gEAAS,EAAE,CACV,CAAC;QACF,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS,CAAC,WAAC;YAC3D,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBACd,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QACH,+DAA+D;QAC/D,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aACnD,SAAS,CAAC,WAAC,IAAI,WAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAC,IAAI,EAAE,sEAAY,CAAC,IAAI,EAAE,OAAO,EAAE,eAAa,CAAG,EAAC,CAAC,EAA1E,CAA0E,CAAC,CAAC;QAE5F,IAAI,CAAC,SAAS,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC;IACpE,CAAC;IAED,uCAAe,GAAf;QACE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,wBAAwB;IACxD,CAAC;IAED,mCAAW,GAAX;QACE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9B,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,SAAS,CAAC,eAAe,GAAG,IAAI,CAAC;IACxC,CAAC;IAED,oCAAY,GAAZ,UAAa,KAAe;QAA5B,iBAwCC;QAvCC,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,CAAC,KAAK,KAAK,IAAI,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YACvC,IAAM,MAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACtB,EAAE,CAAC,CAAC,eAAe,CAAC,IAAI,CAAC,MAAI,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC;gBAC7C,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAI,CAAC,CAAC;gBAC5B,IAAI,CAAC,EAAE,CAAC,SAAS,GAAG,6DAAQ,CAAC,SAAS,CAAC;YACzC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,KAAK,OAAO,CAAC,CAAC,CAAC;gBACnE,IAAM,QAAQ,GAAG,IAAI,OAAO,CAAE,UAAC,GAAG,EAAG,GAAG;oBACtC,IAAM,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;oBAChC,MAAM,CAAC,SAAS,GAAG,UAAC,CAAC;wBACnB,IAAI,IAAI,GAAG,EAAE,CAAC;wBACd,IAAI,KAAa,CAAC;wBAClB,IAAI,CAAC;4BACH,IAAI,GAAI,CAAC,CAAC,UAAkB,CAAC,MAAM,CAAC;4BACpC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAW,CAAC;4BACnC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;gCACrB,GAAG,CAAC,KAAK,CAAC,CAAC;4BACb,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACN,GAAG,CAAC,KAAK,CAAC,CAAC;4BACb,CAAC;wBACH,CAAC;wBAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;4BACf,GAAG,CAAC,KAAK,CAAC,CAAC;wBACb,CAAC;oBACH,CAAC,CAAC;oBACF,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC;oBACrB,MAAM,CAAC,UAAU,CAAC,MAAI,CAAC,CAAC;gBAC1B,CAAC,CAAC,CAAC;gBACH,QAAQ,CAAC,IAAI,CAAE,UAAC,KAAa;oBACzB,KAAK,CAAC,UAAU,GAAG,CAAC,CAAC;oBACrB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBAC/B,CAAC,CAAC;qBACD,KAAK,CAAE,aAAG,IAAI,YAAK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAI,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,2FAAqB,CAAC,IAAG,KAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAG,EAAC,EAAlG,CAAkG,CAAC,CAAC;YACvH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,6BAA6B,CAAC,CAAC;gBAC3E,MAAM,CAAC;YACT,CAAC;QACH,CAAC;QACD,mEAAmE;QACnE,IAAI,CAAC,SAAS,CAAC,aAAa,GAAG,0EAAa,CAAC,GAAG,CAAC;IACnD,CAAC;IAEK,qCAAa,GAAnB;;;;;;;wBACQ,IAAI,GAAG,IAAI,CAAC;;;;wBAEH,qBAAM,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;;wBAAvC,IAAI,GAAG,SAAgC;wBAC7C,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;4BACX,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;wBAClB,CAAC;;;;wBAED,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAC,IAAI,EAAE,sEAAY,CAAC,KAAK,EAAE,OAAO,EAAE,OAAK,EAAC,CAAC,CAAC;;;wBAInE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,WAAC;4BACf,SAAS,GAAG,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,wEAAe,EAAE;gCAC5C,KAAK,EAAE,KAAK;gCACZ,IAAI,EAAE,EAAC,KAAK,EAAE,mEAAU,CAAC,QAAQ,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,EAAC;6BAClD,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC;wBACH,SAAS,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,gEAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,SAAS,CAAC,gBAAM;4BAC1E,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC;gCAAA,MAAM,CAAC;4BAAC,CAAC;4BAClC,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC;4BAClB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;4BAChC,IAAI,CAAC,EAAE,CAAC,SAAS,GAAG,6DAAQ,CAAC,SAAS,CAAC;4BACvC,mEAAmE;4BACnE,IAAI,CAAC,SAAS,CAAC,aAAa,GAAG,0EAAa,CAAC,GAAG,CAAC;wBACnD,CAAC,CAAC,CAAC;;;;;KACJ;IAEK,qCAAa,GAAnB,UAAoB,KAAa;;;;;;wBACzB,IAAI,GAAG,IAAI,CAAC;6BACd,MAAK,CAAC,MAAM,KAAK,gEAAU,CAAC,IAAI,GAAhC,wBAAgC;wBAChB,qBAAM,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,0DAAG,CAC/D,gBAAM,IAAI,WAAI,CAAC,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,EAAvB,CAAuB,CAClC,EAAE,gEAAS,EAAE,CAAC,CAAC,SAAS,EAAE;;wBAFrB,SAAS,GAAG,SAES;wBAE3B,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAC,IAAI,EAAE,sEAAY,CAAC,IAAI,EAAE,OAAO,EAAE,cAAY,KAAK,CAAC,QAAQ,qBAAgB,SAAW,EAAC,CAAC,CAAC;;;wBAElH,wEAAwE;wBACxE,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,8DAAS,CAAC,cAAc,EAAE,CAAC,UAAU,EAAE,GAAG,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;;;;;KAGlF;IAED,mCAAW,GAAX,UAAY,KAAa;QACvB,IAAM,eAAe,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;QACjD,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;QACvC,IAAI,CAAC,EAAE,CAAC,SAAS,GAAG,6DAAQ,CAAC,SAAS,CAAC;QACvC,2DAA2D;QAC3D,IAAI,CAAC,SAAS,CAAC,aAAa,GAAG,0EAAa,CAAC,MAAM,CAAC;IACtD,CAAC;IA7ID;QADC,+DAAS,CAAC,cAAc,CAAC;kCACX,wDAAU;wDAAC;IAVf,aAAa;QALzB,+DAAS,CAAC;YACT,QAAQ,EAAE,UAAU;;;SAGrB,CAAC;yCAkBuB,8DAAS,EAAiB,2DAAS,EAAoB,8EAAgB;YACzE,6EAAgB,EAAc,8DAAS;YAC1C,oDAAM,EAAc,8DAAS;YAC9B,wEAAc,EAAqB,6EAAgB;YAC/C,8EAAgB;OArB1B,aAAa,CAwJzB;IAAD,oBAAC;CAAA;AAxJyB;;;;;;;;;;;;ACtB1B,8BAA8B,0BAA0B,sBAAsB,8CAA8C,mDAAmD,4EAA4E,qBAAqB,oBAAoB,KAAK,gBAAgB,wBAAwB,2BAA2B,0BAA0B,KAAK,eAAe,wBAAwB,2BAA2B,wBAAwB,yBAAyB,KAAK,oBAAoB,mBAAmB,KAAK,2BAA2B,mBAAmB,KAAK,2BAA2B,wBAAwB,2BAA2B,4BAA4B,KAAK,wBAAwB,wBAAwB,2BAA2B,yBAAyB,KAAK,C;;;;;;;;;;;ACA1zB,gEAAgE,6BAA6B,40B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAU;AAEzB;AAC4B;AACjD;AACwB;AAC/B;AAmBlD;IAEE,4BAAY,mCAAmC,CACtC,SAA2B,EAAU,SAAiC;QAAtE,cAAS,GAAT,SAAS,CAAkB;QAAU,cAAS,GAAT,SAAS,CAAwB;IAC/E,CAAC;IAED,qCAAQ,GAAR;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,aAAa,GAAG,CAAC,CAAC,CAAC;QACvB,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,gEAAS,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,CAAC,SAAS,CAAC,oBAAoB,KAAK,IAAI,EAA9C,CAA8C,CAAC,EAAE,4DAAK,EAAE,CAAC,CAAC,SAAS,CAAC,WAAC;YACrH,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,SAAS,CAAC,WAAC;gBAC7C,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,KAAK,iEAAS,CAAC,IAAI,CAAC,CAAC,CAAC;oBACtD,MAAM,CAAC;gBACT,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,IAAM,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,WAAC,IAAI,QAAC,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAhC,CAAgC,CAAC,CAAC;oBACvF,EAAE,CAAC,CAAC,CAAC,KAAK,aAAa,CAAC,CAAC,CAAC;wBACxB,MAAM,CAAC;oBACT,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACN,aAAa,GAAG,CAAC,CAAC;wBAClB,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;4BAAA,MAAM,CAAC;wBAAC,CAAC;wBACrB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,KAAK,iEAAS,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC;4BAC5G,IAAI,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;4BAC5E,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,wBAAwB,CAAC,SAAS,CAAC,CAAC;4BAC/D,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;wBAClC,CAAC;oBACH,CAAC;gBACH,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IA7BU,kBAAkB;QAjB9B,+DAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;;;YAG1B,UAAU,EAAE;gBACV,gFAAO,CAAC,UAAU,EAAE;oBAClB,8EAAK,CAAC,IAAI,EAAE,8EAAK,CAAC,EAAC,SAAS,EAAE,eAAe,EAAC,CAAC,CAAC;oBAChD,mFAAU,CAAC,WAAW,EAAE;wBACtB,8EAAK,CAAC,EAAC,SAAS,EAAE,mBAAmB,EAAC,CAAC;wBACvC,gFAAO,CAAC,cAAc,CAAC;qBACxB,CAAC;oBACF,mFAAU,CAAC,WAAW,EAAE;wBACtB,gFAAO,CAAC,oBAAoB,EAAE,8EAAK,CAAC,EAAC,SAAS,EAAE,mBAAmB,EAAC,CAAC,CAAC;qBACvE,CAAC;iBACH,CAAC;aACH;SACF,CAAC;yCAIoB,6EAAgB,EAAqB,yFAAsB;OAHpE,kBAAkB,CA+B9B;IAAD,yBAAC;CAAA;AA/B8B;;;;;;;;;;;;ACzB/B,8BAA8B,0BAA0B,sBAAsB,qBAAqB,oCAAoC,yCAAyC,8CAA8C,KAAK,kBAAkB,wBAAwB,2BAA2B,wBAAwB,KAAK,wBAAwB,mBAAmB,KAAK,sBAAsB,wBAAwB,2BAA2B,uBAAuB,qBAAqB,KAAK,qLAAqL,qBAAqB,KAAK,C;;;;;;;;;;;ACA9rB,+rCAA+rC,wBAAwB,oEAAoE,gCAAgC,iEAAiE,0BAA0B,+8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAj1C;AACA;AAId;AACU;AACI;AAC7B;AAOxC;IASE,wBAAmB,SAA2B,EACvC,UAA4B,EAC3B,GAAsB;QAFX,cAAS,GAAT,SAAS,CAAkB;QACvC,eAAU,GAAV,UAAU,CAAkB;QAC3B,QAAG,GAAH,GAAG,CAAmB;QAT9B,cAAS,GAAG,iEAAS,CAAC;IAUtB,CAAC;IAED,iCAAQ,GAAR;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,6DAAM,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,WAAC;YAC5E,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,SAAS,CAAC;YACzC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sCAAa,GAAb,UAAc,MAAiB,EAAE,CAAa;QAC5C,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAM,CAAC,GAAG,MAAM,CAAC,WAAW,CAAC,aAAkC,CAAC;QAChE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACd,0CAA0C;YAC1C,MAAM,CAAC;QACT,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,KAAK,+DAAU,CAAC,IAAI,CAAC,CAAC,CAAC;gBACpD,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,CAAC,yDAAyD,CAAC,CAAC;gBAC5G,MAAM,CAAC;YACT,CAAC;YACD,IAAM,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE,EAAC,IAAI,EAAE,kBAAkB,EAAC,CAAC,CAAC;YAC1F,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YAC9C,yGAAyG;YACzG,UAAU,CAAC,WAAC,IAAI,QAAC,CAAC,KAAK,EAAE,EAAT,CAAS,CAAC,CAAC;YAC3B,aAAa;QACf,CAAC;IACH,CAAC;IAED,oCAAW,GAAX,UAAY,MAAiB,EAAE,CAAa;QAC1C,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAM,CAAC,GAAG,MAAM,CAAC,WAAW,CAAC,aAAkC,CAAC;QAChE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACd,MAAM,CAAC;QACT,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,IAAM,SAAO,GAAG,UAAC,CAAS;gBACxB,IAAI,EAAE,GAAG,EAAE,CAAC;gBACZ,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACxB,sCAAsC;gBACtC,EAAE,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACtD,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;gBACd,kCAAkC;gBAClC,CAAC,GAAG,GAAG,CAAC;gBACR,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC;gBACb,EAAE,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;gBACjC,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;gBACd,kCAAkC;gBAClC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC;gBACnB,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC;gBACb,EAAE,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;gBACjC,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;gBACd,gCAAgC;gBAChC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC;gBACnB,GAAG,GAAG,CAAC,CAAC;gBACR,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;gBACd,yCAAyC;gBACzC,MAAM,CAAC,EAAE,CAAC;YACZ,CAAC,CAAC;YAEF,IAAM,QAAM,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAE,UAAC,CAAC,EAAE,CAAC;gBAC7D,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;YAC3B,CAAC,CAAC,CAAC;YACH,IAAM,KAAK,GAAG,QAAM,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,GAAG;gBACnC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC;gBAC/B,EAAE,IAAI,SAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,SAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;gBACzD,EAAE,IAAI,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC;gBACzB,MAAM,CAAC,GAAG,GAAG,EAAE,CAAC;YAClB,CAAC,EAAE,EAAE,CAAC,CAAC;YACP,IAAM,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,KAAK,CAAC,EAAE,EAAC,IAAI,EAAE,YAAY,EAAC,CAAC,CAAC;YACrD,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;YACjD,UAAU,CAAC,WAAC,IAAI,QAAC,CAAC,KAAK,EAAE,EAAT,CAAS,CAAC,CAAC;YAC3B,aAAa;QACf,CAAC;IACH,CAAC;IAvFU,cAAc;QAL1B,+DAAS,CAAC;YACT,QAAQ,EAAE,WAAW;;;SAGtB,CAAC;yCAU8B,6EAAgB;YAC3B,6EAAgB;YACtB,+DAAiB;OAXnB,cAAc,CAwF1B;IAAD,qBAAC;CAAA;AAxF0B;;;;;;;;;;;;ACf3B,mB;;;;;;;;;;;ACAA,gQAAgQ,YAAY,inBAAinB,mCAAmC,8CAA8C,sCAAsC,0JAA0J,eAAe,iT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA3mC;AACwC;AACxB;AACZ;AACA;AACmB;AAC2B;AAOpG;IAYE,uBAAoB,UAA0B,EAAU,SAAuB,EACrE,SAAoB,EAAW,SAAoB,EACpD,SAAiC;QAFtB,eAAU,GAAV,UAAU,CAAgB;QAAU,cAAS,GAAT,SAAS,CAAc;QACrE,cAAS,GAAT,SAAS,CAAW;QAAW,cAAS,GAAT,SAAS,CAAW;QACpD,cAAS,GAAT,SAAS,CAAwB;QAExC,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,SAAS,CAAC,UAAU,CAAC,SAAS,CAAC,kBAAQ;YACrC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACb,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,YAAY,CAAC;YACzC,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gCAAQ,GAAR;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC;QACzC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,gBAAgB,IAAI,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC;QACnE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,iBAAO,IAAI,WAAI,CAAC,OAAO,GAAG,OAAO,EAAtB,CAAsB,CAAC,CAAC;IACtE,CAAC;IAEK,uCAAe,GAArB,UAAsB,KAAe,EAAE,GAAW;;;;;;wBAC1C,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;wBAChB,IAAI,GAAG,IAAI,CAAC;wBAClB,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC;4BAAC,MAAM,gBAAC;wBAAC,CAAC;wBACjC,qBAAM,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,IAAI,CACjD,wEAAG,CAAC,gBAAM;gCACR,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;4BACjD,CAAC,CAAC,EAAE,8EAAS,EAAE,CAAC,CAAC,SAAS,EAAE;;wBAH9B,SAG8B,CAAC;wBAE/B,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,iBAAO,IAAI,WAAI,CAAC,OAAO,GAAG,OAAO,EAAtB,CAAsB,CAAC,CAAC;;;;;KACrE;IAED,gCAAQ,GAAR,UAAS,IAAe;QACtB,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,CAAC;QACzC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,iBAAO,IAAI,WAAI,CAAC,OAAO,GAAG,OAAO,EAAtB,CAAsB,CAAC,CAAC;IACtE,CAAC;IAED,oCAAY,GAAZ,UAAa,IAAe;QAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC7C,CAAC;IAED,iFAAiF;IACjF,gCAAgC;IAChC,+BAA+B;IAC/B,uCAAuC;IACvC,sBAAsB;IACtB,kEAAkE;IAClE,YAAY;IACZ,kHAAkH;IAClH,gGAAgG;IAChG,0DAA0D;IAC1D,yFAAyF;IACzF,sCAAsC;IACtC,0BAA0B;IAC1B,2BAA2B;IAE3B,wFAAwF;IACxF,oBAAoB;IACpB,iFAAiF;IACjF,QAAQ;IACR,aAAa;IACb,kCAAkC;IAClC,MAAM;IACN,qIAAqI;IACrI,8FAA8F;IAC9F,0GAA0G;IAC1G,yDAAyD;IACzD,oHAAoH;IACpH,IAAI;IAEE,sCAAc,GAApB;;;;;;6BACM,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,EAAnB,wBAAmB;wBACf,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,aAAa,CAAC;wBAC3C,qBAAM,SAAS,CAAC,iBAAiB,CAAC,MAAM,CAAC;;wBAArD,SAAS,GAAG,SAAyC;wBAC3D,EAAE,CAAC,CAAC,SAAS,IAAI,IAAI,CAAC,CAAC,CAAC;4BACtB,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC,IAAI,CAAC;wBACtC,CAAC;;;;;;KAEJ;IAEK,wCAAgB,GAAtB;;;;;4BACiB,qBAAM,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE;;wBAA3C,MAAM,GAAG,SAAkC;;;;;KAClD;IAEK,wCAAgB,GAAtB;;;;4BACE,qBAAM,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE;;wBAAlC,SAAkC,CAAC;;;;;KACpC;IAEK,wCAAgB,GAAtB;;;;4BACE,qBAAM,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE;;wBAAlC,SAAkC,CAAC;;;;;KACpC;IAED,+BAAO,GAAP,UAAQ,IAAY;QAClB,IAAM,IAAI,GAAG,IAAI,oFAAiB,EAAE,CAAC;QACrC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC3B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IA7GU,aAAa;QALzB,+DAAS,CAAC;YACT,QAAQ,EAAE,UAAU;;;SAGrB,CAAC;yCAagC,wEAAc,EAAqB,sEAAY;YAC1D,8DAAS,EAAsB,8DAAS;YACzC,yFAAsB;OAd/B,aAAa,CA8GzB;IAAD,oBAAC;CAAA;AA9GyB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACb0B;AACwB;AAM5E;IAEE,kBAAmB,SAAuB;QAAvB,cAAS,GAAT,SAAS,CAAc;IAAG,CAAC;IAE9C,4BAAS,GAAT,UAAU,GAAW,EAAE,IAAU;QAC/B,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,sBAAsB,CAAC,GAAG,CAAC,CAAC;IACpD,CAAC;IANU,QAAQ;QAJpB,0DAAI,CAAC;YACJ,IAAI,EAAE,MAAM;YACZ,IAAI,EAAE,IAAI;SACX,CAAC;yCAG8B,sEAAY;OAF/B,QAAQ,CAQpB;IAAD,eAAC;CAAA;AARoB;AAcrB;IAEE,sBAAmB,SAAuB;QAAvB,cAAS,GAAT,SAAS,CAAc;IAAG,CAAC;IAE9C,gCAAS,GAAT,UAAU,IAAY,EAAE,IAAU;QAChC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;IACtD,CAAC;IANU,YAAY;QAJxB,0DAAI,CAAC;YACJ,IAAI,EAAE,UAAU;YAChB,IAAI,EAAE,IAAI;SACX,CAAC;yCAG8B,sEAAY;OAF/B,YAAY,CAQxB;IAAD,mBAAC;CAAA;AARwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBkB;AACU;AACkB;AACtB;AAEjD,kEAAkE;AAKlE;IAqBE,mBAAoB,MAAqB;QAArB,WAAM,GAAN,MAAM,CAAe;QAVzC,cAAS,GAAG,IAAI,4CAAO,EAAW,CAAC;QACnC,+CAA+C;QAC/C,yCAAyC;QACzC,IAAI;QAEJ,aAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kEAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAM7C,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;YACrB,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,KAAK,SAAS,CAAC,CAAC,CAAC;gBACrC,IAAI,CAAC,SAAS,EAAE,CAAC;YACnB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,CAAC;YACD,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC7B,CAAC;IACH,CAAC;IAED,uCAAmB,GAAnB;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,iBAAO;YAC7B,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACZ,qCAAqC;gBACrC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;gBAC5G,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;oBAC7B,IAAI,CAAC,YAAY,CAAC,mBAAmB,CACnC,EAAC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,QAAQ,EAAE,KAAK,EAAC,CACnD,CAAC;gBACJ,CAAC;YACH,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oCAAgB,GAAhB;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,iBAAO;YAC7B,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACZ,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;oBAC9B,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;gBAC3B,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;oBAC7B,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,CAAC;gBACvC,CAAC;gBACD,4CAA4C;gBAC5C,UAAU,CAAC;oBACT,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBAC7B,CAAC,EAAE,IAAI,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YACpB,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,6BAAS,GAAT;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,IAAI,OAAO,CAAC,UAAU,KAAK,SAAS,CAAC,CAAC,CAAC;YACzD,iDAAiD;YACjD,IAAM,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC;YAC5B,IAAM,SAAS,GAAG,GAAG,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC9C,SAAS,CAAC,IAAI,GAAG,iBAAiB,CAAC;YACnC,SAAS,CAAC,GAAG,GAAG,0CAA0C,CAAC;YAC3D,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAChC,qCAAqC;YACrC,sEAAsE;YACtE,IAAI,SAAO,GAAG,KAAK,CAAC;YACpB,qDAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,2DAAI,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,YAAE;gBACvC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,SAAO,KAAK,KAAK,CAAC,CAAC,CAAC;oBACjC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBAC3B,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;gBAC5B,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAO,KAAK,KAAK,CAAC,CAAC,CAAC;oBAC7B,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;wBAC1E,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,eAAe,CAAC,CAAC,aAAa,CAAC,CAAC;wBACpD,IAAI,CAAC,YAAY,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;wBACpD,IAAI,CAAC,KAAK,GAAG;4BACX,KAAK,EAAG,sCAAsC;4BAC9C,QAAQ,EAAG,MAAM;yBAClB,CAAC;wBACF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAC1B,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;wBAC1B,SAAO,GAAG,IAAI,CAAC;oBACjB,CAAC;gBACH,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAED,4BAAQ,GAAR;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,0CAA0C;QAC1C,EAAE,CAAC,CAAE,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAE,CAAC,CAAC,CAAC;YAC7C,IAAI,CAAC,OAAO,GAAG;gBACb,MAAM,EAAE,wCAAwC;gBAChD,YAAY,EAAE,wCAAwC;gBACtD,WAAW,EAAE,wCAAwC;aACtD,CAAC;QACJ,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,qBAAqB,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAC3D,IAAI,CAAC,OAAO,GAAG;gBACb,MAAM,EAAE,wCAAwC;gBAChD,YAAY,EAAE,wCAAwC;gBACtD,WAAW,EAAE,wCAAwC;aACtD,CAAC;QACJ,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,OAAO,GAAG;gBACb,MAAM,EAAE,wCAAwC;gBAChD,YAAY,EAAE,wCAAwC;gBACtD,WAAW,EAAE,EAAE;aAChB,CAAC;QACJ,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,WAAC;gBACnC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;oBACtB,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;oBACpC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC5B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC7B,CAAC;gBACD,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;YAC5B,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IArIU,SAAS;QAHrB,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAsB4B,6DAAa;OArB9B,SAAS,CAsIrB;IAAD,gBAAC;CAAA;AAtIqB;;;;;;;;;;;;;;;;;;;;;;;;;;ACVqB;AAEM;AAKjD;IAEE,8BAA8B;IAC9B,0BAAoB,MAAqB;QAArB,WAAM,GAAN,MAAM,CAAe;IACzC,CAAC;IAED,oCAAS,GAAT;QACE,MAAM,CAAC,IAAI,OAAO,CAAS,UAAC,GAAG,EAAE,GAAG;YAClC,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;gBACtB,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,WAAC,IAAI,UAAG,CAAC,CAAC,CAAC,EAAN,CAAM,EAAE,WAAC,IAAI,UAAG,CAAC,CAAC,CAAC,EAAN,CAAM,CAAC,CAAC;YAC5D,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,GAAG,CAAC,8BAA8B,CAAC,CAAC;YACtC,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAdU,gBAAgB;QAH5B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAI4B,6DAAa;OAH9B,gBAAgB,CAe5B;IAAD,uBAAC;CAAA;AAf4B;;;;;;;;;;;;;;;;;;;;;;;;;ACPc;AAK3C;IAGE;IAAgB,CAAC;IAHN,gBAAgB;QAH5B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;;OACW,gBAAgB,CAI5B;IAAD,uBAAC;CAAA;AAJ4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLc;AACM;AACA;AAEgB;AAEV;AACH;AACf;AAEW;AAMhD;IAkCE,mBAAoB,QAAuB,EAAU,UAA0B;QAA/E,iBAaC;QAbmB,aAAQ,GAAR,QAAQ,CAAe;QAAU,eAAU,GAAV,UAAU,CAAgB;QAdvE,mBAAc,GAAG,KAAK,CAAC;QAOvB,mBAAc,GAAG,IAAI,4CAAO,EAAO,CAAC;QAK5C,aAAQ,GAAG,CAAC,CAAC;QAGX,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAM,UAAU,GAAG,kBAAQ;YACzB,IAAM,MAAM,GAAG;;;;iCACT,QAAQ,CAAC,SAAS,EAAlB,wBAAkB;4BAAG,qBAAM,QAAQ,CAAC,aAAa,CAAC,SAAS,EAAE;;4BAAxC,SAAwC,CAAC;;gCAClE,qBAAM,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC;;4BAA1C,SAA0C,CAAC;;;;iBAC5C,CAAC;YACF,MAAM,EAAE,CAAC;YACX,MAAM,CAAC,cAAO,CAAC,CAAC;QAChB,CAAC,CAAC;QACF,wFAAwF;QACxF,IAAI,CAAC,SAAS,GAAG,CAAC,IAAI,+CAAU,CAAU,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,kEAAW,CAAC,CAAC,CAAC,EAAE,4DAAK,EAAE,CAAC,CAAC;QACrF,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,CAAC,mBAAmB;IACjD,CAAC;kBA/CU,SAAS;IAqBpB,sBAAW,oCAAa;aAAxB;YACE,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;QAC7B,CAAC;;;OAAA;IAKD,sBAAW,oCAAa;aAAxB;YACE,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;QAC7B,CAAC;;;OAAA;IAmBD,iCAAa,GAAb;QACE,IAAM,MAAM,GAAG,IAAI,oDAAK,EAAE,CAAC;QAC3B,MAAM,CAAC,OAAO,GAAG,8BAA8B,CAAC;QAChD,MAAM,CAAC,MAAM,CAAC;IAChB,CAAC;IAEK,8BAAU,GAAhB,UAAiB,EAAuB;;;;;;wBAChC,IAAI,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,UAAU,KAAK,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;wBAC/G,GAAG,GAAG,qDAAI,CAAC,WAAS,CAAC,cAAc,CAAC;6BACzC,KAAK,CAAC,WAAS,CAAC,UAAU,CAAC;6BAC3B,MAAM,CAAC;4BACN,IAAI,EAAE,IAAI;4BACV,KAAK,EAAE,IAAI;4BACX,EAAE,EAAE,MAAM;yBACX,CAAC,CAAC;wBACH,qBAAM,GAAG,CAAC,OAAO,EAAE;;wBAAnB,SAAmB,CAAC;wBACpB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;wBAC3B,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAEd,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,EAAC,IAAI,EAAE,6DAAY,CAAC,IAAI,EAAE,OAAO,EAAE,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;wBAEtE,qBAAM,qDAAI,CAAC,WAAS,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,mBAAmB,CAAC,CAAC,CAAC,IAAI,EAAE;;wBAAzF,IAAI,GAAG,SAAkF;6BACzF,EAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,GAApC,wBAAoC;;4BAE/B,qBAAM,IAAI,CAAC,WAAW,EAAE;;wBAA/B,IAAI,GAAG,SAAwB,CAAC;;;wBAElC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,EAAC,IAAI,EAAE,6DAAY,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;;;;;KAExF;IAEK,+BAAW,GAAjB,UAAkB,KAAwC,EACxD,UAAgB,EAAE,KAAW,EAAE,OAAa,EAAE,MAAe,EAAE,KAAc;QAD7D,gCAAgB,WAAS,CAAC,cAAc;;;;;4BAExD,qBAAM,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;;wBAAhC,SAAgC,CAAC,CAAC,2BAA2B;wBAE7D,EAAE,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;4BACjB,MAAM,GAAG,qDAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;wBACnD,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACN,MAAM,GAAG,qDAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;wBACvC,CAAC;wBACD,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;4BAAA,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;wBAAC,CAAC;wBAC7C,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;4BAAA,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;wBAAC,CAAC;wBACnD,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;4BAAA,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;wBAAC,CAAC;wBAChD,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;4BAAA,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;wBAAC,CAAC;;;;wBAIlC,qBAAM,MAAM,CAAC,IAAI,EAAE;;wBAA5B,MAAM,GAAG,SAAmB,CAAC;wBAC7B,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,EAAC,IAAI,EAAE,6DAAY,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAC,CAAC,CAAC;;;;wBAExF,MAAM,GAAG,EAAE,CAAC;wBACZ,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,EAAC,IAAI,EAAE,6DAAY,CAAC,KAAK,EAAE,OAAO,EAAE,OAAK,EAAC,CAAC,CAAC;;4BAE1E,sBAAO,MAAM,EAAC;;;;KACf;IAEK,+BAAW,GAAjB,UAAkB,KAAwC,EAAE,KAAiC;QAA3E,gCAAgB,WAAS,CAAC,cAAc;QAAE,iCAAc,UAAU,EAAE,GAAG,EAAE,CAAC,CAAC;;;;;4BAC3F,qBAAM,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;;wBAAhC,SAAgC,CAAC;wBAC7B,CAAC,GAAG,qDAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;wBACpC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;4BAAA,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;wBAAC,CAAC;;;;wBAIxB,qBAAM,CAAC,CAAC,IAAI,EAAE;;wBAAvB,MAAM,GAAG,SAAc,CAAC;wBACxB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;;;wBAEjC,MAAM,GAAG,EAAE,CAAC;wBACZ,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,EAAC,IAAI,EAAE,6DAAY,CAAC,KAAK,EAAE,OAAO,EAAE,OAAK,EAAC,CAAC,CAAC;;4BAE1E,sBAAO,MAAM,EAAC;;;;KACf;IAEK,+BAAW,GAAjB,UAAkB,KAAwC,EAAE,IAAU,EAAE,KAAW;QAAjE,gCAAgB,WAAS,CAAC,cAAc;;;;;4BACxD,qBAAM,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;;wBAAhC,SAAgC,CAAC;wBACjC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC;4BAAA,IAAI,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;wBAAC,CAAC;wBACjD,CAAC,GAAG,qDAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;wBAC1C,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;4BAAC,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;wBAAC,CAAC;;;;wBAGzB,qBAAM,CAAC,CAAC,IAAI,EAAE;;wBAAvB,MAAM,GAAG,SAAc,CAAC;wBACxB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;;;wBAEjC,MAAM,GAAG,EAAE,CAAC;wBACZ,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,EAAC,IAAI,EAAE,6DAAY,CAAC,KAAK,EAAE,OAAO,EAAE,OAAK,EAAC,CAAC,CAAC;;;wBAE1E,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,EAAC,IAAI,EAAE,6DAAY,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAC,CAAC,CAAC;wBACxF,sBAAO,MAAM,EAAC;;;;KACf;IArIM,wBAAc,GAAG,SAAS,CAAC;IAC3B,oBAAU,GAAG;QAClB,EAAC,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,CAAE,IAAI,CAAC,EAAC;QACzC,EAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAC;QAC7B,EAAC,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,MAAM,CAAC,EAAC;QAC/C,EAAC,GAAG,EAAE,aAAa,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,MAAM,CAAC,EAAC;QACrD,EAAC,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,MAAM,CAAC,EAAC;QAClD,EAAC,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,QAAQ,EAAC;QACjC,EAAC,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,QAAQ,EAAC;QAClC,EAAC,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,KAAK,EAAC;QAC9B,EAAC,GAAG,EAAE,YAAY,EAAE,IAAI,EAAE,KAAK,EAAC;QAChC,EAAC,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,KAAK,EAAC;QAC9B,EAAC,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,EAAC;QAC7C,EAAC,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,EAAC;QACxC,EAAC,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,EAAE,EAAC;QAC3C,EAAC,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,EAAC;KAC5C,CAAC;IAlBS,SAAS;QAHrB,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAmC8B,6DAAa,EAAsB,+DAAc;OAlCpE,SAAS,CAwIrB;IAAD,gBAAC;;CAAA;AAxIqB;;;;;;;;;;;;;;;;;;;;;;;;;;AChBqB;AACE;AAK7C;IAeE;QAAA,iBAgCC;QA/BC,6BAA6B;QAC7B,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC;QAClC,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;YAClD,IAAI,CAAC,aAAa,GAAG,IAAI,+CAAU,CAAC,YAAE;gBACpC,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,SAAS,CAAE;oBACpC,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,gBAAgB;oBAC3B,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC,qCAAqC;gBACtD,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC;QAED,oDAAoD;QACpD,IAAI,CAAC,cAAc,GAAG,sDAAS,CAAC,QAAQ,EAAE,aAAa,CAA6B,CAAC;QACrF,IAAI,CAAC,cAAc,GAAG,sDAAS,CAAC,QAAQ,EAAE,aAAa,CAA6B,CAAC;QACrF,6FAA6F;QAC7F,kCAAkC;QAClC,iBAAiB;QACjB,6BAA6B;QAC7B,OAAO;QACP,IAAI,CAAC,YAAY,GAAG,sDAAS,CAAC,QAAQ,EAAE,WAAW,CAA6B,CAAC;QACjF,IAAI,CAAC,aAAa,GAAG,sDAAS,CAAC,QAAQ,EAAE,YAAY,CAA6B,CAAC;QACnF,IAAI,CAAC,UAAU,GAAG,sDAAS,CAAC,QAAQ,EAAE,SAAS,CAA2B,CAAC;QAC3E,IAAI,CAAC,YAAY,GAAG,sDAAS,CAAC,QAAQ,EAAE,WAAW,CAA2B,CAAC;QAC/E,yFAAyF;QACzF,gCAAgC;QAChC,iBAAiB;QACjB,6BAA6B;QAC7B,OAAO;QACP,IAAI,CAAC,YAAY,GAAG,sDAAS,CAAC,QAAQ,EAAE,WAAW,CAA2B,CAAC;IACjF,CAAC;IA/CU,aAAa;QAHzB,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;;OACW,aAAa,CAgDzB;IAAD,oBAAC;CAAA;AAhDyB;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNiB;AACM;AACA;AACiC;AAKlF;IAKE,mBAAoB,MAAqB;QAArB,WAAM,GAAN,MAAM,CAAe;QACvC,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,aAAa,CAAC,IAAI,CACvC,0DAAG,CAAC,WAAC;gBACH,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,yBAAyB,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;oBAAC,MAAM,CAAC,+CAAE,CAAC,IAAI,CAAC,CAAC;gBAAC,CAAC;gBACvE,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,yBAAyB,CAAC,EAAE,KAAK,IAAI,CAAC,CAAC,CAAC;oBACnD,MAAM,CAAC,0BAA0B,CAAC,EAAE,CAAC;oBACrC,MAAM,CAAC,+CAAE,CAAC,IAAI,CAAC,CAAC;gBAClB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,MAAM,CAAC,sDAAS,CAAC,MAAM,EAAE,mBAAmB,CAAC,CAAC,IAAI,CAChD,0DAAG,CAAE,YAAE,IAAI,WAAI,EAAJ,CAAI,CAAC,CACjB,CAAC;gBACJ,CAAC;YACH,CAAC,CAAC,EACF,gEAAS,EAAE,CACZ,CAAC,IAAI,CAAC,kEAAW,CAAC,CAAC,CAAC,EAAE,4DAAK,EAAE,CAAC,CAAC;QAClC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,QAAQ,GAAG,+CAAE,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,kEAAW,CAAC,CAAC,CAAC,EAAE,4DAAK,EAAE,CAAC,CAAC;QAC1D,CAAC;QACD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;IAC3B,CAAC;IAED,0BAAM,GAAN;QACE,IAAI,GAA2B,CAAC;QAChC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,0DAAG,CAAC,iBAAO;YAClC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACZ,MAAM,CAAC,IAAI,+CAAU,CAAc,cAAI;oBACrC,MAAM,CAAC,iBAAiB,CAAC,eAAe,CAAC,UAAU,EAAE,CAAC,EAAE,YAAE;wBACxD,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;wBACd,IAAI,CAAC,QAAQ,EAAE,CAAC;oBAClB,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;gBACjB,CAAC,CAAC,CAAC;YACL,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,MAAM,CAAC,+CAAE,CAAC,IAAI,CAAC,CAAC;YAClB,CAAC;QACH,CAAC,CAAC,EAAE,gEAAS,EAAE,CAAC,CAAC;QACjB,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,kEAAW,CAAC,CAAC,CAAC,EAAE,4DAAK,EAAE,CAAC,CAAC;IAC3C,CAAC;IAED,2BAAO,GAAP,UAAQ,IAAY,EAAE,MAAuB,EAAE,SAA0B;QAAnD,uCAAuB;QAAE,6CAA0B;QACvE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,0DAAG,CAAC,YAAE;YACzB,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,CAAC,CAAC;gBACnB,MAAM,CAAC,+CAAE,CAAC,IAAI,CAAC,CAAC;YAClB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,MAAM,CAAC,IAAI,+CAAU,CAAkB,cAAI;oBACzC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC;wBACrB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;wBACnB,IAAI,CAAC,QAAQ,EAAE,CAAC;oBAClB,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACN,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,EAAC,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,SAAS,EAAC,EAC/D,aAAG;4BACD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;4BACf,IAAI,CAAC,QAAQ,EAAE,CAAC;wBAClB,CAAC,EACD,IAAI,CAAC,KAAK,CACX,CAAC;oBACJ,CAAC;gBACH,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC,CAAC,EAAE,gEAAS,EAAE,CAAC,CAAC;IACnB,CAAC;IAED,uBAAG,GAAH,UAAI,GAA2B;QAC7B,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,CAAC,OAAO,GAAG,KAAK,QAAQ,CAAC,CAAC,CAAC;YAC5B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,0DAAG,CAAC,gBAAM;gBACtC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAC1B,CAAC,CAAC,EAAE,gEAAS,EAAE,CAAC,CAAC;QACnB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,KAAK,CAAC,CAAC,CAAC;gBAAA,MAAM,CAAC,+CAAE,CAAC,IAAI,CAAC,CAAC;YAAC,CAAC;YAExC,MAAM,CAAC,IAAI,+CAAU,CAAW,cAAI;gBAClC,GAAG,CAAC,YAAY,EAAE,CAAC,WAAW,CAC5B,iBAAO;oBACL,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBACnB,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAClB,CAAC,EACD,IAAI,CAAC,KAAK,CACX,CAAC;YACJ,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAED,4BAAQ,GAAR,UAAS,IAAY,EAAE,MAAuB,EAAE,SAA0B;QAAnD,uCAAuB;QAAE,6CAA0B;QACxE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC;YAAA,MAAM,CAAC,+CAAE,CAAC,IAAI,CAAC,CAAC;QAAC,CAAC;QACxD,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,0DAAG,CAAC,YAAE,IAAI,WAAI,+CAAU,CAAa,cAAI;YACjE,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,EAAC,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,SAAS,EAAC,EAC1D,cAAI;gBACF,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAChB,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,CAAC,EACD,IAAI,CAAC,KAAK,CAAC,CAAC;QAChB,CAAC,CAAC,EAPkC,CAOlC,CAAC,EACH,gEAAS,EAAE,CACV,CAAC;QACF,MAAM,CAAC,GAAG,CAAC;IACb,CAAC;IAED,8BAAU,GAAV,UAAW,MAAiB,EAAE,IAAU,EAAE,QAAyB;QAAzB,2CAAyB;QACjE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC;YAAA,MAAM,CAAC,+CAAE,CAAC,IAAI,CAAC,CAAC;QAAC,CAAC;QACxD,IAAM,GAAG,GAAG,IAAI,+CAAU,CAAW,cAAI;YACvC,MAAM,CAAC,YAAY,CAAE,iBAAO;gBAC1B,OAAO,CAAC,UAAU,GAAG,WAAC;oBACpB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAChB,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBACf,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAClB,CAAC,CAAC;gBACF,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC;gBAE7B,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBACb,IAAI,CAAC;wBACH,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;oBAC/B,CAAC;oBAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBACX,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;oBAChB,CAAC;gBACH,CAAC;gBACD,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACtB,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,GAAG,CAAC;IACb,CAAC;IAED,2BAAO,GAAP,UAAQ,IAAe;QACrB,MAAM,CAAC,IAAI,+CAAU,CAAW,cAAI;YAClC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACjB,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,MAAM,CAAC;YACT,CAAC;YACD,IAAI,CAAC,MAAM,CACT;gBACE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAChB,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,CAAC,EACD,IAAI,CAAC,KAAK,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,yBAAK,GAAL,UAAM,IAAe;QACnB,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;IACtB,CAAC;IApJU,SAAS;QAHrB,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAM4B,6DAAa;OAL9B,SAAS,CAqJrB;IAAD,gBAAC;CAAA;AArJqB;;;;;;;;;;;;;;;;;;;;;;;;;;ACRqB;AAK3C;IAKE;QAHA,cAAS,GAAG,QAAQ,CAAC,IAAI,CAAC;QAC1B,qBAAgB,GAAG,qBAAqB,CAAC;IAEzB,CAAC;IALN,SAAS;QAHrB,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;;OACW,SAAS,CAMrB;IAAD,gBAAC;CAAA;AANqB;AAQtB,IAAY,QAIX;AAJD,WAAY,QAAQ;IAClB,uCAAI;IACJ,iDAAS;IACT,uCAAI;AACN,CAAC,EAJW,QAAQ,KAAR,QAAQ,QAInB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjB0C;AACA;AACK;AACI;AACX;AACA;AACA;AACwB;AACI;AACb;AAKxD;IA4EE,0BAAoB,SAAoB,EACpB,SAAoB,EACpB,UAA0B,EAC1B,EAAa,EACb,UAA4B;QAJ5B,cAAS,GAAT,SAAS,CAAW;QACpB,cAAS,GAAT,SAAS,CAAW;QACpB,eAAU,GAAV,UAAU,CAAgB;QAC1B,OAAE,GAAF,EAAE,CAAW;QACb,eAAU,GAAV,UAAU,CAAkB;QAvEhD,eAAU,GAAG,+DAAU,CAAC;QAehB,cAAS,GAAG,GAAG,CAAC;QAQjB,YAAO,GAAG,CAAC,CAAC,CAAC,4CAA4C;QAShE,wDAAwD;QACjD,kBAAa,GAAG,CAAC,CAAC;QASlB,2BAAsB,GAAa,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAE1E,UAAK,GAAG,IAAI,oDAAK,EAAE,CAAC;QAGpB,gBAAW,GAAG,CAAC,CAAC;QAChB,aAAQ,GAAG,IAAI,CAAC;QAER,cAAS,GAAG,CAAC,CAAC;QAStB,kBAAa,GAAG,aAAa,CAAC,IAAI,CAAC;QAE3B,gBAAW,GAAG,IAAI,4CAAO,EAAU,CAAC;QAC5C,eAAU,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,kEAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAEnD,iBAAY,GAAG,IAAI,4CAAO,EAAU,CAAC;QASnC,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,WAAC;YACnC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;YAC/B,IAAI,CAAC,KAAK,GAAG,IAAI,oDAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,SAAS,CAAC,WAAC;YACpC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;QACjC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,GAAI,IAAI,4CAAO,EAAW,CAAC;QAC/C,IAAI,CAAC,cAAc,GAAG,IAAI,4CAAO,EAAgB,CAAC;QAClD,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,WAAW,CAAC;QACjC,2CAA2C;QAC3C,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;IAC9B,CAAC;IA5FD,sBAAW,4CAAc;aAAzB;YACE,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC;QAC9B,CAAC;;;OAAA;IAOD,sBAAW,mCAAK;aAAhB;YACE,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;QACrB,CAAC;aACD,UAAiB,CAAU;YACzB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gBAChD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC/B,CAAC;YACD,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAClB,CAAC;;;OANA;IAWD,sBAAW,sCAAQ;aAGnB;YACE,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC;QACnD,CAAC;aALD,UAAoB,CAAS;YAC3B,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACrB,CAAC;;;OAAA;IAMD,sBAAW,oCAAM;aAAjB;YACE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;QACtB,CAAC;aACD,UAAkB,CAAS;YACzB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;YACjB,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC5B,CAAC;;;OAJA;IAQD,sBAAW,0CAAY;aAAvB;YACE,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;QAC5B,CAAC;aACD,UAAwB,CAAS;YAC/B,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;YACvB,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAClC,CAAC;;;OAJA;IAeD,sBAAW,sCAAQ;aAInB;YACE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;QACxB,CAAC;aAND,UAAoB,CAAS;YAC3B,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QAC9C,CAAC;;;OAAA;IAkCD,iCAAM,GAAN,UAAO,IAA0B,EAAE,KAAmC;QAAnC,gCAAoB,+DAAU,CAAC,IAAI;QACpE,yCAAyC;QACzC,IAAI,CAAC,SAAS,CAAC,gBAAgB,EAAE,CAAC;QAClC,6CAA6C;QAC7C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QAC7C,+CAA+C;QAC/C,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC;QAC7B,oDAAoD;QACpD,EAAE,CAAC,CAAC,KAAK,KAAK,+DAAU,CAAC,IAAI,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;QAC5B,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,EAAE,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC;gBAC/B,IAAI,CAAC,KAAK,GAAG,IAAI,oDAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACjC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,+DAAU,CAAC,GAAG,CAAC;YACrC,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,KAAK,GAAG,IAAc,CAAC;YAC9B,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAE,IAAa,CAAC,CAAC,CAAC;gBAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,oDAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACjC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,+DAAU,CAAC,IAAI,CAAC;YACtC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,WAAW,CAAC;gBACjC,MAAM,CAAC;YACT,CAAC;QACH,CAAC;QAED,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YACvB,2CAA2C;QAC7C,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,+DAAU,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,+DAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAClG,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,IAAc,CAAC;YACpC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YACtC,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QAClF,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,+DAAU,CAAC,IAAI,CAAC,CAAC,CAAC;YACjD,IAAI,CAAC,IAAI,GAAG,IAAY,CAAC;YACzB,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC3D,EAAE,CAAC,CAAC,CAAC,CAAE,IAAa,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAI,IAAa,CAAC,IAAI,CAAC;gBAC7D,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;YACrC,CAAC;QACH,CAAC;QAED,2DAA2D;QAC3D,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,+DAAU,CAAC,SAAS,CAAC,CAAC,CAAC;YAC/C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;YACnD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,sBAAsB,CAAC,CAAC;QAChE,CAAC;QAED,oEAAoE;QACpE,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,KAAK,CAAC,CAAC,CAAC,CAAC;YAChC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YACjC,IAAI,CAAC,eAAe,EAAE,CAAC;QACzB,CAAC;QACD,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,cAAc,CAAC;IACtC,CAAC;IAED,oCAAS,GAAT,UAAU,CAAS;QACjB,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACjB,iFAAiF;YACjF,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;YACtB,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,IAAI,CAAC,wBAAwB,EAAE,CAAC;YAChC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC3B,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,KAAK,CAAC,0BAAwB,CAAC,MAAG,CAAC,CAAC;QACtC,CAAC;IACH,CAAC;IAED,6CAAkB,GAAlB;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACjB,IAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAC5B,iFAAiF;YACjF,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACX,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACnC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC;YAC9B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;YACnB,CAAC;YACD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;QACnD,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,KAAK,CAAC,sBAAsB,CAAC,CAAC;QAChC,CAAC;IACH,CAAC;IAED,mDAAwB,GAAxB;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACjB,IAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAC5B,iFAAiF;YACjF,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACX,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACnC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,IAAI,CAAC;YAClC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;YACzB,CAAC;YACD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACzD,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,KAAK,CAAC,4BAA4B,CAAC,CAAC;QACtC,CAAC;IACH,CAAC;IAED;;OAEG;IACH,6CAAkB,GAAlB;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACjB,IAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAC5B,iFAAiF;YACjF,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACX,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACnC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;YAC9B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,oBAAoB;YACtB,CAAC;YACD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;QACnD,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,KAAK,CAAC,sBAAsB,CAAC,CAAC;QAChC,CAAC;IACH,CAAC;IAEC;;KAEC;IACH,mDAAwB,GAAxB;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACjB,IAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YAC5B,iFAAiF;YACjF,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBACX,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACnC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC;YAClC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,0BAA0B;YAC5B,CAAC;YACD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;QACzD,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,KAAK,CAAC,4BAA4B,CAAC,CAAC;QACtC,CAAC;IACH,CAAC;IAGK,wCAAa,GAAnB;;;;;;wBACQ,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;wBACzB,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;wBACzC,IAAI,GAAG,IAAI,CAAC;6BACd,MAAK,CAAC,MAAM,KAAK,+DAAU,CAAC,IAAI,GAAhC,wBAAgC;wBAClB,qBAAM,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,0DAAG,CAAC,gBAAM;gCACjF,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;4BACtD,CAAC,CAAC,EAAE,gEAAS,EAAE,CAAC,CAAC,SAAS,EAAE;;wBAFtB,OAAO,GAAG,SAEY;6BAExB,QAAO,KAAK,IAAI,GAAhB,wBAAgB;wBAClB,UAAK;wBAAY,qBAAM,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE;;wBAA1E,GAAM,OAAO,GAAG,CAAC,SAAyD,CAAC,CAAC,KAAK,EAAE,CAAC;;;wBAGtF,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,EAAC,IAAI,EAAE,6DAAY,CAAC,IAAI,EAAE,OAAO,EAAE,cAAY,KAAK,CAAC,QAAQ,oBAAe,OAAS,EAAC,CAAC,CAAC;;;wBAEtH,OAAO,KAAK,CAAC,IAAI,CAAC,CAAC;wBACJ,qBAAM,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,qDAAS,CAAC,cAAc,EAAE,KAAK,CAAC;;wBAAnE,MAAM,GAAG,SAA0D;wBACzE,oDAAoD;wBACpD,KAAK,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;wBAC3C,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC,MAAM,CAAC;;;;;KAC3C;IAEK,0CAAe,GAArB;;;;;;wBACQ,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;wBACzB,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;wBAC/C,qBAAM,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,qDAAS,CAAC,cAAc,EAAE,KAAK,CAAC;;wBAA1D,SAA0D,CAAC;;;;;KAC5D;IAzQU,gBAAgB;QAH5B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCA6E+B,qDAAS;YACT,qDAAS;YACR,+DAAc;YACtB,qDAAS;YACD,oEAAgB;OAhFrC,gBAAgB,CA0Q5B;IAAD,uBAAC;CAAA;AA1Q4B;AA4Q7B,IAAY,YAWX;AAXD,WAAY,YAAY;IACtB,+CAAI;IACJ,+CAAI;IACJ,iDAAK;IACL,+CAAI;IACJ,6DAAW;IACX,yDAAS;IACT,yDAAS;IACT,qEAAe;IACf,qEAAe;IACf,mFAAsB;AACxB,CAAC,EAXW,YAAY,KAAZ,YAAY,QAWvB;AAED,IAAY,OAaX;AAbD,WAAY,OAAO;IACjB,mDAAW;IACX,2CAAO;IACP,mDAAW;IACX,yDAAc;IACd,2CAAO;IACP,uCAAK;IACL,2CAAO;IACP,2CAAO;IACP,yCAAM;IACN,2CAAO;IACP,8CAAQ;IACR,oDAAW;AACb,CAAC,EAbW,OAAO,KAAP,OAAO,QAalB;AAED,IAAY,aAIX;AAJD,WAAY,aAAa;IACvB,iDAAI;IACJ,+CAAG;IACH,qDAAM;AACR,CAAC,EAJW,aAAa,KAAb,aAAa,QAIxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1T0C;AACZ;AAK/B;IA2BE;QAzBA,gBAAW,GAAoB,IAAI,4CAAO,EAAE,CAAC;QAE7C,YAAO,GAAG,KAAK,CAAC;QAER,cAAS,GAAiB,EAAE,CAAC;QAC7B,WAAM,GAAG,CAAC,CAAC;IAoBH,CAAC;IAlBjB,oCAAW,GAAX,UAAY,GAAe;QACzB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;IAC3C,CAAC;IAED,qCAAY,GAAZ;QACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;QACpC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACzB,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACvC,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QACxC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;QACxB,MAAM,CAAC,MAAM,CAAC;IAChB,CAAC;IAED,mCAAU,GAAV;QACE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;IAC7C,CAAC;IAzBU,cAAc;QAH1B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;;OACW,cAAc,CA8B1B;IAAD,qBAAC;CAAA;AA9B0B;AAgC3B;IAGE;IACA,CAAC;IACH,iBAAC;AAAD,CAAC;;AAED,IAAY,YAIX;AAJD,WAAY,YAAY;IACtB,+CAAI;IACJ,+CAAI;IACJ,iDAAK;AACP,CAAC,EAJW,YAAY,KAAZ,YAAY,QAIvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjD0C;AACO;AACD;AACE;AAKnD;IAqBE,0BAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAlBpC,gBAAW,GAAG,IAAI,4CAAO,EAAc,CAAC;QAMxC,aAAQ,GAAe;YACrB,EAAC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAC;YAC9B,EAAC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAC;YAC9B,EAAC,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAC;YAChC,EAAC,IAAI,EAAE,WAAW,EAAE,OAAO,EAAE,IAAI,EAAC;SACnC,CAAC;QAIF,kBAAa,GAAG,MAAM,CAAC;QACvB,YAAO,GAAG,KAAK,CAAC;QAChB,gBAAW,GAAG,SAAS,CAAC;QAEpB,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,iDAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,IAAI,CAAC,kEAAW,CAAC,CAAC,CAAC,CAAC,CAAC;IACjE,CAAC;IApBD,sBAAW,wCAAU;aAArB;YACE,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;QAC1B,CAAC;;;OAAA;IAoBa,oCAAS,GAAvB;;;;;4BACe,qBAAM,IAAI,CAAC,oBAAoB,EAAE;;wBAA1C,MAAM,GAAG,SAAiC;6BAC1C,EAAC,CAAC,MAAM,KAAK,KAAK,GAAlB,wBAAkB;wBACd,IAAI,GAAG,SAAS,CAAC,QAAQ,CAAC;wBACvB,qBAAM,IAAI,CAAC,SAAS,EAAE;;wBAA/B,MAAM,GAAG,SAAsB,CAAC;wBAChC,IAAI,CAAC,eAAe,EAAE,CAAC;;4BAEzB,sBAAO,CAAC,CAAC,CAAC,MAAM,CAAC,EAAC;;;;KACnB;IAEK,oCAAS,GAAf,UAAgB,OAAc,EAAE,iBAAyB;QAAzC,wCAAc;QAAE,6DAAyB;;;;;;wBACjD,IAAI,GAAG,IAAI,CAAC;wBACZ,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,iBAAe,IAAI,CAAC,aAAa,GAAG,OAAO,oBAAiB,CAAC,CAAC,IAAI,CAAC,2DAAI,CAAC,CAAC,CAAC,CAAC,CAAC;wBACtG,GAAG,GAAe,IAAI,CAAC;;;;wBAEnB,qBAAM,OAAO,CAAC,SAAS,EAAE;;wBAA/B,GAAG,IAAG,SAAuC,EAAC;wBAC9C,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;wBACxB,IAAI,CAAC,GAAG,GAAG,GAAiB,CAAC;wBAC7B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;wBAChC,EAAE,CAAC,CAAC,iBAAiB,KAAK,IAAI,CAAC,CAAC,CAAC;4BAC/B,IAAI,CAAC,eAAe,EAAE,CAAC;wBACzB,CAAC;;;;wBAED,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;4BAE9B,sBAAO,GAAG,EAAC;;;;KACZ;IAEK,+CAAoB,GAA1B;;;;gBACQ,IAAI,GAAG,IAAI,CAAC;gBACd,IAAI,GAAW,IAAI,CAAC;gBACxB,IAAI,CAAC;oBACH,IAAI,GAAG,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;gBACvD,CAAC;gBAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACf,IAAI,GAAG,IAAI,CAAC;gBACd,CAAC;gBACD,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACX,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;oBACrB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAe,CAAC;oBAC/E,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBAClC,CAAC;gBAED,sBAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAC;;;KACnC;IAED,0CAAe,GAAf;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YACf,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YACpE,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC/D,CAAC;IACH,CAAC;IA7EU,gBAAgB;QAH5B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAsB0B,+DAAU;OArBzB,gBAAgB,CA8E5B;IAAD,uBAAC;CAAA;AA9E4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRc;AACU;AACoB;AAKzE;IAQE;QAHQ,gBAAW,GAAG,IAAI,4CAAO,EAAW,CAAC;QAC7C,eAAU,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,kEAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAGjD,IAAI,CAAC,cAAc,EAAE,CAAC;IACvB,CAAC;IAEI,+CAAc,GAApB;;;;;;oBAEE,qDAAqD;oBACrD,qBAAM,qDAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,2DAAI,CAAC,CAAC,CAAC,EAC9B,gEAAS,CAAC,WAAC;4BACT,MAAM,GAAG,eAAe,CAAC,SAAS,EAAE,CAAC;4BACrC,MAAM,CAAC,CAAC,CAAC,MAAM,KAAK,KAAK,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC;wBACnD,CAAC,CAAC,CACH,CAAC,SAAS,EAAE;;wBANb,qDAAqD;wBACrD,SAKa,CAAC;wBAEd,iEAAiE;wBACjE,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,KAAK,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;4BAC5C,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,WAAC,IAAI,eAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,EAArB,CAAqB,CAAC,CAAC;4BAC5D,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;4BAC1E,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAC9B,CAAC;wBAED,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;;;;;KACtB;IAED,sCAAK,GAAL,UAAM,IAAuB;QAC3B,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC;YACrB,KAAK,CAAC,8DAA4D,IAAM,CAAC,CAAC;YAC1E,MAAM,CAAC;QACT,CAAC;QACD,iDAAiD;QACjD,eAAe,CAAC,KAAK,EAAE,CAAC;QACxB,eAAe,CAAC,MAAM,EAAE,CAAC;QACzB,8CAA8C;QAC9C,IAAM,KAAK,GAAG,IAAI,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACtD,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACzB,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACvB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3B,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC;YAC1B,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QAC3B,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACzB,CAAC;QACD,+BAA+B;QAC/B,eAAe,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAC7B,eAAe,CAAC,MAAM,EAAE,CAAC;IAC3B,CAAC;IAED,yDAAwB,GAAxB,UAAyB,GAAsB;QAC7C,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,KAAK,IAAI,CAAC,CAAC,CAAC;YAC7B,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,KAAK,GAAG,CAAC,SAAS,EAAxB,CAAwB,CAAC,CAAC;YAC5D,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC;gBAAA,MAAM,CAAC,GAAG,CAAC;YAAC,CAAC;QAC1C,CAAC;QAED,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC,CAAC;YACxB,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,KAAK,GAAG,CAAC,IAAI,EAAnB,CAAmB,CAAC,CAAC;YACvD,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC;gBAAA,MAAM,CAAC,GAAG,CAAC;YAAC,CAAC;QAC1C,CAAC;QAED,MAAM,CAAC,GAAG,CAAC;IACb,CAAC;IAnEU,sBAAsB;QAHlC,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;;OACW,sBAAsB,CAoElC;IAAD,6BAAC;CAAA;AApEkC;AAsElC;IAAA;QACC,SAAI,GAAG,OAAO,CAAC;QAEf,UAAK,GAAG,CAAC,CAAC;QACV,SAAI,GAAG,CAAC,CAAC;QACT,SAAI,GAAG,MAAM,CAAC;QAEd,WAAM,GAAG,CAAC,CAAC;IACZ,CAAC;IAAD,wBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrFyC;AACS;AAOpD;IAEE;IAAgB,CAAC;IAFN,YAAY;QAHxB,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;;OACW,YAAY,CAGxB;IAAD,mBAAC;CAAA;AAHwB;AAKzB;IAqBE,eAAY,GAAgB;QApB5B,SAAI,GAAG,OAAO,CAAC;QACf,UAAK,GAAG,eAAe,CAAC;QACxB,gBAAW,GAAG,EAAE,CAAC;QACjB,aAAQ,GAAG,EAAE,CAAC;QAMd,YAAO,GAAG,EAAE,CAAC,CAAC,kCAAkC;QAChD,WAAM,GAAG,+DAAU,CAAC,GAAG,CAAC;QAExB,aAAQ,GAAG,EAAE,CAAC;QACd,cAAS,GAAG,EAAE,CAAC;QAGf,WAAM,GAAG,CAAC,CAAC,CAAC;QAEZ,cAAS,GAAG,SAAS,CAAC,IAAI,CAAC;QAGzB,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC;YAC9B,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC;QAClC,CAAC;QACD,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IACH,YAAC;AAAD,CAAC;;AAwBD,IAAY,SAIX;AAJD,WAAY,SAAS;IACnB,yCAAI;IACJ,6CAAM;IACN,uCAAG;AACL,CAAC,EAJW,SAAS,KAAT,SAAS,QAIpB;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzE0C;AACA;AACJ;AACvC,oCAAoC;AAC6B;AAKjE;IAgCE,wBAAoB,UAA0B;QAA1B,eAAU,GAAV,UAAU,CAAgB;QAvB9C,qBAAgB,GAAG,KAAK,CAAC;QAEjB,gBAAW,GAAG,KAAK,CAAC;QAU5B,eAAU,GAAG,IAAI,4CAAO,EAAW,CAAC;QAYlC,IAAI,CAAC,OAAO,GAAG,IAAI,4CAAO,EAAkB,CAAC;QAC7C,IAAI,CAAC,aAAa,GAAG,IAAI,4CAAO,EAAyB,CAAC;QAC1D,IAAI,CAAC,OAAO,GAAG,IAAI,4CAAO,EAAmB,CAAC;IAClD,CAAC;IAxBC,sBAAW,sCAAU;aAArB;YACE,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;QAC1B,CAAC;aACD,UAAsB,CAAU;YAC9B,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC;gBACf,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC1B,CAAC;YACD,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;QACvB,CAAC;;;OANA;IASM,2BAAY,GAAnB,UAAoB,GAAW;QAC7B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC9B,CAAC;IAEM,sBAAO,GAAd,UAAe,GAAW;QACxB,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACpC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IAClC,CAAC;IAQD,uCAAc,GAAd;QAAA,iBAiBC;QAhBC,gDAAgD;QAChD,mGAAmG;QACnG,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,KAAK,IAAI,CAAC,CAAC,CAAC;YACnC,MAAM,CAAC;QACT,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC/B,CAAC;QACD,IAAM,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC;QACtB,MAAO,CAAC,uBAAuB,GAAG;YACtC,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,KAAI,CAAC,UAAU,CAAC,WAAW,CAAC,EAAC,IAAI,EAAE,6DAAY,CAAC,IAAI,EAAE,OAAO,EAAE,4BAA4B,EAAC,CAAC,CAAC;QAChG,CAAC,CAAC;QACF,IAAM,SAAS,GAAG,GAAG,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAC9C,SAAS,CAAC,IAAI,GAAG,iBAAiB,CAAC;QACnC,SAAS,CAAC,GAAG,GAAG,oCAAoC,CAAC;QACrD,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;IAClC,CAAC;IAED,yCAAgB,GAAhB,UAAiB,KAAwB,EAAE,GAAW;QAAtD,iBAyBC;QAxBC,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,4DAAK,EAAE,CAAC,CAAC,SAAS,CAAC,cAAM,YAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,GAAG,CAAC,EAAjC,CAAiC,CAAC,CAAC;YACjF,MAAM,CAAC;QACT,CAAC;QACD,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,KAAK,CAAC,GAAG,GAAG,kCAAgC,GAAG,yCAAsC,CAAC;QACtF,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;YAC7D,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACnC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC,0DAA0D;YACrF,CAAC;YACD,IAAI,CAAC,QAAQ,GAAG,IAAI,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE;gBACnC,MAAM,EAAE;oBACN,SAAS,EAAE,UAAC,EAAE,IAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;oBAC5C,eAAe,EAAE,UAAC,EAAE,IAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;oBACxD,SAAS,EAAE,UAAC,EAAE,IAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;oBAC5C,aAAa,EAAE,UAAC,EAAE;wBAChB,2EAA2E;wBAC3E,uFAAuF;oBACzF,CAAC;iBACF;aACF,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAhFM,oBAAK,GAAG,kGAAkG,CAAC;IAFvG,cAAc;QAH1B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAiCgC,+DAAc;OAhCnC,cAAc,CAmF1B;IAAD,qBAAC;CAAA;AAnF0B;;;;;;;;;;;;;;;;ACT8C;AAEzE;IAuBI;QArBA,eAAU,GAAG,GAAG,CAAC;QAMjB,WAAM,GAAG,GAAG,CAAC;QACb,QAAG,GAAG,GAAG,CAAC,CAAC,kBAAkB;QAC7B,WAAM,GAAG,GAAG,CAAC;QAEb,UAAK,GAAG,CAAC,CAAC;QACV,QAAG,GAAG,CAAC,CAAC;QAER,SAAI,GAAG,CAAC,CAAC;QACT,WAAM,GAAG,CAAC,CAAC;QAEX,aAAQ,GAAG,EAAE,CAAC;QAEd,YAAO,GAAG,KAAK,CAAC;QAChB,cAAS,GAAG,IAAI,oFAAiB,EAAE,CAAC;QAGhC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC;QACnD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC;QACnD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC;QACnD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QAC1B,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IACL,aAAC;AAAD,CAAC;;;;;;;;;;;;;;;;AChCD,IAAY,UAMX;AAND,WAAY,UAAU;IAClB,2CAAI;IACJ,2CAAI;IACJ,2CAAI;IACJ,yCAAG;IACH,qDAAS;AACb,CAAC,EANW,UAAU,KAAV,UAAU,QAMrB;;;;;;;;;;;;;;ACND;AAAA,gFAAgF;AAChF,2EAA2E;AAC3E,gEAAgE;AAEzD,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;GAKG;AACH,mEAAmE;;;;;;;;;;;;;;;;;;;;ACdpB;AAC4B;AAE9B;AACY;AAEvC;AAElB,EAAE,CAAC,CAAC,qEAAW,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,oEAAc,EAAE,CAAC;AACnB,CAAC;AAED,gGAAsB,EAAE,CAAC,eAAe,CAAC,yDAAS,CAAC;KAChD,KAAK,CAAC,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CAAC,CAAC","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \".container{\\r\\n    display: -ms-grid;\\r\\n    display: grid;\\r\\n        -ms-grid-rows: auto 1fr;\\r\\n        grid-template-rows: auto 1fr;\\r\\n    height: 100vh;\\r\\n        grid-template-areas: \\\"navbar\\\" \\\"content\\\";\\r\\n}\\r\\n\\r\\napp-navbar{\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: navbar;\\r\\n    color: white;\\r\\n    width: 100vw;\\r\\n}\\r\\n\\r\\nmat-sidenav {\\r\\n    display: flex;\\r\\n    overflow-x: hidden;\\r\\n}\\r\\n\\r\\napp-home {\\r\\n    flex: 1;\\r\\n    display: -ms-grid;\\r\\n    display: grid;\\r\\n    -ms-grid-rows: auto 1fr;\\r\\n        grid-template-rows: auto 1fr;\\r\\n}\\r\\n\\r\\n.vSeparate {\\r\\n    position: absolute;\\r\\n    z-index: 1;\\r\\n    width: 2px;\\r\\n    height: 100%;\\r\\n    background-color: black;\\r\\n    touch-action: none;\\r\\n}\\r\\n\\r\\n.vSeparate:hover {\\r\\n    cursor: col-resize;\\r\\n}\\r\\n\\r\\n.content{\\r\\n    -ms-grid-row: 2;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: content;\\r\\n    overflow-y: auto;\\r\\n}\\r\\n\\r\\n.page{\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n#resizeWidth {\\r\\n    touch-action: none;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    right: 0;\\r\\n    width: 20px;\\r\\n    height: 40px;\\r\\n    order: 2;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n#sidenavTabs {\\r\\n    z-index: 0;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n#sidenavTabs ::ng-deep .mat-tab-label {\\r\\n    min-width: 40px !important;\\r\\n}\\r\\n\\r\\n#sidenavTabs ::ng-deep .mat-tab-body-wrapper {\\r\\n    position: relative;\\r\\n    height: 100%;\\r\\n}\"","module.exports = \"<div #container class=\\\"container\\\">\\r\\n  <app-navbar #navbar class=\\\"mat-elevation-z6\\\" (toggleSidenav_Click)=\\\"sidenav.opened=!sidenav.opened\\\"></app-navbar>\\r\\n  <mat-sidenav-container #sidenavContainer class=\\\"content\\\">\\r\\n      <mat-sidenav #sidenav [mode]=\\\"sidenavMode\\\" align=\\\"start\\\" [opened]=\\\"true\\\"\\r\\n        [style.width]=\\\"sidenavWidth+'px'\\\">\\r\\n        <!-- <app-home class=\\\"page\\\" [style.display]=\\\"(gv.shownPage===pageType.Home)?'block':'none'\\\"></app-home> -->\\r\\n        <mat-tab-group id=\\\"sidenavTabs\\\" mat-stretch-tabs [dynamicHeight]=\\\"true\\\">\\r\\n            <mat-tab>\\r\\n                <ng-template matTabLabel>\\r\\n                    <mat-icon>library_music</mat-icon>\\r\\n                </ng-template>\\r\\n                <app-home class=\\\"page\\\"></app-home>\\r\\n            </mat-tab>            \\r\\n            <mat-tab>\\r\\n                <ng-template matTabLabel>\\r\\n                    <mat-icon>music_video</mat-icon>\\r\\n                </ng-template>\\r\\n                <app-story class=\\\"page\\\" *ngIf=\\\"!!meService.story?.urlOrID===true\\\"></app-story>\\r\\n                <span *ngIf=\\\"!!meService.story?.urlOrID===false\\\">{{(!!pts)?pts.chooseAMediaAtFirst:'請先選一個媒體'}}</span>\\r\\n            </mat-tab>            \\r\\n        </mat-tab-group>\\r\\n        <div class=\\\"vSeparate\\\" [style.left]=\\\"sidenavWidth-2+'px'\\\" touch-action=\\\"none\\\"\\r\\n          (pointerdown)=\\\"onvSepPointerDown($event)\\\"></div>\\r\\n        <svg id=\\\"resizeWidth\\\" viewBox=\\\"0 0 10 20\\\" (pointerdown)=\\\"onvSepPointerDown($event)\\\" touch-action=\\\"none\\\">\\r\\n          <polygon points=\\\"0,10 10,0 10,20\\\" style=\\\"fill:cadetblue;opacity: 0.5;\\\"/>\\r\\n        </svg>\\r\\n      </mat-sidenav>\\r\\n      <!-- <div class=\\\"page\\\"> -->\\r\\n        <!-- <router-outlet></router-outlet> -->\\r\\n        <mat-sidenav-content class=\\\"page\\\" [style.margin-left]=\\\"(sidenavMode==='over')?0:(sidenavWidth+'px')\\\"\\r\\n          [style.width]=\\\"((sidenavMode==='over'||(sidenav.opened===false))?container.clientWidth:(container.clientWidth-sidenavWidth))+'px'\\\">\\r\\n            <app-media-edit class=\\\"page\\\" [style.display]=\\\"(gv.shownPage===pageType.MediaEdit)?'block':'none'\\\"></app-media-edit>\\r\\n            <app-test class=\\\"page\\\" [style.display]=\\\"(gv.shownPage===pageType.Test)?'block':'none'\\\"></app-test>\\r\\n        </mat-sidenav-content>\\r\\n      <!-- </div> -->\\r\\n      </mat-sidenav-container>\\r\\n</div>\\r\\n\"","import { Component, AfterViewInit } from '@angular/core';\nimport { MessageService, MessageTypes } from './services/message.service';\nimport { MatBottomSheet } from '@angular/material';\nimport { MessageComponent } from './message/message.component';\nimport { YoutubeService } from './services/youtube.service';\nimport { GvService, PageType } from './services/gv.service';\nimport { Subject, of } from 'rxjs';\nimport { DeviceService } from './services/device.service';\nimport { concatAll, takeUntil, map, concat, merge, take, debounceTime } from 'rxjs/operators';\nimport { MediaEditService } from './services/media-edit.service';\nimport { PageTextsService } from './services/page-texts.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements AfterViewInit {\n\n  resize$ = new Subject<PointerEvent>();\n  sidenavWidth: number;\n  sidenavMode: string;\n\n  pageType = PageType;\n\n  pts: IAppComp;\n\n  constructor(public msgService: MessageService, public gv: GvService,\n    public ptsService: PageTextsService,\n    private ytService: YoutubeService, private device: DeviceService, public meService: MediaEditService) {\n      const self = this;\n      self.ptsService.PTSReady$.pipe(concat(self.ptsService.ptsLoaded$)).subscribe(isDone => {\n        if (isDone) {\n          self.pts = self.ptsService.pts.appComp;\n        }\n      });\n\n      this.sidenavWidth = (window.innerWidth < 800) ? 300 : window.innerWidth / 4;\n    this.decideSidenavMode();\n  }\n\n  ngAfterViewInit() {\n    const self = this;\n    this.ytService.embedApiScript();\n    let px = NaN;\n    // * [2018-07-29 20:11] For resizing the sideNav\n    this.resize$.pipe(\n        map(_ => self.device.onPointermove$.pipe(\n          takeUntil(self.device.onPointerup$.pipe(\n            merge(self.device.onPointermove$.pipe(debounceTime(1000)))\n          )),\n          concat(of(null))\n        )),\n        concatAll(),\n    ).subscribe((ev: PointerEvent) => {\n      if (ev === null) { // if at the end\n        px = NaN;\n        this.decideSidenavMode();\n      } else {\n        if (isNaN(px)) { // if at the start\n          px = ev.screenX;\n        } else {\n          const dx = ev.screenX - px;\n          px = ev.screenX;\n            self.sidenavWidth += dx;\n        }\n      }\n    });\n  }\n\n  decideSidenavMode() {\n    const self = this;\n    if (self.sidenavWidth * 2 > window.innerWidth) {\n      self.sidenavMode = 'over';\n    } else {\n      self.sidenavMode = 'side';\n    }\n  }\n\n  onvSepPointerDown(ev: PointerEvent) {\n    this.resize$.next(ev);\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { MessageComponent } from './message/message.component';\r\nimport { MessageService } from './services/message.service';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport {MatButtonModule, MatBottomSheetModule, MatBadgeModule, MatIconModule,\r\n  MatFormFieldModule, MatInputModule, MatListModule, MatDialogModule,\r\n  MatSidenavModule, MatSliderModule, MatTabsModule, MatMenuModule,\r\n  MatTooltipModule, MatSelectModule, MatSlideToggleModule} from '@angular/material';\r\nimport { NavbarComponent } from './navbar/navbar.component';\r\nimport { AppRoutingModule } from './modules/app-routing/app-routing.module';\r\nimport { HomeComponent } from './pages/home/home.component';\r\nimport { TestComponent } from './pages/test/test.component';\r\nimport { SafePipe, SafeHtmlPipe } from './pipes/safe.pipe';\r\nimport { MediaEditComponent } from './pages/media-edit/media-edit.component';\r\nimport { MeMainDashboardComponent } from './components/me-main-dashboard/me-main-dashboard.component';\r\nimport { MeSectionDashboardComponent } from './components/me-section-dashboard/me-section-dashboard.component';\r\nimport { MeManiPlateComponent } from './components/me-mani-plate/me-mani-plate.component';\r\nimport { PlayerComponent } from './components/player/player.component';\r\nimport { MediaEditService } from './services/media-edit.service';\r\nimport { YoutubeService } from './services/youtube.service';\r\nimport { GvService } from './services/gv.service';\r\nimport { DialogComponent } from './dialog/dialog.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { DbService } from './services/db.service';\r\nimport { DeviceService } from './services/device.service';\r\nimport { DraglistComponent } from './components/draglist/draglist.component';\r\nimport { SwapIconComponent } from './components/swap-icon/swap-icon.component';\r\nimport { CommonModule } from '../../node_modules/@angular/common';\r\nimport { StoryComponent } from './pages/story/story.component';\r\nimport { FsService } from './services/fs.service';\r\nimport { ClipboardService } from './services/clipboard.service';\r\nimport { PageTextsService } from './services/page-texts.service';\r\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\r\nimport { AdService } from './services/ad.service';\r\nimport { SpeechSynthesisService } from './services/speech-synthesis.service';\r\nimport { SetSpeechSynthesisComponent } from './components/set-speech-synthesis/set-speech-synthesis.component';\r\nimport { CrossCompService } from './services/cross-comp.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    MessageComponent,\r\n    NavbarComponent,\r\n    HomeComponent,\r\n    TestComponent,\r\n    SafePipe,\r\n    SafeHtmlPipe,\r\n    MediaEditComponent,\r\n    MeMainDashboardComponent,\r\n    MeSectionDashboardComponent,\r\n    MeManiPlateComponent,\r\n    PlayerComponent,\r\n    DialogComponent,\r\n    DraglistComponent,\r\n    SwapIconComponent,\r\n    StoryComponent,\r\n    SetSpeechSynthesisComponent\r\n  ],\r\n  entryComponents: [MessageComponent, DialogComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    BrowserAnimationsModule,\r\n    MatButtonModule,\r\n    MatBadgeModule,\r\n    MatIconModule,\r\n    MatSidenavModule,\r\n    MatInputModule,\r\n    MatFormFieldModule,\r\n    MatBottomSheetModule,\r\n    MatListModule,\r\n    MatDialogModule,\r\n    CommonModule,\r\n    MatSliderModule,\r\n    MatTabsModule,\r\n    MatTooltipModule,\r\n    HttpClientModule,\r\n    MatMenuModule,\r\n    MatSelectModule,\r\n    MatSlideToggleModule\r\n  ],\r\n  providers: [MessageService, MediaEditService, YoutubeService, GvService, DbService, DeviceService\r\n    , FsService, ClipboardService, PageTextsService, AdService, SpeechSynthesisService, CrossCompService\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","module.exports = \".container {\\r\\n    display: -ms-grid;\\r\\n    display: grid;\\r\\n    -ms-grid-columns: 1fr;\\r\\n        grid-template-columns: 1fr;\\r\\n}\\r\\n\\r\\n.backDel {\\r\\n    -ms-grid-column: 1;\\r\\n    grid-column: 1;\\r\\n    -ms-grid-row: 1;\\r\\n    grid-row: 1;\\r\\n    background-color: red;\\r\\n    border-radius: 4px;\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n.right {\\r\\n    margin-left: auto;\\r\\n}\\r\\n\\r\\n.content {\\r\\n    -ms-grid-column: 1;\\r\\n    grid-column: 1;\\r\\n    -ms-grid-row:1;\\r\\n    grid-row:1;\\r\\n    background-color: white;\\r\\n    touch-action: none;\\r\\n}\"","module.exports = \"<div class=\\\"container\\\">\\r\\n    <div class=\\\"backDel\\\">\\r\\n        <mat-icon class=\\\"mat-18 left\\\">delete</mat-icon>\\r\\n        <mat-icon class=\\\"mat-18 right\\\">delete</mat-icon>\\r\\n    </div>\\r\\n    <button mat-button class=\\\"content\\\" (pointerdown)=\\\"onContentPointerdown($event)\\\" (click)=\\\"onContentClick($event)\\\" [style.transform]=\\\"'translateX('+deltaX+'px)'\\\" touch-action=\\\"none\\\">{{story.name}}</button>\\r\\n</div>\"","import { Component, OnInit, Input, OnDestroy, Output, EventEmitter } from '@angular/core';\nimport { IStory } from '../../services/story.service';\nimport { Subject, of, Subscription } from '../../../../node_modules/rxjs';\nimport { DeviceService } from '../../services/device.service';\nimport { map, takeUntil, concatAll, concat, withLatestFrom, debounce, debounceTime, merge } from '../../../../node_modules/rxjs/operators';\nimport { CrossCompService } from '../../services/cross-comp.service';\n\n@Component({\n  selector: 'app-draglist',\n  templateUrl: './draglist.component.html',\n  styleUrls: ['./draglist.component.css']\n})\nexport class DraglistComponent implements OnInit, OnDestroy {\n  @Input() story: IStory |{name: string};\n\n  @Output() delete = new EventEmitter();\n  @Output() contentClick = new EventEmitter();\n\n  deltaX: number;\n  maxSpeed = 0.5;\n\n  private _tmpXPointerdown = {time: 0, x: 0};\n  private _tmpXPointermove = {time: 0, x: 0};\n  private _tmpVx: number;\n\n  private _subDown: Subscription;\n  private _subSwap: Subscription;\n\n  // * inner events\n  protected contentPointerdown$ = new Subject<PointerEvent>();\n  protected contentPointerup$ = new Subject<PointerEvent>();\n\n  onContentPointerdown(ev: PointerEvent) {\n    this.contentPointerdown$.next(ev);\n  }\n\n  constructor(private deviceService: DeviceService, private ccService: CrossCompService) { }\n\n  ngOnInit() {\n    const self = this;\n    // Get the startX\n    self._subDown = self.contentPointerdown$.subscribe(ev => self._tmpXPointerdown = {time: ev.timeStamp, x: ev.screenX});\n    // Get scrollTop value\n    let scrollTop = -Infinity;\n    // Get the movingX and final V_x\n    self._subSwap = self.contentPointerdown$.pipe(\n      map( _ => self.deviceService.onPointermove$.pipe(\n        takeUntil(self.deviceService.onPointerup$),\n        // takeUntil(self.deviceService.onPointermove$.pipe(\n        //   debounceTime(400),\n        //   merge(self.deviceService.onPointerup$)\n        // )),\n        concat(of({timeStamp: 0, movementX: 0, screenX: -Infinity, screenY: -Infinity}))\n      )),\n      concatAll(),\n      // map(ev => ev.clientX)\n      withLatestFrom(self.contentPointerdown$, (e_move, e_down) => {\n        if (e_move.timeStamp !== 0) {\n          self._tmpXPointermove = {time: e_move.timeStamp, x: e_move.screenX};\n        }\n        return [e_move.screenX - e_down.screenX, e_move.screenY - e_down.screenY];\n      })\n    ).subscribe( dxy => {\n      if (dxy[0] < -1000) {\n        self.deltaX = 0;\n        self._tmpVx = (self._tmpXPointermove.x - self._tmpXPointerdown.x) / (self._tmpXPointermove.time - self._tmpXPointerdown.time);\n        // * [2018-07-19 10:38] send out a notification 'delete' when the speedX is higher than 0.5\n        if (Math.abs(self._tmpVx) > self.maxSpeed) {\n          self.delete.next();\n        }\n        scrollTop = -Infinity;\n      } else {\n        if (Math.abs(dxy[0]) > Math.abs(dxy[1])) {\n          self.deltaX = (dxy[0] < -1000) ? 0 : dxy[0];\n        } else {\n          if (!!self.ccService.listOfStoredEle) {\n            scrollTop = (scrollTop < -1000) ? self.ccService.listOfStoredEle.scrollTop : scrollTop;\n            self.ccService.listOfStoredEle.scrollTop = scrollTop - dxy[1];\n          }\n        }\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this._subDown.unsubscribe();\n    this._subSwap.unsubscribe();\n  }\n\n  onContentClick(ev) {\n    this.contentClick.next();\n  }\n\n}\n","module.exports = \".container {\\r\\n    width: 100%;\\r\\n    position: relative;\\r\\n    -ms-grid-row-align: center;\\r\\n        align-self: center;\\r\\n    height: 40px;\\r\\n    display:-ms-grid;\\r\\n    display:grid;\\r\\n}\\r\\n\\r\\n.slideContainer {\\r\\n    align-items: center;\\r\\n    /* display: flex; */\\r\\n    display: -ms-grid;\\r\\n    display: grid;\\r\\n        -ms-grid-columns: auto 1fr auto;\\r\\n        grid-template-columns: auto 1fr auto;\\r\\n        -ms-grid-rows: 1fr;\\r\\n        grid-template-rows: 1fr;\\r\\n        grid-template-areas: \\\"start center end\\\";\\r\\n}\\r\\n\\r\\n.slideStart {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: start\\r\\n}\\r\\n\\r\\n.slidePart {\\r\\n    display: -ms-grid;\\r\\n    display: grid;\\r\\n    position: relative;\\r\\n    height: 100%;\\r\\n    align-items: center;\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 2;\\r\\n    grid-area: center;\\r\\n    overflow: hidden;\\r\\n    min-width: 0;\\r\\n}\\r\\n\\r\\n.slideEnd {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 3;\\r\\n    grid-area: end\\r\\n}\\r\\n\\r\\n.slideCanvas {\\r\\n    order: 0;\\r\\n    z-index: 0;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-column: 1;\\r\\n    -ms-grid-row: 1;\\r\\n    grid-row: 1;\\r\\n    -o-object-fit: fill;\\r\\n       object-fit: fill;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    position: relative;\\r\\n    -webkit-transform-origin: left;\\r\\n            transform-origin: left;\\r\\n}\\r\\n\"","module.exports = \"<div #container class='container'>\\n  <!-- <button mat-icon-button (click)=\\\"onPlay()\\\" *ngIf=\\\"meService.state !== mEState.playing\\\"> -->\\n  <!-- <button mat-icon-button (click)=\\\"onPlay()\\\">\\n      <mat-icon class=\\\"mat-18\\\">play_arrow</mat-icon>\\n  </button> -->\\n  <!-- <button mat-icon-button (click)=\\\"onPause()\\\" *ngIf=\\\"meService.state===mEState.playing\\\"> -->\\n  <!-- <button mat-icon-button (click)=\\\"onPause()\\\">\\n      <mat-icon class=\\\"mat-18\\\">pause</mat-icon>\\n  </button> -->\\n  <div class=\\\"slideContainer\\\">\\n    <span class=\\\"slideStart\\\">0.0</span>\\n    <div #slidePart class=\\\"slidePart\\\" (click)=\\\"onChangeCurrentTime($event, slidePart)\\\" >\\n      <svg #slideCanvas class=\\\"slideCanvas\\\" [attr.viewBox]=\\\"'0 0 '+meService.duration+' '+'1'\\\" [attr.preserveAspectRatio]=\\\"'none'\\\">\\n        <rect *ngFor=\\\"let frame of meService.story.frames\\\"\\n        [style.fill]=\\\"'rgba('+frame.colorR+','+frame.colorG+','+frame.colorB+','+((!!frame.colorA)?frame.colorA:0.9)+')'\\\"\\n        [attr.width]= \\\"(frame.end-frame.start)\\\"\\n        [attr.height]=\\\"frame.height\\\"\\n        [attr.x]=\\\"frame.start\\\"\\n        [attr.y]=\\\"frame.top\\\"\\n        ></rect>\\n\\n        <!-- horizontal line -->\\n        <rect [style.fill]=\\\"'black'\\\" [attr.height]=\\\"(!!container.clientHeight)?2/container.clientHeight:2\\\" [attr.width]=\\\"meService.duration\\\" x=\\\"0\\\" y=\\\"50%\\\"></rect>\\n        <!-- pointer -->\\n        <rect [style.fill]=\\\"'blue'\\\" [attr.x]=\\\"((meService.currentTime>0)?meService.currentTime:0)\\\" y=\\\"0\\\" [attr.width]=\\\"(!!container.clientWidth)?2*meService.duration/container.clientWidth:1\\\" height=\\\"100%\\\"></rect>\\n      </svg>\\n    </div>\\n    <span class=\\\"slideEnd\\\">{{meService.duration| number: '1.1-1'}}</span>\\n  </div>\\n</div>\"","import { Component, OnInit, NgZone } from '@angular/core';\nimport { MediaEditService, playerAction, MEState } from 'src/app/services/media-edit.service';\n\n@Component({\n  selector: 'app-me-main-dashboard',\n  templateUrl: './me-main-dashboard.component.html',\n  styleUrls: ['./me-main-dashboard.component.css']\n})\nexport class MeMainDashboardComponent implements OnInit {\n\n  mEState = MEState;\n  pAction = playerAction;\n  private _action = playerAction.none;\n  public get action(): playerAction {\n    return this._action;\n  }\n  public set action(v: playerAction) {\n    this.meService.onPlayerAction.next(v);\n    this._action = v;\n  }\n\n  constructor(public meService: MediaEditService, private nZone: NgZone) { }\n\n  ngOnInit() {\n  }\n\n  onPlay() {\n    this.nZone.run( () => {\n      this.action = playerAction.play;\n    });\n  }\n\n  onPause() {\n    this.nZone.run( () => {\n      this.action = playerAction.pause;\n    });\n  }\n\n  onChangeCurrentTime(ev: MouseEvent, evOf: Element) {\n    // * [2018-07-23 11:35] since the support of ev.layerX for mobile is unknown, I tried to get them\n    // const target = ev.target as Element;\n    const target = evOf;\n    const rect = target.getBoundingClientRect();\n    const layerX = ev.clientX - rect.left;\n    // * [2018-07-23 11:36] Set the seekTime\n    this.meService.seekTime = layerX / rect.width * this.meService.duration;\n    this.meService.setiFrame(-1);\n  }\n}\n","module.exports = \".container {\\r\\n    touch-action: none;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: -ms-grid;\\r\\n    display: grid;\\r\\n        -ms-grid-columns: 1fr;\\r\\n        grid-template-columns: 1fr;\\r\\n        -ms-grid-rows: 1fr auto;\\r\\n        grid-template-rows: 1fr auto;\\r\\n        grid-template-areas: \\\"main\\\" \\\"slider\\\";\\r\\n}\\r\\n\\r\\n.main {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: main;\\r\\n    \\r\\n    display: -ms-inline-grid;\\r\\n    \\r\\n    display: inline-grid;\\r\\n        -ms-grid-columns: 1fr;\\r\\n        grid-template-columns: 1fr;\\r\\n        -ms-grid-rows: 1fr 1fr 1fr;\\r\\n        grid-template-rows: 1fr 1fr 1fr;\\r\\n        grid-template-areas: \\\"main-up\\\" \\r\\n    \\\"main-play\\\" \\r\\n    \\\"main-down\\\";\\r\\n    align-items: center;\\r\\n    justify-items: center;\\r\\n}\\r\\n\\r\\n.main-up {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: main-up;\\r\\n    display: -ms-grid;\\r\\n    display: grid;\\r\\n    -ms-grid-columns: 1fr;\\r\\n        grid-template-columns: 1fr;\\r\\n    z-index: 1;\\r\\n}\\r\\n\\r\\n.main-play {\\r\\n    -ms-grid-row: 2;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: main-play;\\r\\n    z-index: 1;\\r\\n}\\r\\n\\r\\n.main-down {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: main-down;\\r\\n    width:100%;\\r\\n    height: 100%;\\r\\n    align-self: baseline;\\r\\n    display: -ms-grid;\\r\\n    display: grid;\\r\\n}\\r\\n\\r\\n.smallSlider {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    border-radius: 20px;\\r\\n    background-color: white;\\r\\n    margin: 4px;\\r\\n}\\r\\n\\r\\n.slider {\\r\\n    -ms-grid-row: 2;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: slider;\\r\\n\\r\\n    display: -ms-grid;\\r\\n\\r\\n    display: grid;\\r\\n    -ms-grid-columns: auto 1fr auto;\\r\\n        grid-template-columns: auto 1fr auto;\\r\\n\\r\\n    background-color: white;\\r\\n    border-radius: 20px;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\nmat-slider {\\r\\n    -ms-grid-row: 1;\\r\\n    grid-row: 1;\\r\\n    -ms-grid-column: 2;\\r\\n    grid-column: 2;\\r\\n}\\r\\n\\r\\n.slider-start {\\r\\n    -ms-grid-row: 1;\\r\\n    grid-row: 1;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-column: 1;\\r\\n    margin: 4px;\\r\\n}\\r\\n\\r\\n.slider-end {\\r\\n    -ms-grid-row: 1;\\r\\n    grid-row: 1;\\r\\n    -ms-grid-column: 3;\\r\\n    grid-column: 3;\\r\\n    margin: 4px;\\r\\n}\\r\\n\\r\\n.upCenter, .upLeft, .upRight{\\r\\n    width: 30%;\\r\\n    top: -100%;\\r\\n    position: relative;\\r\\n    -ms-grid-row: 1;\\r\\n    grid-row: 1;\\r\\n}\\r\\n\\r\\n.upLeft {\\r\\n    -ms-grid-column: 1;\\r\\n    -ms-grid-column-span: 2;\\r\\n    grid-column: 1/3;\\r\\n}\\r\\n\\r\\n.upCenter {\\r\\n    -ms-grid-column: 2;\\r\\n    grid-column: 2;\\r\\n    -ms-grid-column-align: center;\\r\\n        justify-self: center;\\r\\n    text-shadow: 3px 0px 5px black,\\r\\n    -3px 0px 5px black,\\r\\n    0px 3px 5px black,\\r\\n    0px -3px 5px black;\\r\\n    text-align: center;\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n.upRight {\\r\\n    -ms-grid-column: 2;\\r\\n    -ms-grid-column-span: 2;\\r\\n    grid-column: 2/4;\\r\\n    -ms-grid-column-align: right;\\r\\n        justify-self: right;\\r\\n}\\r\\n\\r\\n.largeBtn {\\r\\n    width: 120px;\\r\\n    height: 120px;\\r\\n}\\r\\n\\r\\n#btnStart {\\r\\n    border-radius: 50% 0 0 50%;\\r\\n    margin: 0 8px;\\r\\n}\\r\\n\\r\\n#btnEnd {\\r\\n    border-radius: 0 50% 50% 0;\\r\\n    margin: 0 8px;\\r\\n}\\r\\n\\r\\n.subtitle {\\r\\n    text-align: center;\\r\\n    min-height: 20px;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    background-color: white;\\r\\n    z-index: 2;\\r\\n    -ms-grid-column: 1;\\r\\n        grid-column-start: 1;\\r\\n    -ms-grid-row: 1;\\r\\n        grid-row-start: 1;\\r\\n}\\r\\n\\r\\n.shadow {\\r\\n    z-index: 1;\\r\\n    text-shadow: 3px 0px 5px black,\\r\\n    -3px 0px 5px black,\\r\\n    0px 3px 5px black,\\r\\n    0px -3px 5px black;\\r\\n    color: white;\\r\\n    background-color: transparent;\\r\\n}\\r\\n\\r\\n.flex {\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.setSS {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: main-up;\\r\\n    -ms-grid-row: main-up;\\r\\n        grid-row-start: main-up;\\r\\n    -ms-grid-row-span: NaN;\\r\\n    grid-row-end: main-play;\\r\\n    background-color: lightyellow;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    z-index: 2;\\r\\n}\"","module.exports = \"<div class=\\\"container\\\" [@changeFrame]=\\\"meService.story.iFrame\\\" \\r\\n(pointerenter)=\\\"HideShow='show'\\\" (pointerleave)=\\\"onPointLeave($event)\\\" touch-action=\\\"none\\\">\\r\\n<div class=\\\"main\\\">\\r\\n    <div class=\\\"main-up\\\" [@hideShow]=\\\"HideShow\\\" *ngIf=\\\"isSSShown===false\\\">\\r\\n        <div class=\\\"flex\\\">\\r\\n            <div #ratio class=\\\"smallSlider\\\">\\r\\n                <mat-icon>directions_walk</mat-icon>\\r\\n                <mat-slider min=\\\"0\\\" [max]=\\\"meService.availablePlaybackRates.length-1\\\" step=\\\"1\\\"\\r\\n                [displayWith]=\\\"tickDisplayWith(meService)\\\" thumbLabel \\r\\n                [value]=\\\"meService.availablePlaybackRates.indexOf(meService.playbackRate)\\\"\\r\\n                (input)=\\\"meService.playbackRate=meService.availablePlaybackRates[$event.value]\\\" ></mat-slider>\\r\\n                <mat-icon>flight</mat-icon>\\r\\n            </div>\\r\\n            <div #volume class=\\\"smallSlider\\\">\\r\\n                <mat-icon>volume_mute</mat-icon>\\r\\n                <mat-slider min=\\\"0\\\" max=\\\"1\\\" step=\\\"0.2\\\" thumbLabel [(ngModel)]=\\\"meService.volume\\\"></mat-slider>\\r\\n                <mat-icon>volume_up</mat-icon>\\r\\n            </div>                \\r\\n        </div>\\r\\n        <div class=\\\"flex\\\">\\r\\n            <mat-slide-toggle [(ngModel)]=\\\"meService.story.frames[meService.story.iFrame].isUtter\\\" color=\\\"primary\\\">\\r\\n                語音模擬字幕？\\r\\n            </mat-slide-toggle>\\r\\n            <button mat-icon-button mat-raised-button\\r\\n              *ngIf=\\\"meService.story.frames[meService.story.iFrame].isUtter\\\"\\r\\n              (click)=\\\"onShowSetSS($event)\\\">\\r\\n                <mat-icon class=\\\"mat-18\\\">build</mat-icon>\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n    \\r\\n    <div class=\\\"main-play\\\" [@hideShow]=\\\"HideShow\\\" *ngIf=\\\"isSSShown===false\\\">\\r\\n        <button id=\\\"btnStart\\\" mat-icon-button mat-raised-button \\r\\n        (click)=\\\"meService.seekTime=meService.story.frames[meService.story.iFrame].start\\\"\\r\\n        (pointerdown)=\\\"startChanged$.next($event)\\\" >\\r\\n        <mat-icon class=\\\"mat-18\\\">skip_previous</mat-icon>\\r\\n    </button>\\r\\n    <button mat-icon-button mat-raised-button class=\\\"largeBtn\\\" (click)=\\\"onPlayPause()\\\">\\r\\n        <svg viewBox=\\\"0 0 10 10\\\" *ngIf=\\\"previousState!==MEState.playing\\\">\\r\\n            <polygon points=\\\"8,5 3,2 3,8\\\" style=\\\"fill:darkblue\\\"/>\\r\\n        </svg>\\r\\n        <svg viewBox=\\\"0 0 10 10\\\" *ngIf=\\\"previousState===MEState.playing\\\">\\r\\n            <rect x=\\\"2\\\" y=\\\"2\\\" width=\\\"2\\\" height=\\\"6\\\" style=\\\"fill:red\\\"/>\\r\\n            <rect x=\\\"6\\\" y=\\\"2\\\" width=\\\"2\\\" height=\\\"6\\\" style=\\\"fill:red\\\"/>\\r\\n        </svg>\\r\\n    </button>\\r\\n    <button id=\\\"btnEnd\\\" mat-icon-button mat-raised-button \\r\\n    (click)=\\\"meService.seekTime=meService.story.frames[meService.story.iFrame].end\\\"\\r\\n    (pointerdown)=\\\"endChanged$.next($event)\\\" >\\r\\n    <mat-icon class=\\\"mat-18\\\">skip_next</mat-icon>\\r\\n</button>\\r\\n</div>\\r\\n    \\r\\n<app-set-speech-synthesis class=\\\"setSS\\\"\\r\\n*ngIf=\\\"isSSShown\\\"\\r\\n[utterPara]=\\\"utterPara\\\"\\r\\n(change)=\\\"onUtterParaChanged(subtitleView.innerText,$event)\\\"\\r\\n(close)=\\\"isSSShown=false\\\"\\r\\n[@hideShow]=\\\"HideShow\\\"\\r\\n[@flyInOut]=\\\"isSSShown\\\" ></app-set-speech-synthesis>\\r\\n\\r\\n<div class=\\\"main-down\\\">\\r\\n    <textarea matInput #subtitleInput class=\\\"subtitle\\\"\\r\\n    [ngModel]=\\\"meService.story.frames[meService.story.iFrame].subtitle\\\"\\r\\n    (ngModelChange)=\\\"subtitleChange$.next([subtitleInput.value,subtitleView.innerText])\\\"\\r\\n    (click)=\\\"onSubtitleClicked($event)\\\"\\r\\n    [style.opacity]=\\\"(HideShow==='show')?1:0\\\">\\r\\n</textarea>\\r\\n<div #subtitleView class=\\\"subtitle shadow\\\" \\r\\n[innerHTML]=\\\"subtitleInput.value|safeHtml\\\" \\r\\n></div>\\r\\n</div>\\r\\n</div>\\r\\n<div class=\\\"slider\\\">\\r\\n    <input #inStart type=\\\"number\\\" [@flyInOut]=\\\"IOStartShown\\\" class=\\\"upLeft\\\" [(ngModel)]=\\\"meService.story.frames[meService.story.iFrame].start\\\" (blur)=\\\"IOStartShown='out'\\\">\\r\\n    <div class=\\\"upCenter\\\">{{meService.currentTime}}</div>\\r\\n    <input #inEnd type=\\\"number\\\" [@flyInOut]=\\\"IOEndShown\\\" class=\\\"upRight\\\" [(ngModel)]=\\\"meService.story.frames[meService.story.iFrame].end\\\"  (blur)=\\\"IOEndShown='out'\\\">\\r\\n    <span class=\\\"slider-start\\\" (click)=\\\"onOpenInputStart(inStart)\\\" >{{meService.story.frames[meService.story.iFrame].start | number: '1.1-1'}}</span>\\r\\n    <!-- <mat-form-field><input class=\\\"slider-start\\\" matInput [(ngModel)]=\\\"meService.story.frames[meService.story.iFrame].start\\\"></mat-form-field> -->\\r\\n    <mat-slider #frameSlider [min]=\\\"meService.story.frames[meService.story.iFrame].start\\\"\\r\\n    [max]=\\\"meService.story.frames[meService.story.iFrame].end\\\"\\r\\n    [value]=\\\"meService.currentTime\\\"\\r\\n    (change)=\\\"meService.seekTime=frameSlider.value\\\"\\r\\n    ></mat-slider>\\r\\n    <span class=\\\"slider-end\\\" (click)=\\\"onOpenInputEnd(inEnd)\\\" >{{meService.story.frames[meService.story.iFrame].end | number: '1.1-1'}}</span>\\r\\n</div>\\r\\n</div>\"","import { Component, OnInit, AfterViewInit, ViewChild, ElementRef, OnDestroy } from '@angular/core';\nimport { MediaEditService, playerAction, MEState } from 'src/app/services/media-edit.service';\nimport { trigger, transition, style, animate, state } from '../../../../node_modules/@angular/animations';\nimport { Subject, interval } from '../../../../node_modules/rxjs';\nimport { DeviceService } from '../../services/device.service';\nimport { map, concatAll, takeUntil, auditTime, withLatestFrom, distinctUntilChanged, debounceTime } from 'rxjs/operators';\nimport { SSutterParameters, SpeechSynthesisService } from '../../services/speech-synthesis.service';\n\n@Component({\n  selector: 'app-me-mani-plate',\n  templateUrl: './me-mani-plate.component.html',\n  styleUrls: ['./me-mani-plate.component.css'],\n  animations: [\n    trigger('changeFrame', [\n      transition('* => *', [\n        style({transform: 'translateY(-100%)'}),\n        animate('0.2s 0.1s ease-in', style({transform: 'translateY(0)'}))\n      ])\n    ]),\n    trigger('flyInOut', [\n      state('in', style({transform: 'translateY(0)', opacity: 1})),\n      state('out', style({transform: 'translateY(100%)', opacity: 0})),\n      transition('out => in', [\n        style({transform: 'translateY(100%)', opacity: 0}),\n        animate('0.2s 0.1s ease-in', style({transform: 'translateY(0)', opacity: 1}))\n      ]),\n      transition('in => out', [\n        animate('0.2s 0.1s ease-out', style({transform: 'translateY(100%)', opacity: 0}))\n      ])\n    ]),\n    trigger('hideShow', [\n      state('show', style({opacity: 1})),\n      state('hide', style({opacity: 0})),\n      transition('hide => show', [animate('0.2s 0.1s ease-in', style({opacity: 1}))]),\n      transition('show => hide', [animate('4s 2s ease-out', style({opacity: 0}))]),\n    ])\n  ]\n})\nexport class MeManiPlateComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  previousState: MEState = MEState.initialized;\n  MEState = MEState;\n\n  IOStartShown = 'out';\n  IOEndShown = 'out';\n  HideShow = 'show';\n\n  _msDelta = 400;\n\n  isToUtter: boolean;\n  isSSShown = false;\n  utterPara: SSutterParameters;\n\n  isSubtitleClicked: boolean;\n\n  // [innerHtml,innerText]\n  subtitleChange$ = new Subject<string[]>();\n\n  unSubscribed$ = new Subject<boolean>();\n\n  startChanged$ = new Subject<PointerEvent>();\n  endChanged$ = new Subject<PointerEvent>();\n\n  constructor(public meService: MediaEditService, public SSService: SpeechSynthesisService,\n    private device: DeviceService) {\n    }\n\n  ngOnInit() {\n    const self = this;\n    this.previousState = this.meService.state;\n    // * [2018-08-25 18:19] Update utterPara when iFrame is updated\n    this.meService.setiFrame$.pipe(takeUntil(self.unSubscribed$)).subscribe(i => {\n      if (i >= 0) {\n        self.updateUtterParaOfAFrame(i);\n        if (this.meService.story.frames[this.meService.story.iFrame].isUtter === true) {\n          self.utterSubtitle(self.utterPara.text, self.utterPara);\n        }\n      }\n    });\n    // * [2018-08-25 18:44] For subtitleChange\n    self.subtitleChange$.pipe(takeUntil(self.unSubscribed$)).pipe(\n      debounceTime(200),\n      distinctUntilChanged()).subscribe(sts => {\n        self.meService.story.frames[self.meService.story.iFrame].subtitle = sts[0];\n        self.meService.story.frames[self.meService.story.iFrame].utterPara.text = sts[0];\n      });\n    // * [2018-08-26 16:56] Reutter the subtitle for repeatStart\n    self.meService.repeatStart$.pipe(takeUntil(self.unSubscribed$)).subscribe(i => {\n      if (i >= 0) {\n        if (this.meService.story.frames[i].isUtter === true) {\n          self.utterSubtitle(self.utterPara.text, self.utterPara);\n        }\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.unSubscribed$.next(true);\n    this.unSubscribed$.complete();\n    this.unSubscribed$ = null;\n  }\n\n  ngAfterViewInit() {\n    const self = this;\n    Promise.resolve(null).then(_ => this.HideShow = 'hide');\n    // * [2018-08-09 14:44] For start and value\n    self.startChanged$.pipe(takeUntil(self.unSubscribed$)).pipe(map(ev =>\n      interval(self._msDelta).pipe(\n        withLatestFrom(self.device.onPointermove$),\n        map(([ _ , vm]) => vm),\n        takeUntil(self.device.onPointerup$)\n      )\n    ), concatAll())\n    .pipe(\n      withLatestFrom(self.device.onPointerdown$, (vm, vd) => {\n        const frame = self.meService.story.frames[self.meService.story.iFrame];\n        if (vm.screenX > vd.screenX) {\n          const start = Math.ceil(frame.start + 0.001);\n          if (start < frame.end) {\n            frame.start = start;\n            self.meService.seekTime = frame.start;\n          }\n        } else if ( vm.screenX < vd.screenX) {\n          const start = Math.floor(frame.start - 0.001);\n          if (start < frame.end && start >= 0) {\n            frame.start = start;\n            self.meService.seekTime = frame.start;\n          }\n        }\n      })\n    ).subscribe();\n\n    self.endChanged$.pipe(takeUntil(self.unSubscribed$)).pipe(map(ev =>\n      interval(self._msDelta).pipe(\n        withLatestFrom(self.device.onPointermove$),\n        map(([ _ , vm]) => vm),\n        takeUntil(self.device.onPointerup$)\n      )\n    ), concatAll())\n    .pipe(\n      withLatestFrom(self.device.onPointerdown$, (vm, vd) => {\n        const frame = self.meService.story.frames[self.meService.story.iFrame];\n        if (vm.screenX > vd.screenX) {\n          const end = Math.ceil(frame.end + 0.001);\n          if (end > frame.start && end < self.meService.duration) {\n            frame.end = end;\n          }\n        } else if ( vm.screenX < vd.screenX) {\n          const end = Math.floor(frame.end - 0.001);\n          if (end > frame.start) {\n            frame.end = end;\n          }\n        }\n      })\n    ).subscribe();\n  }\n\n  onPlayPause() {\n    if (this.previousState !== MEState.playing) {\n      this.meService.onPlayerAction.next(playerAction.play);\n      this.previousState = MEState.playing;\n    } else if (this.previousState === MEState.playing) {\n      this.meService.onPlayerAction.next(playerAction.pause);\n      this.previousState = MEState.paused;\n    }\n  }\n\n  onOpenInputStart(inStart: HTMLInputElement) {\n    inStart.focus();\n    this.IOStartShown = 'in';\n  }\n\n  onOpenInputEnd(inEnd: HTMLInputElement) {\n    inEnd.focus();\n    this.IOEndShown = 'in';\n  }\n\n  tickDisplayWith = (meService: MediaEditService) => {\n    return (i: number) => {\n      return meService.availablePlaybackRates[i];\n    };\n  }\n\n  onUtterParaChanged(text: string, utterPara: SSutterParameters) {\n    // * [2018-08-25 16:14] Update the frame\n    if (this.meService.story.iFrame >= 0) {\n      const storyUtterPara = Object.assign({}, utterPara);\n      this.meService.story.frames[this.meService.story.iFrame].utterPara = storyUtterPara;\n      storyUtterPara.text = text;\n      storyUtterPara.voiceName = utterPara.voice.name;\n      storyUtterPara.lang = utterPara.voice.lang;\n      delete storyUtterPara['voice'];\n    }\n    // * [2018-08-25 16:15] Play it.\n    if (this.meService.story.frames[this.meService.story.iFrame].isUtter === true) {\n      this.utterSubtitle(text, utterPara);\n    }\n  }\n\n  utterSubtitle(text: string, utterPara: SSutterParameters) {\n    this.utterPara = utterPara;\n    this.utterPara.text = text;\n    this.SSService.speak(this.utterPara);\n  }\n\n  onPointLeave(e: PointerEvent) {\n    if (this.isSubtitleClicked === false) {\n      this.HideShow = 'hide';\n    }\n  }\n\n  onSubtitleClicked(e: MouseEvent) {\n    const self = this;\n    self.isSubtitleClicked = true;\n    this.HideShow = 'show';\n    setTimeout(_ => self.isSubtitleClicked = false, 100);\n  }\n\n  onShowSetSS(e: MouseEvent) {\n    this.isSSShown = true;\n  }\n\n  updateUtterParaOfAFrame(iFrame: number = 0) {\n    const self = this;\n    const story = self.meService.story;\n    let utterPara: SSutterParameters;\n    // * [2018-08-25 15:10] Update utterPara from a frame\n    if (!!story.frames[iFrame].utterPara === false) {\n      utterPara = new SSutterParameters();\n      story.frames[iFrame].utterPara = utterPara;\n    }\n    // * [2018-08-25 18:25] Also update this.utterPara\n    utterPara = Object.assign({}, story.frames[iFrame].utterPara);\n    self.utterPara = self.SSService.updateUtterParaWithVoice(utterPara);\n  }\n}\n","module.exports = \".container {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.large {\\r\\n    font-size: large;\\r\\n}\\r\\n\\r\\n.listContainer {\\r\\n    flex-grow: 1;\\r\\n    max-height: 120px;\\r\\n    overflow-y: auto;\\r\\n    display: inline;\\r\\n}\\r\\n\\r\\n.blink {\\r\\n    -webkit-animation-duration: 1s;\\r\\n            animation-duration: 1s;\\r\\n    -webkit-animation-name: blink;\\r\\n            animation-name: blink;\\r\\n    -webkit-animation-iteration-count: infinite;\\r\\n            animation-iteration-count: infinite;\\r\\n}\\r\\n\\r\\n@-webkit-keyframes blink {\\r\\n    to {\\r\\n        opacity: 0.8;\\r\\n    }\\r\\n}\\r\\n\\r\\n@keyframes blink {\\r\\n    to {\\r\\n        opacity: 0.8;\\r\\n    }\\r\\n}\"","module.exports = \"<div class=\\\"container\\\">\\n  <button id=\\\"allBtn\\\" mat-icon-button mat-raised-button (click)=\\\"onWhichFrame(-1)\\\">\\n    <mat-icon class=\\\"mat-18\\\">all_inclusive</mat-icon>\\n  </button>\\n  <button id=\\\"plusBtn\\\" mat-icon-button mat-raised-button (click)=\\\"onAddFrame()\\\">\\n    <span class=\\\"large\\\">+</span>\\n  </button>\\n\\n  <div class=\\\"listContainer\\\">\\n    <app-swap-icon\\n    *ngFor=\\\"let aFrame of meService.story.frames; let i = index;\\\" \\n    [index]=\\\"i\\\"\\n    [bR]=\\\"aFrame.colorR\\\"\\n    [bG]=\\\"aFrame.colorG\\\"\\n    [bB]=\\\"aFrame.colorB\\\"\\n    [class.blink]=\\\"i===meService.story.iFrame\\\"\\n    (contentClick)=\\\"onWhichFrame(i)\\\"\\n    (delete)=\\\"onRemoveFrame(i)\\\">\\n    </app-swap-icon>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\r\nimport { MediaEditService } from '../../services/media-edit.service';\r\nimport { AFrame } from '../../vm/a-frame';\r\n\r\n@Component({\r\n  selector: 'app-me-section-dashboard',\r\n  templateUrl: './me-section-dashboard.component.html',\r\n  styleUrls: ['./me-section-dashboard.component.css']\r\n})\r\nexport class MeSectionDashboardComponent implements OnInit {\r\n\r\n  constructor(public meService: MediaEditService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  onAddFrame() {\r\n    const frame = new AFrame();\r\n    frame.start = this.meService.currentTime;\r\n    frame.end = frame.start + 10;\r\n    frame.height = 0.6;\r\n    frame.top = Math.random() * 0.4;\r\n    this.meService.story.frames.push(frame);\r\n  }\r\n\r\n  onRemoveFrame(i: number) {\r\n    const frames = this.meService.story.frames;\r\n    frames.splice(i, 1);\r\n    this.meService.setiFrame(-1);\r\n  }\r\n\r\n  onWhichFrame(i: number) {\r\n    this.meService.setiFrame(i);\r\n    if (i >= 0) {\r\n      this.meService.seekTime = this.meService.story.frames[i].start;\r\n    }\r\n    console.log(`${i}/ **************************** TODO **************************/`);\r\n  }\r\n}\r\n","module.exports = \"video{\\r\\n    height: 100%;\\r\\n    width: auto;\\r\\n    max-width: 100%;\\r\\n    background: transparent no-repeat;\\r\\n    /* For windows, it should be '/www/...' and for android is '/android_asset/www/...' */\\r\\n    /* Now I declare it in html file */\\r\\n    background-size: contain;\\r\\n    background-position: center;\\r\\n}\\r\\n\\r\\n.container, #youtube {\\r\\n    width: 100%;\\r\\n    height: 100%\\r\\n}\"","module.exports = \"<div class=\\\"container\\\">\\r\\n    <video #video [style.display]=\\\"(meService.story.meType===pType.url||meService.story.meType===pType.file)?'block':'none'\\\" (click)=\\\"onVideoPlayOrPause($event)\\\" controls poster=\\\"data:image/gif;base64,AAAA\\\" [style.background-image]=\\\"'url(\\\\'assets/MusicNotes.svg\\\\')'\\\"\\r\\n        [src]=\\\"videoSrc|safe\\\"></video>\\r\\n    <iframe #youtube id=\\\"youtube\\\" [frameBorder]=\\\"0\\\" [style.display]=\\\"(meService.story.meType===pType.youtubeID)?'block':'none'\\\"></iframe>\\r\\n</div>\"","import { Component, OnInit, ViewChild, ElementRef, OnDestroy, NgZone } from '@angular/core';\r\nimport { MediaEditService, MEState, playerAction } from 'src/app/services/media-edit.service';\r\nimport { YoutubeService } from 'src/app/services/youtube.service';\r\nimport { Subject, interval, from, fromEvent } from 'rxjs';\r\nimport { takeUntil, map, distinctUntilChanged, merge, share } from 'rxjs/operators';\r\nimport { SafePipe } from 'src/app/pipes/safe.pipe';\r\nimport { MessageService, MessageTypes } from 'src/app/services/message.service';\r\nimport { PlayerType } from '../../vm/player-type.enum';\r\nimport { equalSegments } from '../../../../node_modules/@angular/router/src/url_tree';\r\nimport { DeviceService } from '../../services/device.service';\r\n\r\n@Component({\r\n  selector: 'app-player',\r\n  templateUrl: './player.component.html',\r\n  styleUrls: ['./player.component.css']\r\n})\r\nexport class PlayerComponent implements OnInit, OnDestroy {\r\n\r\n  pType = PlayerType;\r\n  unSubscribed = new Subject<boolean>();\r\n\r\n  videoSrc: string;\r\n\r\n  private _ytVId: string;\r\n  public get ytVId(): string {\r\n    return this._ytVId;\r\n  }\r\n  public set ytVId(v: string) {\r\n    this.YTservice.loadURLforPlayer(this.youtubeEle, v);\r\n    this._ytVId = v;\r\n  }\r\n\r\n  @ViewChild('video')\r\n  ngVideo: ElementRef;\r\n  videoEle: HTMLVideoElement;\r\n\r\n  @ViewChild('youtube')\r\n  ngYoutube: ElementRef;\r\n  youtubeEle: HTMLIFrameElement;\r\n  isInited = false;\r\n  _msInterval = 200;\r\n\r\n  constructor(public meService: MediaEditService, private YTservice: YoutubeService,\r\n    private msgService: MessageService, private ngZone: NgZone, private device: DeviceService) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    const self = this;\r\n    this.videoEle = this.ngVideo.nativeElement;\r\n    this.youtubeEle = this.ngYoutube.nativeElement;\r\n    this.eventTriggers();\r\n    this.eventListeners();\r\n    // * [2018-06-18 20:57] because this component might be initialized after the MEState.readyForPlayer, I need to deal with this situation\r\n    if ((this.meService.state === MEState.readyForPlayer) && (this.isInited === false)) {\r\n      this.initMe();\r\n      this.isInited = true;\r\n    }\r\n    if (this.device.isCordova && cordova.platformId === 'ios') {\r\n      self.videoEle.setAttribute(\"playsinline\", \"true\");\r\n    }\r\n    self.meService.state = MEState.playerReady;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.unSubscribed.next(true);\r\n    this.unSubscribed.complete();\r\n  }\r\n\r\n  getCurrentTime(): number {\r\n    const self = this;\r\n    const meType = self.meService.story.meType;\r\n    if (meType === self.pType.youtubeID) {\r\n      if (self.YTservice.isApiReady && !!self.YTservice.ytPlayer.getCurrentTime) {\r\n        return self.YTservice.ytPlayer.getCurrentTime();\r\n      } else {\r\n        return -1;\r\n      }\r\n    } else {\r\n      return self.videoEle.currentTime;\r\n    }\r\n  }\r\n\r\n  eventListeners() {\r\n    const self = this;\r\n    // * For readyForPlayer\r\n    this.meService.onStateChanged\r\n    .pipe(takeUntil(self.unSubscribed))\r\n    .subscribe((t) => {\r\n      if (t === MEState.readyForPlayer) {\r\n        if (self.isInited === false) {self.isInited = true; }\r\n        self.initMe();\r\n      }\r\n    });\r\n    // * [2018-07-21 19:44] For CurrentTime\r\n    self.meService.onCurrentTimeChanged = interval(self._msInterval)\r\n    .pipe(\r\n      map(_ => self.getCurrentTime()),\r\n      distinctUntilChanged(),\r\n      share()\r\n    );\r\n    self.meService.onCurrentTimeChanged\r\n    .pipe(takeUntil(self.unSubscribed))\r\n    .subscribe(t => {\r\n      self.meService.currentTime = t;\r\n      // console.log(t);\r\n    });\r\n\r\n    let isDuringStart = false; // For iOS because its seek time might be earlier than the time you are seeking to\r\n    let isDuringEnd = false;\r\n    // * [2018-07-24 13:48] For repeating each frame\r\n    self.meService.onCurrentTimeChanged\r\n    .pipe(takeUntil(self.unSubscribed))\r\n    .subscribe(t => {\r\n      try {\r\n        let start = 0;\r\n        let end = self.meService.duration - 0.1;\r\n        const iFrame = self.meService.story.iFrame;\r\n        if (iFrame >= 0) {\r\n          const frame = self.meService.story.frames[iFrame];\r\n          if (!!frame) {\r\n            start = frame.start;\r\n            end = frame.end;\r\n          }\r\n        }\r\n        if (t < start) {\r\n          if (isDuringStart === false) {\r\n            isDuringStart = true;\r\n            self.meService.seekTime = start;\r\n          }\r\n        } else if (t > (end - (self._msInterval / 1000))) {\r\n          if (isDuringEnd === false) {\r\n            isDuringEnd = true;\r\n            setTimeout(() => {\r\n              isDuringEnd = false;\r\n              self.meService.seekTime = start;\r\n              if (self.meService.isRepeat === false) {\r\n                self.meService.onPlayerAction.next(playerAction.pause);\r\n              } else {\r\n                self.meService.repeatStart$.next(iFrame);\r\n              }\r\n            }, (end - t) * 1000);\r\n          }\r\n        } else {\r\n          if (isDuringStart === true) {\r\n            isDuringStart = false;\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    });\r\n\r\n    // * [2018-07-22 22:16] Update Duration & availablePlaybackRates\r\n    fromEvent(self.videoEle, 'durationchange')\r\n    // .pipe(merge(fromEvent(self.videoEle, 'loadstart')))\r\n    .pipe( takeUntil(self.unSubscribed))\r\n    .subscribe(_ => {\r\n      self.meService.duration = self.videoEle.duration;\r\n      self.meService.availablePlaybackRates = [0.25, 0.5, 0.75, 1, 1.5, 2, 4];\r\n    });\r\n    self.YTservice.onReady\r\n    .pipe( takeUntil(self.unSubscribed))\r\n    .subscribe(_ => {\r\n      self.meService.duration = self.YTservice.ytPlayer.getDuration();\r\n      self.meService.availablePlaybackRates = self.YTservice.ytPlayer.getAvailablePlaybackRates();\r\n    });\r\n\r\n    // * For playerAction\r\n    this.meService.onPlayerAction\r\n    .pipe(takeUntil(self.unSubscribed))\r\n    .subscribe((t) => {\r\n      const meType = self.meService.story.meType;\r\n      if (meType === self.pType.url || meType === self.pType.file) {\r\n        switch (t) {\r\n          case playerAction.play:\r\n          self.videoEle.play();\r\n          break;\r\n          case playerAction.pause:\r\n          self.videoEle.pause();\r\n          break;\r\n          case playerAction.seek:\r\n          self.videoEle.currentTime = self.meService.seekTime;\r\n          break;\r\n          case playerAction.getDuration:\r\n          self.meService.duration = self.videoEle.duration;\r\n          break;\r\n          case playerAction.getVolume:\r\n          self.meService._volume = self.videoEle.volume;\r\n          break;\r\n          case playerAction.setVolume:\r\n          self.videoEle.volume = self.meService.volume;\r\n          break;\r\n          case playerAction.getPlaybackRate:\r\n          self.meService._playbackRate = self.videoEle.playbackRate;\r\n          break;\r\n          case playerAction.setPlaybackRate:\r\n          self.videoEle.playbackRate = self.meService.playbackRate;\r\n          break;\r\n          case playerAction.getAllowedPlaybackRate:\r\n          self.meService.availablePlaybackRates = [0.25, 0.5, 0.75, 1, 1.5, 2, 4];\r\n          break;\r\n          default:\r\n          break;\r\n        }\r\n      } else if (meType === self.pType.youtubeID) {\r\n        const ytPlayer = self.YTservice.ytPlayer;\r\n        if (!!ytPlayer === false) {return; }\r\n        switch (t) {\r\n          case playerAction.play:\r\n          ytPlayer.playVideo();\r\n          break;\r\n          case playerAction.pause:\r\n          ytPlayer.pauseVideo();\r\n          break;\r\n          case playerAction.seek:\r\n          if (!!ytPlayer.seekTo) {\r\n            ytPlayer.seekTo(self.meService.seekTime, true);\r\n          }\r\n          break;\r\n          case playerAction.getDuration:\r\n          if (!!ytPlayer && !!ytPlayer.getDuration) {\r\n            self.meService.duration = ytPlayer.getDuration();\r\n          }\r\n          break;\r\n          case playerAction.getVolume:\r\n          self.meService._volume = ytPlayer.getVolume() / 100;\r\n          break;\r\n          case playerAction.setVolume:\r\n          ytPlayer.setVolume(self.meService.volume * 100);\r\n          break;\r\n          case playerAction.getPlaybackRate:\r\n          self.meService._playbackRate = ytPlayer.getPlaybackRate();\r\n          break;\r\n          case playerAction.setPlaybackRate:\r\n          ytPlayer.setPlaybackRate(self.meService.playbackRate);\r\n          break;\r\n          case playerAction.getAllowedPlaybackRate:\r\n          self.meService.availablePlaybackRates = ytPlayer.getAvailablePlaybackRates();\r\n          break;\r\n          default:\r\n          break;\r\n        }\r\n      }\r\n    });\r\n    // * [2018-06-26 15:53] For Youtube stateChange\r\n    self.YTservice.onStateChange\r\n    .pipe(takeUntil(this.unSubscribed))\r\n    .subscribe( (ev) => {\r\n      self.ngZone.run(() => {\r\n        switch (ev.data) {\r\n          case YT.PlayerState.PLAYING:\r\n            self.meService.state = MEState.playing;\r\n            break;\r\n          case YT.PlayerState.PAUSED:\r\n            self.meService.state = MEState.paused;\r\n            break;\r\n          case YT.PlayerState.ENDED:\r\n            self.meService.state = MEState.stopped;\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      });\r\n    });\r\n    // * [2018-06-26 16:50] For Youtube Ready\r\n    self.YTservice.onReady\r\n    .pipe(takeUntil(this.unSubscribed))\r\n    .subscribe( (ev) => {\r\n      if (self.meService.story.modifyTime === 0) {\r\n        const data = (self.YTservice.ytPlayer as any).getVideoData();\r\n        if (!!data && !!data.title) {\r\n          self.meService.story.name = data.title;\r\n        }\r\n      }\r\n      self.meService.state = MEState.canPlay;\r\n    });\r\n  }\r\n\r\n  eventTriggers() {\r\n    const self = this;\r\n    // * [2018-06-18 11:11] for MEState.canPlay\r\n    this.videoEle.oncanplay = (ev) => {\r\n      self.meService.state = MEState.canPlay;\r\n    };\r\n    // * [2018-06-18 11:11] for MEState.error\r\n    this.videoEle.onerror = (ev) => {\r\n      self.meService.state = MEState.error;\r\n    };\r\n    // * [2018-06-18 11:11] for MEState.waiting\r\n    this.videoEle.onwaiting = (ev) => {\r\n      self.meService.state = MEState.waiting;\r\n    };\r\n    // * [2018-06-18 11:11] for MEState.playing\r\n    this.videoEle.onplay = (ev) => {\r\n      self.meService.state = MEState.playing;\r\n    };\r\n    this.videoEle.onplaying = (ev) => {\r\n      self.meService.state = MEState.playing;\r\n    };\r\n    // * [2018-06-18 11:11] for MEState.paused\r\n    this.videoEle.onpause = (ev) => {\r\n      self.meService.state = MEState.paused;\r\n    };\r\n    // * [2018-06-18 11:11] for MEState.stopped\r\n    this.videoEle.onended = (ev) => {\r\n      self.meService.state = MEState.stopped;\r\n    };\r\n    // ************************* TODO *****************************\r\n  }\r\n\r\n  initMe() {\r\n    // ******* TODO *******\r\n    const meType = this.meService.story.meType;\r\n    const urlOrId = this.meService.story.urlOrID;\r\n    if (meType ===  PlayerType.url) {\r\n      if (YoutubeService.isYoutubeURL(urlOrId)) {\r\n        this.meService.story.meType = PlayerType.youtubeID;\r\n        this.ytVId = YoutubeService.getYTId(urlOrId);\r\n      } else {\r\n        this.videoSrc = urlOrId;\r\n      }\r\n    } else if (meType === PlayerType.youtubeID) {\r\n      if (YoutubeService.isYoutubeURL(urlOrId)) {\r\n        this.ytVId = YoutubeService.getYTId(urlOrId);\r\n      } else {\r\n        this.ytVId = urlOrId;\r\n      }\r\n    } else if (meType === PlayerType.file) {\r\n      this.videoSrc = urlOrId;\r\n    }\r\n  }\r\n\r\n  onVideoPlayOrPause(ev: MouseEvent) {\r\n    ev.preventDefault();\r\n    const state = this.meService.state;\r\n    if (state === MEState.paused || state === MEState.readyForPlayer || state === MEState.canPlay) {\r\n      this.meService.onPlayerAction.next(playerAction.play);\r\n    } else {\r\n      this.meService.onPlayerAction.next(playerAction.pause);\r\n    }\r\n  }\r\n}\r\n","module.exports = \".close {\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n}\\r\\n\\r\\n.selVoiceContainer, .utterContainer {\\r\\n    justify-content: center;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.selVoice {\\r\\n    min-width: 72%;\\r\\n}\\r\\n\"","module.exports = \"<div class=\\\"container\\\">\\n  <button mat-icon-button class=\\\"close\\\" (click)=\\\"close.next()\\\">\\n    <mat-icon class=\\\"mat-18\\\">close</mat-icon>\\n  </button>\\n  <div class=\\\"selVoiceContainer\\\">\\n    <mat-form-field class=\\\"selVoice\\\">\\n      <mat-select #selVoice [value]=\\\"utterPara.voice\\\"\\n      (selectionChange)=\\\"utterPara.voice=selVoice.value;change.next(utterPara)\\\"\\n      [placeholder]=\\\"(!!pts)?pts.selLang:'選個語音模擬語言'\\\">\\n        <mat-option *ngFor=\\\"let voice of SSService.voices\\\" [value]=\\\"voice\\\">{{voice.name}}</mat-option>\\n      </mat-select>\\n    </mat-form-field>\\n  </div>\\n  <div class=\\\"utterContainer\\\">\\n    <div>\\n      <mat-icon class=\\\"mat-18\\\">directions_walk</mat-icon>\\n      <mat-slider #selRate\\n        [thumbLabel]=\\\"true\\\"\\n        [value]=\\\"utterPara.rate\\\"\\n        (change)=\\\"utterPara.rate=selRate.value;change.next(utterPara);\\\"\\n        min=\\\"0.1\\\" max=\\\"4\\\" step=\\\"0.1\\\"></mat-slider>\\n      <mat-icon class=\\\"mat-18\\\">flight</mat-icon>\\n    </div>\\n    \\n    <div>\\n      <mat-icon class=\\\"mat-18\\\">keyboard_arrow_down</mat-icon>\\n      <mat-slider #selPitch\\n        [thumbLabel]=\\\"true\\\"\\n        [value]=\\\"utterPara.pitch\\\"\\n        (change)=\\\"utterPara.pitch=selPitch.value;change.next(utterPara);\\\"\\n        min=\\\"0\\\" max=\\\"2\\\" step=\\\"0.1\\\"></mat-slider>\\n      <mat-icon class=\\\"mat-18\\\">keyboard_arrow_up</mat-icon>\\n    </div>\\n    <div>\\n      <mat-icon class=\\\"mat-18\\\">volume_mute</mat-icon>\\n      <mat-slider #selVolume\\n        [thumbLabel]=\\\"true\\\"\\n        [value]=\\\"utterPara.volume\\\"\\n        (change)=\\\"utterPara.volume=selVolume.value;change.next(utterPara);\\\"\\n        min=\\\"0.1\\\" max=\\\"1\\\" step=\\\"0.1\\\"></mat-slider>\\n      <mat-icon class=\\\"mat-18\\\">volume_up</mat-icon>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\nimport { SpeechSynthesisService, SSutterParameters } from '../../services/speech-synthesis.service';\nimport { PageTextsService } from '../../services/page-texts.service';\nimport { concat } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-set-speech-synthesis',\n  templateUrl: './set-speech-synthesis.component.html',\n  styleUrls: ['./set-speech-synthesis.component.css']\n})\nexport class SetSpeechSynthesisComponent implements OnInit {\n\n  @Output() close = new EventEmitter();\n\n  @Output() change: EventEmitter<SSutterParameters> = new EventEmitter();\n  @Input() utterPara: SSutterParameters;\n\n  selVoice: SpeechSynthesisVoice;\n\n  pts: ISetSSComp;\n\n  constructor(public SSService: SpeechSynthesisService, public ptsService: PageTextsService) {\n    if (!!this.utterPara === false) {\n      this.utterPara = new SSutterParameters();\n    }\n  }\n\n  ngOnInit() {\n    const self = this;\n    self.ptsService.PTSReady$.pipe(concat(self.ptsService.ptsLoaded$)).subscribe(_ => {\n      self.pts = self.ptsService.pts.setSSComp;\n    });\n  }\n}\n","module.exports = \"\\r\\n.container {\\r\\n    display: -ms-inline-grid;\\r\\n    display: inline-grid;\\r\\n        -ms-grid-columns: 1fr;\\r\\n        grid-template-columns: 1fr;\\r\\n        -ms-grid-rows: 1fr;\\r\\n        grid-template-rows: 1fr;\\r\\n        grid-template-areas: 'center';\\r\\n}\\r\\n\\r\\nbutton {\\r\\n    touch-action: none;\\r\\n}\\r\\n\\r\\n.eachButton, .delBK {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: center;\\r\\n    /* grid-column: 1;\\r\\n    grid-row: 1; */\\r\\n}\\r\\n\\r\\n.delBK {\\r\\n    background-color: red;\\r\\n    color: white;\\r\\n}\"","module.exports = \"<span class=\\\"container\\\">\\r\\n  <button mat-icon-button class=\\\"delBK\\\">\\r\\n    <mat-icon class=\\\"mat-18\\\">delete</mat-icon>\\r\\n  </button>\\r\\n  <button mat-icon-button mat-raised-button\\r\\n  class=\\\"eachButton\\\"\\r\\n  touch-action=\\\"none\\\"\\r\\n  [style.transform]=\\\"'translateY('+deltaY+'px)'\\\"\\r\\n  [style.background-color]=\\\"'rgba('+bR+','+bG+','+bB+','+bA+')'\\\"\\r\\n  (pointerdown)=\\\"onContentPointerdown($event)\\\"\\r\\n  (click)=\\\"onBtnClick($event)\\\">\\r\\n  <span>{{index}}</span>\\r\\n</button>\\r\\n</span>\\r\\n\"","import { Component, OnInit, Input, OnDestroy, Output, EventEmitter } from '@angular/core';\nimport { Subscription, Subject, of } from 'rxjs';\nimport { DeviceService } from '../../services/device.service';\nimport { map, takeUntil, concat, concatAll, withLatestFrom } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-swap-icon',\n  templateUrl: './swap-icon.component.html',\n  styleUrls: ['./swap-icon.component.css']\n})\nexport class SwapIconComponent implements OnInit, OnDestroy {\n\n  @Input() index: number;\n\n  @Input() bR: number;\n  @Input() bG: number;\n  @Input() bB: number;\n  @Input() bA = 1;\n\n  @Output() delete = new EventEmitter();\n  @Output() contentClick = new EventEmitter();\n\n  deltaY: number;\n  maxSpeed = 0.9;\n\n  private _tmpYPointerdown = {time: 0, y: 0};\n  private _tmpYPointermove = {time: 0, y: 0};\n  private _tmpVy: number;\n\n  private _subDown: Subscription;\n  private _subSwap: Subscription;\n\n  // * inner events\n  protected contentPointerdown$ = new Subject<PointerEvent>();\n  protected contentPointerup$ = new Subject<PointerEvent>();\n\n  onContentPointerdown(ev: PointerEvent) {\n    this.contentPointerdown$.next(ev);\n  }\n\n  constructor(private deviceService: DeviceService) { }\n\n  ngOnInit() {\n    const self = this;\n    // Get the startX\n    self._subDown = self.contentPointerdown$.subscribe(ev => self._tmpYPointerdown = {time: ev.timeStamp, y: ev.screenY});\n    // Get the movingX and final V_x\n    self._subSwap = self.contentPointerdown$.pipe(\n      map( _ => self.deviceService.onPointermove$.pipe(\n        takeUntil(self.deviceService.onPointerup$),\n        concat(of({timeStamp: 0, movementY: 0, screenY: -1000}))\n      )),\n      concatAll(),\n      // map(ev => ev.clientX)\n      withLatestFrom(self.contentPointerdown$, (e_move, e_down) => {\n        if (e_move.timeStamp !== 0) {\n          self._tmpYPointermove = {time: e_move.timeStamp, y: e_move.screenY};\n        }\n        return e_move.screenY - e_down.screenY;\n      })\n    ).subscribe( dy => {\n      if (dy < -1000) {\n        self.deltaY = 0;\n        self._tmpVy = (self._tmpYPointermove.y - self._tmpYPointerdown.y) / (self._tmpYPointermove.time - self._tmpYPointerdown.time);\n        // * [2018-07-19 10:38] send out a notification 'delete' when the speedX is higher than 0.5\n        if (Math.abs(self._tmpVy) > self.maxSpeed) {\n          self.delete.next();\n        }\n      } else {\n        self.deltaY = (dy < -1000) ? 0 : dy;\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this._subDown.unsubscribe();\n    this._subSwap.unsubscribe();\n  }\n\n  onBtnClick(ev) {\n    const self = this;\n    this.contentClick.next(self.index);\n  }\n}\n","module.exports = \".full-width {\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.buttons {\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n}\"","module.exports = \"<div *ngIf=\\\"data.dType===dialogType.inputUrl\\\">\\n  <mat-form-field class=\\\"full-width\\\" >\\n    <input matInput [placeholder]=\\\"(!!pts)?pts.desireURL:'請輸入想要的網址'\\\" [(ngModel)]=\\\"data.url\\\" >\\n  </mat-form-field>\\n  <div class=\\\"buttons\\\">\\n    <button mat-raised-button (click)=\\\"onLoadURL()\\\" >{{(!!pts)?pts.load:'載入'}}</button>\\n  </div>\\n</div>\\n\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\r\nimport { PageTextsService } from '../services/page-texts.service';\r\nimport { concat } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-dialog',\r\n  templateUrl: './dialog.component.html',\r\n  styleUrls: ['./dialog.component.css']\r\n})\r\nexport class DialogComponent implements OnInit {\r\n\r\n  dialogType = DialogType;\r\n\r\n  pts: IDialogComp;\r\n\r\n  constructor(public ptsService: PageTextsService,\r\n    public dialogRef: MatDialogRef<DialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: DialogData) { }\r\n\r\n  ngOnInit() {\r\n    const self = this;\r\n    self.ptsService.PTSReady$.pipe(concat(self.ptsService.ptsLoaded$)).subscribe(_ => {\r\n      self.pts = self.ptsService.pts.dialogComp;\r\n    });\r\n  }\r\n\r\n  onLoadURL() {\r\n    this.dialogRef.close(this.data.url);\r\n  }\r\n}\r\n\r\nexport enum DialogType {\r\n  inputUrl = 0\r\n}\r\n\r\nexport interface DialogData {\r\n  dType: DialogType;\r\n  url: string;\r\n}\r\n","module.exports = \"\\r\\n.Error{\\r\\n    background-color: red;\\r\\n    color: white;\\r\\n    text-shadow: 1px 1px 1px black;\\r\\n}\\r\\n\\r\\n.Warn{\\r\\n    background-color: yellow;\\r\\n    color: blue;\\r\\n    text-shadow: 1px 1px 1px green;\\r\\n}\\r\\n\\r\\n.Info{\\r\\n    background-color: lightblue;\\r\\n    color: green;\\r\\n    text-shadow: 1px 1px 1px black;\\r\\n}\"","module.exports = \"<div class=\\\"main\\\">\\n    <ol>\\n        <li *ngFor=\\\"let msg of messages\\\">\\n          <span [textContent]=\\\"msg.message\\\" [class.Info]=\\\"msg.type==msgType.Info\\\" [class.Warn]=\\\"msg.type==msgType.Warn\\\" [class.Error]=\\\"msg.type==msgType.Error\\\"></span>\\n        </li>\\n    </ol>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { MessageService, OneMessage, MessageTypes } from '../services/message.service';\nimport { MatBottomSheetRef } from '@angular/material';\n\n@Component({\n  selector: 'app-message',\n  templateUrl: './message.component.html',\n  styleUrls: ['./message.component.css']\n})\nexport class MessageComponent implements OnInit {\n\n  messages: OneMessage[];\n  msgType = MessageTypes;\n  constructor(private bottomSheetRef: MatBottomSheetRef<MessageComponent>,\n    private msgService: MessageService) { }\n\n  showMsgs(num: number = 20) {\n    this.messages = this.msgService.readMessages();\n  }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"nav{\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    padding: 8px 16px;\\r\\n    background: #673ab7;\\r\\n}\\r\\n\\r\\n.flex-spacer{\\r\\n    flex-grow: 1;\\r\\n    text-align: center;\\r\\n    overflow-x: auto;\\r\\n}\\r\\n\\r\\n.isSelect {\\r\\n    background-color: aliceblue;\\r\\n}\"","module.exports = \"<nav class=\\\"docs-navbar-header\\\">\\n  <button mat-icon-button (click)=\\\"toggleSidenav_Click.next($event)\\\">\\n      <mat-icon class=\\\"mat-18\\\">menu</mat-icon>\\n  </button>\\n  <button mat-icon-button (click)=\\\"meService.onSaveStory$$()\\\" *ngIf=\\\"meService.sideClickType===sideClickType_.new\\\">\\n    <mat-icon class=\\\"mat-18\\\">archive</mat-icon>\\n  </button>\\n  <button mat-icon-button (click)=\\\"meService.onUpdateStory$$()\\\" *ngIf=\\\"meService.sideClickType===sideClickType_.select\\\">\\n    <mat-icon class=\\\"mat-18\\\">update</mat-icon>\\n  </button>\\n<div class=\\\"flex-spacer\\\">\\n  <div>{{meService.story.title}}</div>\\n</div>\\n  <button mat-icon-button [matBadge]=\\\"nUnReadMsg\\\" (click)=\\\"showMsgsAtBottom()\\\" *ngIf=\\\"nUnReadMsg!=0\\\">\\n    <mat-icon class=\\\"mat-18\\\">event_note</mat-icon>\\n  </button>\\n  <button mat-icon-button [matMenuTriggerFor]=\\\"langMenu\\\" >\\n      <mat-icon class=\\\"mat-18\\\">translate</mat-icon>\\n  </button>\\n  <mat-menu #langMenu=\\\"matMenu\\\">\\n    <button mat-menu-item *ngFor=\\\"let each of ptsService.langList\\\" \\n    (click)=\\\"ptsService.loadPTS$$(each.isoCode,true)\\\"\\n    [class.isSelect]=\\\"each.isoCode===ptsService.langCode\\\">{{each.name}}</button>\\n  </mat-menu>\\n</nav>\"","import { Component, OnInit, NgZone, Output, EventEmitter } from '@angular/core';\nimport { MessageService, MessageTypes } from '../services/message.service';\nimport { MatBottomSheet } from '@angular/material';\nimport { MessageComponent } from '../message/message.component';\nimport { DbService } from '../services/db.service';\nimport { MediaEditService, SideClickType } from '../services/media-edit.service';\nimport { PlayerType } from '../vm/player-type.enum';\nimport { FsService } from '../services/fs.service';\nimport { map, concatAll } from '../../../node_modules/rxjs/operators';\nimport { PageTextsService } from '../services/page-texts.service';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.css']\n})\nexport class NavbarComponent implements OnInit {\n\n  @Output() toggleSidenav_Click = new EventEmitter<MouseEvent>();\n\n  nUnReadMsg = 0;\n  sideClickType_ = SideClickType;\n\n  constructor(private bottomSheet: MatBottomSheet , private ngZone: NgZone,\n    private db: DbService, private fsService: FsService, public meService: MediaEditService,\n    public msgService: MessageService, public ptsService: PageTextsService) {\n    const self = this;\n    this.nUnReadMsg = msgService.getNUnRead();\n    msgService.remindMsgIn.subscribe(\n      (n) => {\n        if (msgService.isShown === false) {return; }\n        const isInZone = NgZone.isInAngularZone();\n        const action = () => { self.nUnReadMsg = n; };\n        if (isInZone === false) {\n          ngZone.run(action);\n        } else {action(); }\n      });\n  }\n\n  ngOnInit() {\n  }\n\n  showMsgsAtBottom() {\n    const ref = this.bottomSheet.open(MessageComponent);\n    ref.instance.showMsgs();\n  }\n}\n","module.exports = \"input[type='file'] {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.full-width {\\r\\n    width: 100%;\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.question {\\r\\n    background-color: red;\\r\\n    color: yellow;\\r\\n    font-weight: bolder;\\r\\n    min-width: 0px;\\r\\n    box-shadow: 4px;\\r\\n}\\r\\n\\r\\napp-draglist {\\r\\n    width:100%;\\r\\n}\\r\\n\\r\\n.storedContainer {\\r\\n    min-height: 0; /* crucial */\\r\\n    display: -ms-grid;\\r\\n    display: grid;\\r\\n    -ms-grid-rows: auto 1fr;\\r\\n        grid-template-rows: auto 1fr;\\r\\n}\\r\\n\\r\\n.listStored {\\r\\n    overflow-y: auto;\\r\\n    overflow-x: hidden;\\r\\n}\"","module.exports = \"<!-- <div>\\r\\n    <button mat-raised-button (click)=\\\"gv.shownPage = pageType.Test\\\">Test</button>\\r\\n</div> -->\\r\\n<div class=\\\"newContainer\\\">\\r\\n    <h3 [innerText]=\\\"(!!pts)?pts.newMedia:'讀入新的媒體：'\\\"></h3>\\r\\n    <mat-list dense>\\r\\n        <mat-list-item>\\r\\n            <button mat-raised-button (click)=\\\"onLoadFromURL();\\\">\\r\\n                {{(!!pts)?pts.url:'網址'}}\\r\\n            </button>\\r\\n        </mat-list-item>\\r\\n        <mat-list-item>\\r\\n            <button mat-raised-button (click)=\\\"selaudio.click()\\\"\\r\\n                [matTooltip]=\\\"(!!pts)?pts.ttFile:'請選擇影片、聲音或本APP匯出的json檔'\\\" >\\r\\n                <input #selaudio\\r\\n                type=\\\"file\\\" (change)=\\\"onFileSelect(selaudio.files)\\\">\\r\\n                {{(!!pts)?pts.file:'檔案'}}\\r\\n            </button>\\r\\n        </mat-list-item>\\r\\n    </mat-list>\\r\\n</div>\\r\\n<div class=\\\"storedContainer\\\">\\r\\n    <h3>{{(!!pts)?pts.storedMedia:'已備份的媒體：'}}</h3>\\r\\n\\r\\n    <div #listOfStored class=\\\"listStored\\\">\\r\\n        <mat-list dense>\\r\\n        <!-- <mat-list-item *ngFor=\\\"let story of stories$| async\\\"> -->\\r\\n        <app-draglist *ngFor=\\\"let story of stories\\\" \\r\\n            [story]=\\\"story\\\"\\r\\n            (delete)=\\\"onStoryDelete(story)\\\"\\r\\n            (contentClick)=\\\"onStoryOpen(story)\\\" ></app-draglist>\\r\\n        <!-- </mat-list-item> -->\\r\\n        </mat-list>\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, NgZone, AfterViewInit, ViewChild, ElementRef, OnDestroy } from '@angular/core';\nimport { GvService, PageType } from '../../services/gv.service';\nimport { MediaEditService, SideClickType } from '../../services/media-edit.service';\nimport { MatDialog } from '@angular/material';\nimport { DialogComponent, DialogType } from '../../dialog/dialog.component';\nimport { DbService } from '../../services/db.service';\nimport { Observable, Subject, from } from 'rxjs';\nimport { IStory } from '../../services/story.service';\nimport { map, concatAll, concat, takeUntil } from 'rxjs/operators';\nimport { NavbarComponent } from '../../navbar/navbar.component';\nimport { FsService } from '../../services/fs.service';\nimport { MessageService, MessageTypes } from '../../services/message.service';\nimport { PlayerType } from '../../vm/player-type.enum';\nimport { ClipboardService } from '../../services/clipboard.service';\nimport { PageTextsService } from '../../services/page-texts.service';\nimport { CrossCompService } from '../../services/cross-comp.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  Url = 'https://dzxuyknqkmi1e.cloudfront.net/odb/2018/06/odb-06-12-18.mp3';\n  testYoutubeUrl = 'https://youtu.be/f1SZ5GaAp3g';\n\n  stories$: Observable<IStory[]>;\n  stories: IStory[];\n  storySearch$ = new Subject<IStory>();\n\n  @ViewChild('listOfStored')\n  listStoredRef: ElementRef;\n\n  private _unsubscribed = new Subject<boolean>();\n\n  pts: IHomePage;\n\n  pageType = PageType;\n  constructor(public gv: GvService, public dialog: MatDialog, public ptsServic: PageTextsService,\n    private meService: MediaEditService, private db: DbService,\n    private ngZone: NgZone, private fs: FsService\n    , private msg: MessageService, private clipboard: ClipboardService,\n    private ccService: CrossCompService) {\n      const self = this;\n      ptsServic.PTSReady$.pipe(concat(ptsServic.ptsLoaded$)).pipe(takeUntil(self._unsubscribed)).subscribe(_ => {\n        self.pts = ptsServic.pts.homePage;\n      });\n    }\n\n  ngOnInit() {\n    const self = this;\n    // from(this.db.searchAsync()).subscribe(this.stories$);\n    self.db.onDataChanged.pipe(takeUntil(self._unsubscribed)).subscribe(data => self.storySearch$.next(null));\n    self.stories$ = self.storySearch$.pipe(map(val => {\n      if (val === null) { return self.db.searchAsync(DbService.storyTableName, null, null, {viewTime: 'desc'}); }\n    }),\n    concatAll()\n    );\n    self.stories$.pipe(takeUntil(self._unsubscribed)).subscribe(s => {\n      self.ngZone.run(() => {\n        self.stories = s;\n      });\n    });\n    // * [2018-08-01 10:27] Check whether FsPlugin is available now\n    self.fs.FSReady$.pipe(takeUntil(self._unsubscribed))\n    .subscribe(v => self.msg.pushMessage({type: MessageTypes.Info, message: `FSReady = ${v}`}));\n\n    this.ccService.listOfStoredEle = this.listStoredRef.nativeElement;\n  }\n\n  ngAfterViewInit() {\n    this.storySearch$.next(null); // initialize the search\n  }\n\n  ngOnDestroy(): void {\n    this._unsubscribed.next(true);\n    this._unsubscribed.complete();\n    this._unsubscribed = null;\n    this.ccService.listOfStoredEle = null;\n  }\n\n  onFileSelect(files: FileList) {\n    const self = this;\n    if (files !== null && files.length > 0) {\n      const file = files[0];\n      if (/(video|audio)/.test(file.type) === true) {\n        this.meService.initMe(file);\n        this.gv.shownPage = PageType.MediaEdit;\n      } else if (file.name.slice(file.name.lastIndexOf('.')) === '.json') {\n        const action$$ = new Promise( (res , rej) => {\n          const reader = new FileReader();\n          reader.onloadend = (e) => {\n            let text = '';\n            let story: IStory;\n            try {\n              text = (e.srcElement as any).result;\n              story = JSON.parse(text) as IStory;\n              if (!!story.viewTime) {\n                res(story);\n              } else {\n                rej(story);\n              }\n            } catch (error) {\n              rej(error);\n            }\n          };\n          reader.onerror = rej;\n          reader.readAsText(file);\n        });\n        action$$.then( (story: IStory) => {\n            story.modifyTime = 0;\n            self.meService.initMe(story);\n          })\n          .catch( err => alert(((!!this.pts) ? this.pts.errWrongFormat : `輸入的json檔格式不合。錯誤訊息： `) + `${JSON.stringify(err)}`));\n      } else {\n        alert((!!this.pts) ? this.pts.errFileType : '所選的檔案必須是影片、聲音檔，或者要匯入的json檔。');\n        return;\n      }\n    }\n    // * [2018-07-19 21:28] Tell navbar that you want to create a story\n    this.meService.sideClickType = SideClickType.new;\n  }\n\n  async onLoadFromURL() {\n    const self = this;\n    try {\n      const text = await self.clipboard.getText$$();\n      if (!!text) {\n        self.Url = text;\n      }\n    } catch (error) {\n      self.msg.pushMessage({type: MessageTypes.Error, message: error});\n    }\n\n    let dialogRef;\n    self.ngZone.run(_ => {\n      dialogRef = this.dialog.open(DialogComponent, {\n        width: '50%',\n        data: {dType: DialogType.inputUrl, url: self.Url}\n      });\n    });\n    dialogRef.afterClosed().pipe(takeUntil(self._unsubscribed)).subscribe(result => {\n      if (!!result === false) {return; }\n      self.Url = result;\n      self.meService.initMe(self.Url);\n      self.gv.shownPage = PageType.MediaEdit;\n      // * [2018-07-19 21:28] Tell navbar that you want to create a story\n      self.meService.sideClickType = SideClickType.new;\n    });\n  }\n\n  async onStoryDelete(story: IStory) {\n    const self = this;\n    if (story.meType === PlayerType.file) {\n      const isDeleted = await self.fs.getFile$(story.fileName).pipe(map(\n        fEntry => self.fs.rmFile$(fEntry)\n      ), concatAll()).toPromise();\n\n      self.msg.pushMessage({type: MessageTypes.Info, message: `The file ${story.fileName} is deleted: ${isDeleted}`});\n    }\n    // this.db.deleteAsync(DbService.storyTableName, ['id', '=', story.id]);\n    this.db.deleteAsync(DbService.storyTableName, ['makeTime', '=', story.makeTime]);\n    // * [2018-07-19 21:28] Tell navbar that you delete a story\n    // this.meService.sideClickType = SideClickType.none;\n  }\n\n  onStoryOpen(story: IStory) {\n    const duplicatedStory = Object.assign({}, story);\n    this.meService.initMe(duplicatedStory);\n    this.gv.shownPage = PageType.MediaEdit;\n    // * [2018-07-19 21:28] Tell navbar that you select a story\n    this.meService.sideClickType = SideClickType.select;\n  }\n}\n","module.exports = \".container {\\r\\n    display: -ms-grid;\\r\\n    display: grid;\\r\\n        -ms-grid-rows: auto 1fr auto auto;\\r\\n        grid-template-rows: auto 1fr auto auto;\\r\\n        grid-template-areas: \\\"header\\\" \\\"main\\\" \\\"cSection\\\" \\\"cMain\\\";\\r\\n    height: 100%;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\nheader {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: header;\\r\\n}\\r\\n\\r\\n.main {\\r\\n    -ms-grid-row: 2;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: main;\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\napp-player {\\r\\n    z-index: 0;\\r\\n}\\r\\n\\r\\napp-me-mani-plate {\\r\\n    z-index: 1;\\r\\n}\\r\\n\\r\\n.dashboardSection {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: cSection;\\r\\n}\\r\\n\\r\\n.dashboardMain {\\r\\n    -ms-grid-row: 4;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: cMain;\\r\\n}\"","module.exports = \"<div class=\\\"container\\\">\\r\\n  <!-- <header>{{this.dataService.story.name}}</header> -->\\r\\n  <!-- <main> -->\\r\\n    <!-- <video #videoElement class=\\\"main\\\"></video> -->\\r\\n    <app-player class=\\\"main\\\"></app-player>\\r\\n    <app-me-mani-plate class=\\\"main\\\"\\r\\n      [style.background-color]=\\\"(meService.story.iFrame<0)?'rgba(0,0,0,0)':'rgba('+meService.story.frames[meService.story.iFrame].colorR+','+meService.story.frames[meService.story.iFrame].colorG+','+meService.story.frames[meService.story.iFrame].colorB+','+'0.2'+')'\\\"\\r\\n      *ngIf=\\\"meService.story.iFrame>=0\\\"\\r\\n      [@flyInOut]=\\\"'in'\\\"\\r\\n    ></app-me-mani-plate>\\r\\n  <!-- </main> -->\\r\\n  <aside></aside>\\r\\n  <footer class=\\\"dashboardSection\\\">\\r\\n    <app-me-section-dashboard></app-me-section-dashboard>\\r\\n  </footer>\\r\\n  <footer class=\\\"dashboardMain\\\">\\r\\n    <app-me-main-dashboard></app-me-main-dashboard>\\r\\n  </footer>\\r\\n</div>\\r\\n\"","import { Component, OnInit, Input, ElementRef, ViewChild, AfterViewInit, NgZone } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { MediaEditService, MEState } from '../../services/media-edit.service';\nimport { trigger, state, style, transition, animate } from '../../../../node_modules/@angular/animations';\nimport { utterType } from '../../services/story.service';\nimport { SpeechSynthesisService } from '../../services/speech-synthesis.service';\nimport { takeWhile, first } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-media-edit',\n  templateUrl: './media-edit.component.html',\n  styleUrls: ['./media-edit.component.css'],\n  animations: [\n    trigger('flyInOut', [\n      state('in', style({transform: 'translateY(0)'})),\n      transition('void => *', [\n        style({transform: 'translateY(-100%)'}),\n        animate('0.2s ease-in')\n      ]),\n      transition('* => void', [\n        animate('0.2s 0.1s ease-out', style({transform: 'translateY(-100%)'}))\n      ])\n    ])\n  ]\n})\nexport class MediaEditComponent implements OnInit {\n\n  constructor(/*private route: ActivatedRoute, */\n    public meService: MediaEditService, private SSService: SpeechSynthesisService) {\n  }\n\n  ngOnInit() {\n    const self = this;\n    let currentIFrame = -1;\n    self.meService.onStateChanged.pipe(takeWhile(_ => !!self.meService.onCurrentTimeChanged === true), first()).subscribe(_ => {\n      self.meService.onCurrentTimeChanged.subscribe(t => {\n        if (self.meService.story.utterType === utterType.none) {\n          return;\n        } else {\n          const i = self.meService.story.frames.findIndex(v => ((t >= v.start) && (t <= v.end)));\n          if (i === currentIFrame) {\n            return;\n          } else {\n            currentIFrame = i;\n            if (i < 0) {return; }\n            if ((self.meService.story.utterType === utterType.all) || (self.meService.story.frames[i].isUtter === true)) {\n              let utterPara = Object.assign({}, self.meService.story.frames[i].utterPara);\n              utterPara = self.SSService.updateUtterParaWithVoice(utterPara);\n              self.SSService.speak(utterPara);\n            }\n          }\n        }\n      });\n    });\n  }\n\n}\n","module.exports = \".container {\\r\\n    display: -ms-grid;\\r\\n    display: grid;\\r\\n    height: 100%;\\r\\n        -ms-grid-rows: auto 1fr;\\r\\n        grid-template-rows: auto 1fr;\\r\\n        grid-template-areas: 'main' 'des';\\r\\n}\\r\\n\\r\\n.nameETC {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: main;\\r\\n}\\r\\n\\r\\nmat-form-field {\\r\\n    width: 90%;\\r\\n}\\r\\n\\r\\n.description {\\r\\n    -ms-grid-row: 2;\\r\\n    -ms-grid-column: 1;\\r\\n    grid-area: des;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.description ::ng-deep [class^=mat-form-field-wrapper], .description ::ng-deep [class^=mat-form-field-flex], .description ::ng-deep [class^=mat-form-field-infix], textarea {\\r\\n    height: 100%;\\r\\n}\"","module.exports = \"<div class=\\\"container\\\">\\n  <div class=\\\"nameETC\\\">\\n    <div class=\\\"btns\\\">\\n      <button mat-icon-button (click)=\\\"meService.onSaveStory$$()\\\"\\n        *ngIf=\\\"meService.story.viewTime===0\\\">\\n          <mat-icon class=\\\"mat-18\\\">archive</mat-icon>\\n      </button>\\n      <button mat-icon-button (click)=\\\"meService.onUpdateStory$$()\\\"\\n        *ngIf=\\\"meService.story.viewTime!==0\\\">\\n          <mat-icon class=\\\"mat-18\\\">update</mat-icon>\\n      </button>\\n      <a mat-icon-button #exportStory [href]=\\\"downloadHref|safe\\\" [download]=\\\"meService.story.viewTime+meService.story.title+'.json'\\\"\\n        (click)=\\\"onExportStory(exportStory,$event)\\\">\\n          <mat-icon class=\\\"mat-18\\\">save</mat-icon>\\n      </a>\\n      <a mat-icon-button #exportSBV [href]=\\\"downloadSBVHref|safe\\\" [download]=\\\"meService.story.title+'.sbv'\\\"\\n        (click)=\\\"onExportSBV(exportSBV,$event)\\\" [matTooltip]=\\\"(!!pts)?pts.exportSBV:'輸出輸入的字幕'\\\">\\n        <mat-icon class=\\\"mat-18\\\">subtitles</mat-icon>\\n      </a>\\n  </div>\\n    <div class=\\\"selectUtterType\\\">\\n      <mat-select [(ngModel)]=\\\"meService.story.utterType\\\" placeholder=\\\"請選擇語音模擬字幕的模式\\\">\\n          <mat-option [value]=\\\"utterType.none\\\">{{(!!pts)?pts.noSS:'不模擬'}}</mat-option>\\n          <mat-option [value]=\\\"utterType.byEach\\\">{{(!!pts)?pts.actualSS:'依各段要求模擬'}}</mat-option>\\n          <mat-option [value]=\\\"utterType.all\\\">{{(!!pts)?pts.allSS:'全部模擬'}}</mat-option>\\n      </mat-select>\\n    </div>\\n    <mat-form-field>\\n      <input matInput [placeholder]=\\\"(!!pts)?pts.name:'媒體名稱'\\\" [(ngModel)]=\\\"meService.story.name\\\">\\n    </mat-form-field>\\n    \\n    <mat-form-field>\\n      <input matInput [placeholder]=\\\"(!!pts)?pts.title:'媒體標題'\\\" [(ngModel)]=\\\"meService.story.title\\\">\\n    </mat-form-field>\\n    \\n    <mat-form-field>\\n      <input matInput [placeholder]=\\\"(!!pts)?pts.keywords:'關鍵字'\\\" [(ngModel)]=\\\"meService.story.keywords\\\">\\n    </mat-form-field>\\n    \\n    <mat-form-field>\\n      <input matInput [placeholder]=\\\"(!!pts)?pts.source:'媒體來源'\\\" [(ngModel)]=\\\"(meService.story.meType===meService.PlayerType.file)?meService.story.fileName:meService.story.urlOrID\\\">\\n    </mat-form-field>      \\n  </div>\\n  \\n  <mat-form-field class=\\\"description\\\">\\n    <textarea matInput [placeholder]=\\\"(!!pts)?pts.description:'描述'\\\" [(ngModel)]=\\\"meService.story.description\\\">\\n    </textarea>\\n  </mat-form-field>\\n</div>\\n\"","import { Component, OnInit, ChangeDetectorRef } from '@angular/core';\nimport { MediaEditService } from '../../services/media-edit.service';\nimport { MatAnchor } from '@angular/material';\nimport { send } from 'q';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { PlayerType } from '../../vm/player-type.enum';\nimport { utterType, IStory } from '../../services/story.service';\nimport { PageTextsService } from '../../services/page-texts.service';\nimport { concat } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-story',\n  templateUrl: './story.component.html',\n  styleUrls: ['./story.component.css']\n})\nexport class StoryComponent implements OnInit {\n\n  utterType = utterType;\n\n  downloadHref: string;\n  downloadSBVHref: string;\n\n  pts: IStoryComp;\n\n  constructor(public meService: MediaEditService,\n  public ptsService: PageTextsService,\n  private cdr: ChangeDetectorRef) {\n  }\n\n  ngOnInit() {\n    const self = this;\n    self.ptsService.PTSReady$.pipe(concat(self.ptsService.ptsLoaded$)).subscribe(_ => {\n      self.pts = self.ptsService.pts.storyComp;\n      self.cdr.detectChanges();\n    });\n  }\n\n  onExportStory(sender: MatAnchor, e: MouseEvent) {\n    const self = this;\n    const a = sender._elementRef.nativeElement as HTMLAnchorElement;\n    if (e.x === 0) {\n      // URL.revokeObjectURL(self.downloadHref);\n      return;\n    } else {\n      e.preventDefault();\n      if (self.meService.story.meType === PlayerType.file) {\n        alert((!!self.pts) ? self.pts.notYetFileExport : '抱歉，由於想匯出的媒體為local的檔案，這表示此檔案也要一同匯出才行。此版本尚未將此功能建構進來，敬請諒解。');\n        return;\n      }\n      const blob = new Blob([JSON.stringify(self.meService.story)], {type: 'application/json'});\n      this.downloadHref = URL.createObjectURL(blob);\n      // this.downloadHref = \"data:text/json;charset=utf-8,\" + encodeURI(JSON.stringify(this.meService.story));\n      setTimeout(_ => a.click());\n      // a.click();\n    }\n  }\n\n  onExportSBV(sender: MatAnchor, e: MouseEvent) {\n    const self = this;\n    const a = sender._elementRef.nativeElement as HTMLAnchorElement;\n    if (e.x === 0) {\n      return;\n    } else {\n      e.preventDefault();\n      const getTime = (t: number) => {\n        let st = '';\n        let buf = Math.floor(t);\n        // * [2018-08-27 15:29] Get minisecond\n        st = ('000' + Math.round((t - buf) * 1000)).slice(-3);\n        st = '.' + st;\n        // * [2018-08-27 15:34] Get second\n        t = buf;\n        buf = t % 60;\n        st = ('00' + buf).slice(-2) + st;\n        st = ':' + st;\n        // * [2018-08-27 15:38] Get minute\n        t = (t - buf) / 60;\n        buf = t % 60;\n        st = ('00' + buf).slice(-2) + st;\n        st = ':' + st;\n        // * [2018-08-27 15:38] Get hour\n        t = (t - buf) / 60;\n        buf = t;\n        st = buf + st;\n        // * [2018-08-27 15:42] Return the string\n        return st;\n      };\n\n      const frames = self.meService.story.frames.slice(0).sort( (p, b) => {\n        return p.start - b.start;\n      });\n      const input = frames.reduce((pre, cur) => {\n        let st = (!!pre) ? '\\n\\n' : '';\n        st += getTime(cur.start) + ',' + getTime(cur.end) + '\\n';\n        st += cur.utterPara.text;\n        return pre + st;\n      }, '');\n      const blob = new Blob([input], {type: 'text/plain'});\n      this.downloadSBVHref = URL.createObjectURL(blob);\n      setTimeout(_ => a.click());\n      // a.click();\n    }\n  }\n}\n","module.exports = \"\"","module.exports = \"<div>\\r\\n    <h1>Test of Speech Synthesis</h1>\\r\\n    <input type=\\\"text\\\" #ssInput/>\\r\\n    <mat-select [(value)]=\\\"selVoice\\\" placeholder=\\\"選個想模擬的語言\\\">\\r\\n        <mat-option *ngFor=\\\"let voice of SSService.voices\\\" [value]=\\\"voice\\\">{{voice.name}}</mat-option>\\r\\n    </mat-select>\\r\\n    <button (click)=\\\"onSpeak(ssInput.value)\\\">play</button>\\r\\n</div>\\r\\n\\r\\n<input #selFile type=\\\"file\\\" multiple (change)=\\\"onSelFileChange(selFile.files,$event.target === audioFile)\\\">\\r\\n<!-- list of files -->\\r\\n<mat-list dense *ngIf=\\\"!!entries\\\">\\r\\n    <app-draglist *ngFor=\\\"let entry of entries\\\"\\r\\n    [story]=\\\"entry\\\"\\r\\n    (delete)=\\\"onRmFile(entry)\\\"\\r\\n    (contentClick)=\\\"onClickAFile(entry)\\\" >\\r\\n    </app-draglist>\\r\\n</mat-list>\\r\\n<video #audioFromFile autoplay controls [src]=\\\"audioSrc|safe\\\">\\r\\n</video>\\r\\n<hr>\\r\\n<div>\\r\\n    <div>Is cordova support? {{(isCordovaSupport)?\\\"Yes\\\":\\\"No\\\"}}</div>\\r\\n    <div>Is cordova.file support? {{(isFilePluginSupport)?\\\"Yes\\\":\\\"No\\\"}}</div>\\r\\n</div>\\r\\n<div>\\r\\n    <button mat-raised-button (click)=\\\"onGetDocFolder()\\\">\\r\\n        <mat-icon>folder</mat-icon>\\r\\n    </button>\\r\\n    {{newFolderName}}\\r\\n</div>\\r\\n<br/>\\r\\n<div>\\r\\n    <button (click)=\\\"onSelectFromNSQL()\\\">select nanoSQL</button>\\r\\n</div>\\r\\n<br/>\\r\\n<div>\\r\\n    <button (click)=\\\"ondeleteFromNSQL()\\\">delete nanoSQL</button>\\r\\n</div>\\r\\n<br/>\\r\\n<div>\\r\\n    <button (click)=\\\"onUpsertFromNSQL()\\\">upsert nanoSQL</button>\\r\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { MessageService, MessageTypes, OneMessage } from '../../services/message.service';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\nimport { DbService } from '../../services/db.service';\nimport { FsService } from '../../services/fs.service';\nimport { map, concatAll } from '../../../../node_modules/rxjs/operators';\nimport { SpeechSynthesisService, SSutterParameters } from '../../services/speech-synthesis.service';\n\n@Component({\n  selector: 'app-test',\n  templateUrl: './test.component.html',\n  styleUrls: ['./test.component.css']\n})\nexport class TestComponent implements OnInit {\n\n  selVoice: SpeechSynthesisVoice;\n\n  entries: Entry[];\n  audioFile: File;\n  // audioSrc: SafeUrl;\n  audioSrc: string;\n  isCordovaSupport: boolean;\n  isFilePluginSupport: boolean;\n  newFolderName: string;\n\n  constructor(private msgService: MessageService, private sanitizer: DomSanitizer,\n    private DBService: DbService , private fsService: FsService,\n    public SSService: SpeechSynthesisService\n  ) {\n    const self = this;\n    SSService.getVoices$.subscribe(isGotten => {\n      if (isGotten) {\n        self.selVoice = SSService.defaultVoice;\n      }\n    });\n  }\n\n  ngOnInit() {\n    const self = this;\n    this.isCordovaSupport = !!window.cordova;\n    this.isFilePluginSupport = this.isCordovaSupport && !!cordova.file;\n    this.fsService.ls$('').subscribe(entries => self.entries = entries);\n  }\n\n  async onSelFileChange(files: FileList, obj: object) {\n    const file = files[0];\n    const self = this;\n    if (!!file === false) { return; }\n    await this.fsService.getFile$(file.name, true).pipe(\n      map(fEntry => {\n        return self.fsService.writeFile$(fEntry, file);\n      }), concatAll()).toPromise();\n\n    this.fsService.ls$('').subscribe(entries => self.entries = entries);\n  }\n\n  onRmFile(file: FileEntry) {\n    const self = this;\n    this.fsService.rmFile$(file).subscribe();\n    this.fsService.ls$('').subscribe(entries => self.entries = entries);\n  }\n\n  onClickAFile(file: FileEntry) {\n    this.audioSrc = this.fsService.toURL(file);\n  }\n\n  // async onSelFileChange_for_windows_videoLibrary(files: FileList, obj: object) {\n  //   console.log(`obj= ${obj}`);\n  //   this.audioFile = files[0];\n  //   const fName = this.audioFile.name;\n  //   let newFile: any;\n  //   if (!!window.cordova && (cordova.platformId === 'windows')) {\n  //     try {\n  //       const outputFile = await Windows.Storage.KnownFolders.videosLibrary.createFileAsync(this.audioFile.name);\n  //       const outStream = await outputFile.openAsync(Windows.Storage.FileAccessMode.readWrite);\n  //       const inStream = this.audioFile.msDetachStream();\n  //       await Windows.Storage.Streams.RandomAccessStream.copyAsync(inStream, outStream);\n  //       await outStream.flushAsync();\n  //       inStream.close();\n  //       outStream.close();\n\n  //       newFile = await Windows.Storage.KnownFolders.videosLibrary.getFileAsync(fName);\n  // } catch (error) {\n  //       this.msgService.pushMessage({type: MessageTypes.Error, message: error});\n  //     }\n  //   } else {\n  //       newFile = this.audioFile;\n  //   }\n  //   // this.audioSrc = this.sanitizer.bypassSecurityTrustUrl('https://www.scripturesongs.net/mp3/h1/01FountainFilledWithBlood.mp3');\n  //   // this.audioSrc = 'https://www.scripturesongs.net/mp3/h1/01FountainFilledWithBlood.mp3';\n  //   // this.audioSrc = this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(this.audioFile));\n  //   this.audioSrc = window.URL.createObjectURL(newFile);\n  //   this.msgService.pushMessage({type : MessageTypes.Info, message: `audioSrc: ${JSON.stringify(this.audioSrc)}`});\n  // }\n\n  async onGetDocFolder() {\n    if (!!window['Windows']) {\n      const docFolder = Windows.Storage.KnownFolders.videosLibrary;\n      const newFolder = await docFolder.createFolderAsync('Test');\n      if (newFolder != null) {\n        this.newFolderName = newFolder.path;\n      }\n    }\n  }\n\n  async onSelectFromNSQL() {\n    const result = await this.DBService.searchAsync();\n  }\n\n  async ondeleteFromNSQL() {\n    await this.DBService.deleteAsync();\n  }\n\n  async onUpsertFromNSQL() {\n    await this.DBService.upsertAsync();\n  }\n\n  onSpeak(text: string) {\n    const para = new SSutterParameters();\n    para.text = text;\n    para.voice = this.selVoice;\n    this.SSService.speak(para);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeUrl, SafeHtml } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'safe',\n  pure: true\n})\nexport class SafePipe implements PipeTransform {\n\n  constructor(public sanitizer: DomSanitizer) {}\n\n  transform(url: string, args?: any): SafeUrl {\n    return this.sanitizer.bypassSecurityTrustUrl(url);\n  }\n\n}\n\n@Pipe({\n  name: 'safeHtml',\n  pure: true\n})\nexport class SafeHtmlPipe implements PipeTransform {\n\n  constructor(public sanitizer: DomSanitizer) {}\n\n  transform(html: string, args?: any): SafeHtml {\n    return this.sanitizer.bypassSecurityTrustHtml(html);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, Subject, interval } from 'rxjs';\nimport { take, last, share, shareReplay, first } from \"rxjs/operators\";\nimport { DeviceService } from './device.service';\n\n// Gotten from https://github.com/floatinghotpot/cordova-admob-pro\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AdService {\n  admobid: {\n    banner: string,\n    interstitial: string,\n    rewardvideo: string\n  };\n  adWin: {\n    AppId: string,\n    AdUnitId: string\n  };\n\n  _adReady$ = new Subject<boolean>();\n  // public get adReady$(): Observable<boolean> {\n  //   return this._adReady$.pipe(first());\n  // }\n\n  adReady$ = this._adReady$.pipe(shareReplay(1));\n\n  msAdv: any;\n  interstitial: any;\n\n  constructor(private device: DeviceService) {\n    const self = this;\n    if (!!window.cordova) {\n      if (cordova.platformId === 'windows') {\n        self.iniWinSDK();\n      } else {\n        self.iniAdMob();\n      }\n      this.prepareInterstitial();\n    }\n  }\n\n  prepareInterstitial() {\n    const self = this;\n    self.adReady$.subscribe(isReady => {\n      if (isReady) {\n        // * [2018-08-15 16:19] Initialize it\n        if (!!window['MicrosoftNSJS']) {\n          self.interstitial.requestAd(self.msAdv.InterstitialAdType.display, self.adWin.AppId, self.adWin.AdUnitId);\n        } else if (!!window['AdMob']) {\n          self.interstitial.prepareInterstitial(\n            {adId: self.admobid.interstitial, autoShow: false}\n          );\n        }\n      }\n    });\n  }\n\n  showInterstitial() {\n    const self = this;\n    self.adReady$.subscribe(isReady => {\n      if (isReady) {\n        if (!!window['MicrosoftNSJS']) {\n          self.interstitial.show();\n        } else if (!!window['AdMob']) {\n          self.interstitial.showInterstitial();\n        }\n        // * [2018-08-18 15:47] Renew it 2 min later\n        setTimeout(() => {\n          self.prepareInterstitial();\n        }, 1000 * 60 * 2);\n      }\n    });\n  }\n\n  iniWinSDK() {\n    const self = this;\n    if (!!window.cordova && cordova.platformId === 'windows') {\n      // * [2018-08-16 09:33] Load in the needed script\n      const doc = window.document;\n      const sdkScript = doc.createElement('script');\n      sdkScript.type = 'text/javascript';\n      sdkScript.src = '//Microsoft.Advertising.JavaScript/ad.js';\n      doc.head.appendChild(sdkScript);\n      // * [2018-08-16 09:35] Start to load\n      // *********************** TODO **************************************\n      let isReady = false;\n      interval(100).pipe(take(10)).subscribe(i0 => {\n        if (i0 >= 9 && isReady === false) {\n          self._adReady$.next(false);\n          self._adReady$.complete();\n        } else if (isReady === false) {\n          if (!!window['MicrosoftNSJS'] && !!window['MicrosoftNSJS']['Advertising']) {\n            self.msAdv = window['MicrosoftNSJS']['Advertising'];\n            self.interstitial = new self.msAdv.InterstitialAd();\n            self.adWin = {\n              AppId : \"d25517cb-12d4-4699-8bdc-52040c712cab\",\n              AdUnitId : \"test\"\n            };\n            self._adReady$.next(true);\n            self._adReady$.complete();\n            isReady = true;\n          }\n        }\n      });\n    }\n  }\n\n  iniAdMob() {\n    const self = this;\n    // * [2018-08-15 16:17] Initialize admobid\n    if ( /(android)/i.test(navigator.userAgent) ) {\n      self.admobid = { // for Android\n        banner: 'ca-app-pub-3940256099942544/6300978111',\n        interstitial: 'ca-app-pub-3940256099942544/1033173712',\n        rewardvideo: 'ca-app-pub-3940256099942544/5224354917',\n      };\n    } else if (/(ipod|iphone|ipad)/i.test(navigator.userAgent)) {\n      self.admobid = { // for iOS\n        banner: 'ca-app-pub-3940256099942544/4480807092',\n        interstitial: 'ca-app-pub-3940256099942544/4411468910',\n        rewardvideo: 'ca-app-pub-3940256099942544/1712485313',\n      };\n    } else {\n      self.admobid = { // for Windows Phone\n        banner: 'ca-app-pub-6869992474017983/8878394753',\n        interstitial: 'ca-app-pub-6869992474017983/1355127956',\n        rewardvideo: '',\n      };\n    }\n\n    if (self.device.isCordova) {\n      self.device.onDeviceReady.subscribe(_ => {\n        if (!!window['AdMob']) {\n          self.interstitial = window['AdMob'];\n          self._adReady$.next(true);\n        } else {\n          self._adReady$.next(false);\n        }\n        self._adReady$.complete();\n      });\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { DeviceService } from './device.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ClipboardService {\n\n  // getText$$: Promise<string>;\n  constructor(private device: DeviceService) {\n  }\n\n  getText$$() {\n    return new Promise<string>((res, rej) => {\n      if (!!cordova.plugins) {\n        cordova.plugins.clipboard.paste(t => res(t), e => rej(e));\n      } else {\n        rej('cordova.plugins is undefined');\n      }\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CrossCompService {\n\n  listOfStoredEle: HTMLElement;\n  constructor() { }\n}\n","import { Injectable } from '@angular/core';\nimport { nSQL, NanoSQLInstance } from 'nano-sql';\nimport { DeviceService } from './device.service';\nimport { GvService } from './gv.service';\nimport { MessageService, MessageTypes } from './message.service';\nimport { StickyObservable } from '../extends/sticky-observable';\nimport { Subscriber, Observable, Subject } from 'rxjs';\nimport { first, shareReplay } from 'rxjs/operators';\nimport 'rxjs/add/operator/toPromise';\nimport { _NanoSQLQuery } from 'nano-sql/lib/query/std-query';\nimport { IStory, Story } from './story.service';\nimport { PlayerType } from '../vm/player-type.enum';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DbService {\n\n  static storyTableName = 'stories';\n  static storyModel = [\n    {key: 'id', type: 'uuid', props: [ 'pk']},\n    {key: 'name', type: 'string'},\n    {key: 'title', type: 'string', props: ['trie']},\n    {key: 'description', type: 'string', props: ['trie']},\n    {key: 'keywords', type: 'string', props: ['trie']},\n    {key: 'fileName', type: 'string'} ,\n    {key: 'fileToken', type: 'string'} ,\n    {key: 'makeTime', type: 'int'},\n    {key: 'modifyTime', type: 'int'},\n    {key: 'viewTime', type: 'int'},\n    {key: 'urlOrID', type: 'string', default: ''},\n    {key: 'meType', type: 'int', default: 0},\n    {key: 'frames', type: 'map[]', default: []},\n    {key: 'utterType', type: 'int', default: 0}\n  ];\n\n  private _isInitialized = false;\n  public get isInitialized(): boolean {\n    return this._isInitialized;\n  }\n\n  onDBReady: Observable<boolean>;\n\n  private _onDataChanged = new Subject<any>();\n  public get onDataChanged(): Observable<any> {\n    return this._onDataChanged;\n  }\n\n  nStories = 0;\n\n  constructor(private cService: DeviceService, private msgService: MessageService) {\n    const self = this;\n    const subscriber = observer => {\n      const action = async () => {\n        if (cService.isCordova) {await cService.onDeviceReady.toPromise(); }\n        await self.iniNanoSQL.bind(self)(observer);\n      };\n      action();\n    return () => {};\n    };\n    // this.onDBReady = StickyObservable.createWithInit<boolean>(subscriber); //original one\n    this.onDBReady = (new Observable<boolean>(subscriber)).pipe(shareReplay(1), first());\n    this.onDBReady.subscribe(); // initialize it!!!\n  }\n\n  getSampleItem() {\n    const result = new Story();\n    result.urlOrID = 'https://youtu.be/rpvsEBdP4c8';\n    return result;\n  }\n\n  async iniNanoSQL(ob: Subscriber<boolean>) {\n    const mode = (!!window['nSQLite'] && window.cordova.platformId !== 'browser') ? window['nSQLite'].getMode() : 'PERM';\n    const buf = nSQL(DbService.storyTableName)\n    .model(DbService.storyModel)\n    .config({\n      mode: mode,\n      cache: true,\n      id: 'test'\n    });\n    await buf.connect();\n    this._isInitialized = true;\n    ob.next(true);\n\n    this.msgService.pushMessage({type: MessageTypes.Info, message: buf.toString() });\n\n    let rows = await nSQL(DbService.storyTableName).query('select', ['COUNT(*) AS count']).exec();\n    if (!!rows[0].count && rows[0].count > 0) {\n    } else {\n      rows = await this.upsertAsync();\n    }\n    this.msgService.pushMessage({type: MessageTypes.Info, message: JSON.stringify(rows) });\n\n  }\n\n  async searchAsync(tName: string = DbService.storyTableName,\n    selOptions?: any, where?: any, orderBy?: any, offset?: number, limit?: number) {\n    await this.onDBReady.toPromise(); // make sure it is finished\n    let select: _NanoSQLQuery;\n    if (!!selOptions) {\n      select = nSQL(tName).query('select', selOptions);\n    } else {\n      select = nSQL(tName).query('select');\n    }\n    if (!!where) {select = select.where(where); }\n    if (!!orderBy) {select = select.orderBy(orderBy); }\n    if (!!offset) {select = select.offset(offset); }\n    if (!!limit) {select = select.limit(limit); }\n\n    let result: any;\n    try {\n      result = await select.exec();\n      this.msgService.pushMessage({type: MessageTypes.Info, message: JSON.stringify(result)});\n    } catch (error) {\n      result = {};\n      this.msgService.pushMessage({type: MessageTypes.Error, message: error});\n    }\n    return result;\n  }\n\n  async deleteAsync(tName: string = DbService.storyTableName, where: any = ['viewTime', '>', 0]) {\n    await this.onDBReady.toPromise();\n    let q = nSQL(tName).query('delete');\n    if (!!where) {q = q.where(where); }\n\n    let result: any;\n    try {\n      result = await q.exec();\n      this._onDataChanged.next(result);\n    } catch (error) {\n      result = {};\n      this.msgService.pushMessage({type: MessageTypes.Error, message: error});\n    }\n    return result;\n  }\n\n  async upsertAsync(tName: string = DbService.storyTableName, item?: any, where?: any) {\n    await this.onDBReady.toPromise();\n    if (!!item === false) {item = this.getSampleItem(); }\n    let q = nSQL(tName).query('upsert', item);\n    if (!!where) { q = q.where(where); }\n    let result: any;\n    try {\n      result = await q.exec();\n      this._onDataChanged.next(result);\n    } catch (error) {\n      result = {};\n      this.msgService.pushMessage({type: MessageTypes.Error, message: error});\n    }\n    this.msgService.pushMessage({type: MessageTypes.Info, message: JSON.stringify(result)});\n    return result;\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { Observable, fromEvent } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DeviceService {\r\n\r\n  isCordova: boolean;\r\n  channel: any;\r\n\r\n  // * Observable\r\n  onDeviceReady: Observable<null>;\r\n  onPointerdown$: Observable<PointerEvent>;\r\n  onPointermove$: Observable<PointerEvent>;\r\n  onPointerup$: Observable<PointerEvent>;\r\n  onPointerout$: Observable<PointerEvent>;\r\n  onMouseup$: Observable<MouseEvent>;\r\n  onMousemove$: Observable<MouseEvent>;\r\n  onMousedown$: Observable<MouseEvent>;\r\n\r\n  constructor() {\r\n    // * [2018-06-??] For cordova\r\n    this.isCordova = !!window.cordova;\r\n    const self = this;\r\n    if (this.isCordova) {\r\n      this.channel = cordova.require('cordova/channel');\r\n      this.onDeviceReady = new Observable(ob => {\r\n        this.channel.onDeviceReady.subscribe( () => {\r\n          ob.next(); // For subscribe\r\n          ob.complete(); // For toPromise and auto-unsubscribe\r\n        });\r\n      });\r\n    }\r\n\r\n    // * [2018-07-17 19:50] For pointing device's events\r\n    this.onPointerdown$ = fromEvent(document, 'pointerdown') as Observable<PointerEvent>;\r\n    this.onPointermove$ = fromEvent(document, 'pointermove') as Observable<PointerEvent>;\r\n    // this.onPointermove$ = new Observable(ob => document.addEventListener('pointermove', e => {\r\n    //   const ev = e as PointerEvent;\r\n    //   ob.next(ev);\r\n    //   console.log(ev.screenX);\r\n    // }));\r\n    this.onPointerup$ = fromEvent(document, 'pointerup') as Observable<PointerEvent>;\r\n    this.onPointerout$ = fromEvent(document, 'pointerout') as Observable<PointerEvent>;\r\n    this.onMouseup$ = fromEvent(document, 'mouseup') as Observable<MouseEvent>;\r\n    this.onMousemove$ = fromEvent(document, 'mousemove') as Observable<MouseEvent>;\r\n    // this.onMousemove$ = new Observable(ob => document.addEventListener('mousemove', e => {\r\n    //   const ev = e as MouseEvent;\r\n    //   ob.next(ev);\r\n    //   console.log(ev.screenX);\r\n    // }));\r\n    this.onMousedown$ = fromEvent(document, 'mousedown') as Observable<MouseEvent>;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { DeviceService } from './device.service';\nimport { Observable, of, fromEvent } from 'rxjs';\nimport { shareReplay, map, concatAll, first, concat, last } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FsService {\n\n  FSReady$: Observable<boolean>;\n  fs$: Observable<FileSystem>;\n\n  constructor(private device: DeviceService) {\n    if (device.isCordova === true) {\n      this.FSReady$ = device.onDeviceReady.pipe(\n        map(_ => {\n          if (!!window['isFilePluginReadyRaised'] === false) { return of(true); }\n          if (!!window['isFilePluginReadyRaised']() === true) {\n            window['initPersistentFileSystem']();\n            return of(true);\n          } else {\n            return fromEvent(window, 'filePluginIsReady').pipe(\n              map( ev => true)\n            );\n          }\n        }),\n        concatAll()\n      ).pipe(shareReplay(1), first());\n    } else {\n      this.FSReady$ = of(false).pipe(shareReplay(1), first());\n    }\n    this.fs$ = this.getFs$();\n  }\n\n  getFs$(): Observable<FileSystem> {\n    let obs: Observable<FileSystem>;\n    obs = this.FSReady$.pipe(map(isReady => {\n      if (isReady) {\n        return new Observable<FileSystem>( subs => {\n          window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, fs => {\n            subs.next(fs);\n            subs.complete();\n          }, subs.error);\n        });\n      } else {\n        return of(null);\n      }\n    }), concatAll());\n    return obs.pipe(shareReplay(1), first());\n  }\n\n  getDir$(path: string, create: boolean = false, exclusive: boolean = false): Observable<DirectoryEntry> {\n    const self = this;\n    return self.fs$.pipe(map(fs => {\n      if (!!fs === false) {\n        return of(null);\n      } else {\n        return new Observable<DirectoryEntry>( subs => {\n          if (!!path === false) {\n            subs.next(fs.root);\n            subs.complete();\n          } else {\n            fs.root.getDirectory(path, {create: create, exclusive: exclusive},\n              dir => {\n                subs.next(dir);\n                subs.complete();\n              },\n              subs.error\n            );\n          }\n        });\n      }\n    }), concatAll());\n  }\n\n  ls$(dir: DirectoryEntry| string): Observable<Entry[]> {\n    const self = this;\n    if (typeof dir === 'string') {\n      return self.getDir$(dir).pipe(map(dEntry => {\n        return self.ls$(dEntry);\n      }), concatAll());\n    } else {\n      if (!!dir === false) {return of(null); }\n\n      return new Observable<Entry[]>( subs => {\n        dir.createReader().readEntries(\n          entries => {\n            subs.next(entries);\n            subs.complete();\n          },\n          subs.error\n        );\n      });\n    }\n  }\n\n  getFile$(name: string, create: boolean = false, exclusive: boolean = false): Observable<FileEntry> {\n    const self = this;\n    if (self.device.isCordova === false) {return of(null); }\n    const obs = self.fs$.pipe(map(fs => new Observable<FileEntry>( subs => {\n      fs.root.getFile(name, {create: create, exclusive: exclusive},\n        file => {\n          subs.next(file);\n          subs.complete();\n        },\n        subs.error);\n    })),\n    concatAll()\n    );\n    return obs;\n  }\n\n  writeFile$(fEntry: FileEntry, data: Blob, isAppend: boolean = false): Observable<boolean> {\n    const self = this;\n    if (self.device.isCordova === false) {return of(null); }\n    const obs = new Observable<boolean>( subs => {\n      fEntry.createWriter( fWriter => {\n        fWriter.onwriteend = e => {\n          subs.next(true);\n          console.log(e);\n          subs.complete();\n        };\n        fWriter.onerror = subs.error;\n\n        if (isAppend) {\n          try {\n            fWriter.seek(fWriter.length);\n          } catch (e) {\n            subs.error(e);\n          }\n        }\n        fWriter.write(data);\n      }, subs.error);\n    });\n    return obs;\n  }\n\n  rmFile$(file: FileEntry) {\n    return new Observable<boolean>( subs => {\n      if (!!file === false) {\n        subs.next(false);\n        subs.complete();\n        return;\n      }\n      file.remove(\n        () => {\n          subs.next(true);\n          subs.complete();\n        },\n        subs.error);\n    });\n  }\n\n  toURL(file: FileEntry) {\n    return file.toURL();\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GvService {\n\n  shownPage = PageType.Home;\n  sharedFolderName = 'SegmentedMediaLayer';\n\n  constructor() { }\n}\n\nexport enum PageType {\n  Home,\n  MediaEdit,\n  Test\n}\n","import { Injectable } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\nimport { IStory, Story } from './story.service';\nimport { PlayerType } from '../vm/player-type.enum';\nimport { AdService } from './ad.service';\nimport { DbService } from './db.service';\nimport { FsService } from './fs.service';\nimport { MessageService, MessageTypes } from './message.service';\nimport { concatAll, map, shareReplay, concat } from 'rxjs/operators';\nimport { PageTextsService } from './page-texts.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MediaEditService {\n\n  _onStateChanged: Subject<MEState>; // Just for subscribe, if you want to trigger it, set ~self.state~.\n  public get onStateChanged(): Observable<MEState> {\n    return this._onStateChanged;\n  }\n\n  onPlayerAction: Subject<playerAction>;\n\n  PlayerType = PlayerType;\n\n  private _state: MEState;\n  public get state(): MEState {\n    return this._state;\n  }\n  public set state(v: MEState) {\n    if (this._state !== v && !!this._onStateChanged) {\n      this._onStateChanged.next(v);\n    }\n    this._state = v;\n  }\n\n  onCurrentTimeChanged: Observable<number>;\n\n  private _duration = 100;\n  public set duration(v: number) {\n    this._duration = v;\n  }\n  public get duration(): number {\n    return (!!this._duration) ? this._duration : 100;\n  }\n\n  public _volume = 1; // **************** TODO *******************\n  public get volume(): number {\n    return this._volume;\n  }\n  public set volume(v: number) {\n    this._volume = v;\n    this.setVolumeIntoFrame();\n  }\n\n  // ********************** TODO *************************\n  public _playbackRate = 1;\n  public get playbackRate(): number {\n    return this._playbackRate;\n  }\n  public set playbackRate(v: number) {\n    this._playbackRate = v;\n    this.setPlaybackRateIntoFrame();\n  }\n\n  public availablePlaybackRates: number[] = [0.25, 0.5, 0.75, 1, 1.5, 2, 4];\n\n  story = new Story();\n  blob: Blob;\n\n  currentTime = 0;\n  isRepeat = true;\n\n  private _seekTime = 0;\n  public set seekTime(v: number) {\n    this._seekTime = v;\n    this.onPlayerAction.next(playerAction.seek);\n  }\n  public get seekTime(): number {\n    return this._seekTime;\n  }\n\n  sideClickType = SideClickType.none;\n\n  private _setiFrame$ = new Subject<number>();\n  setiFrame$ = this._setiFrame$.pipe(shareReplay(1));\n\n  repeatStart$ = new Subject<number>();\n\n  pts: IPageTexts;\n  constructor(private adService: AdService,\n              private fsService: FsService,\n              private msgService: MessageService,\n              private db: DbService,\n              private ptsService: PageTextsService\n  ) {\n    const self = this;\n    self.ptsService.PTSReady$.subscribe(_ => {\n      self.pts = self.ptsService.pts;\n      self.story = new Story(self.pts);\n    });\n    self.ptsService.ptsLoaded$.subscribe(_ => {\n      self.pts = self.ptsService.pts;\n    });\n    this._onStateChanged  = new Subject<MEState>();\n    this.onPlayerAction = new Subject<playerAction>();\n    this.state = MEState.initialized;\n    // * [2018-08-25 21:26] light up setiFrame$\n    this.setiFrame$.subscribe();\n  }\n\n  initMe(data: Blob| IStory| string, pType: PlayerType = PlayerType.auto) {\n    // * [2018-08-15 16:25] Try to show admob\n    this.adService.showInterstitial();\n    // * [2018-07-19 17:58] pause previous action\n    this.onPlayerAction.next(playerAction.pause);\n    // * [2018-07-19 17:59] Start to initialize it.\n    this.state = MEState.parsing;\n    // * [2018-06-20 11:00] Check the type of service is\n    if (pType !== PlayerType.auto) {\n      this.story.meType = pType;\n    } else {\n      if ((typeof data) === 'string') {\n        this.story = new Story(this.pts);\n        this.story.meType = PlayerType.url;\n      } else if (!!data['makeTime']) {\n        this.story = data as IStory;\n      } else if (!!(data as Blob)) {\n        this.story = new Story(this.pts);\n        this.story.meType = PlayerType.file;\n      } else {\n        this.state = MEState.parseFailed;\n        return;\n      }\n    }\n\n    if (!!data['makeTime']) {\n      // * [2018-07-19 13:41] If input is a story\n    } else if ((this.story.meType === PlayerType.url) || (this.story.meType === PlayerType.youtubeID)) {\n      this.story.urlOrID = data as string;\n      this.story.title = this.story.urlOrID;\n      this.story.name = this.story.title.slice(this.story.title.lastIndexOf('/') + 1);\n    } else if (this.story.meType === PlayerType.file) {\n      this.blob = data as Blob;\n      this.story.urlOrID = window.URL.createObjectURL(this.blob);\n      if (!!(data as File)) {\n        this.story.title = this.story.fileName = (data as File).name;\n        this.story.name = this.story.title;\n      }\n    }\n\n    // * [2018-07-23 10:16] Update the duration & playbackRates\n    if (this.story.meType !== PlayerType.youtubeID) {\n      this.onPlayerAction.next(playerAction.getDuration);\n      this.onPlayerAction.next(playerAction.getAllowedPlaybackRate);\n    }\n\n    // * [2018-08-20 12:44] Update viewTime if it has been stored before\n    if (this.story.modifyTime !== 0) {\n      this.story.viewTime = Date.now();\n      this.onUpdateStory$$();\n    }\n    this.state = MEState.readyForPlayer;\n  }\n\n  setiFrame(i: number) {\n    const self = this;\n    if (!!self.story) {\n      // **************************** TODO ********************************************\n      self.story.iFrame = i;\n      self.setVolumeFromFrame();\n      self.setPlaybackRateFromFrame();\n      self._setiFrame$.next(i);\n    } else {\n      alert(`Problem in setiFrame(${i})`);\n    }\n  }\n\n  setVolumeFromFrame() {\n    const self = this;\n    if (!!self.story) {\n      const i = self.story.iFrame;\n      // **************************** TODO ********************************************\n      if (i >= 0) { // if it is a frame.\n        const frame = self.story.frames[i];\n        self._volume = frame.volume;\n      } else { // for all\n        self._volume = 1;\n      }\n      self.onPlayerAction.next(playerAction.setVolume);\n    } else {\n      alert(`Problem in setVolume`);\n    }\n  }\n\n  setPlaybackRateFromFrame() {\n    const self = this;\n    if (!!self.story) {\n      const i = self.story.iFrame;\n      // **************************** TODO ********************************************\n      if (i >= 0) { // if it is a frame.\n        const frame = self.story.frames[i];\n        self._playbackRate = frame.rate;\n      } else { // for whole story\n        self._playbackRate = 1;\n      }\n      self.onPlayerAction.next(playerAction.setPlaybackRate);\n    } else {\n      alert(`Problem in setPlaybackRate`);\n    }\n  }\n\n  /**\n   * Provide self._volume at first.\n   */\n  setVolumeIntoFrame() {\n    const self = this;\n    if (!!self.story) {\n      const i = self.story.iFrame;\n      // **************************** TODO ********************************************\n      if (i >= 0) { // if it is a frame.\n        const frame = self.story.frames[i];\n        frame.volume = self._volume;\n      } else { // for all\n        // self._volume = 1;\n      }\n      self.onPlayerAction.next(playerAction.setVolume);\n    } else {\n      alert(`Problem in setVolume`);\n    }\n  }\n\n    /**\n   * Provide self._playbackRate at first.\n   */\n  setPlaybackRateIntoFrame() {\n    const self = this;\n    if (!!self.story) {\n      const i = self.story.iFrame;\n      // **************************** TODO ********************************************\n      if (i >= 0) { // if it is a frame.\n        const frame = self.story.frames[i];\n        frame.rate = self._playbackRate;\n      } else { // for whole story\n        // self._playbackRate = 1;\n      }\n      self.onPlayerAction.next(playerAction.setPlaybackRate);\n    } else {\n      alert(`Problem in setPlaybackRate`);\n    }\n  }\n\n\n  async onSaveStory$$() {\n    const story = this.story;\n    story.modifyTime = story.viewTime = Date.now();\n    const self = this;\n    if (story.meType === PlayerType.file) {\n      const isSaved = await this.fsService.getFile$(story.fileName, true).pipe(map(fEntry => {\n        return self.fsService.writeFile$(fEntry, self.blob);\n      }), concatAll()).toPromise();\n      // * [2018-08-05 17:23] if it is saved, renew its URL\n      if (isSaved === true) {\n        story.urlOrID = (await this.fsService.getFile$(story.fileName).toPromise()).toURL();\n      }\n\n      self.msgService.pushMessage({type: MessageTypes.Info, message: `The file ${story.fileName} is stored: ${isSaved}`});\n    }\n    delete story['id'];\n    const insert = await this.db.upsertAsync(DbService.storyTableName, story);\n    // * [2018-07-25 19:04] Change its state to 'Update'\n    story['id'] = insert[0].affectedRows[0].id;\n    this.sideClickType = SideClickType.select;\n  }\n\n  async onUpdateStory$$() {\n    const story = this.story;\n    story.modifyTime = story.viewTime = Date.now();\n    await this.db.upsertAsync(DbService.storyTableName, story);\n  }\n}\n\nexport enum playerAction {\n  none,\n  play,\n  pause,\n  seek,\n  getDuration,\n  getVolume,\n  setVolume,\n  getPlaybackRate,\n  setPlaybackRate,\n  getAllowedPlaybackRate\n}\n\nexport enum MEState {\n  initialized,\n  parsing,\n  parseFailed,\n  readyForPlayer,\n  canPlay,\n  error,\n  waiting,\n  playing,\n  paused,\n  stopped,\n  disposed,\n  playerReady\n}\n\nexport enum SideClickType {\n  none,\n  new,\n  select\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MessageService {\n\n  remindMsgIn: Subject<number> = new Subject();\n\n  isShown = false;\n\n  private _messages: OneMessage[] = [];\n  private _nRead = 0;\n\n  pushMessage(msg: OneMessage) {\n    this._messages.push(msg);\n    this.remindMsgIn.next(this.getNUnRead());\n  }\n\n  readMessages() {\n    this._nRead = this._messages.length;\n    this.remindMsgIn.next(0);\n    const origin = this._messages.slice(0);\n    const result = this._messages.reverse();\n    this._messages = origin;\n    return result;\n  }\n\n  getNUnRead() {\n    return this._messages.length - this._nRead;\n  }\n\n  constructor() { }\n\n\n}\n\nexport class OneMessage {\n  type: MessageTypes;\n  message: string;\n  constructor() {\n  }\n}\n\nexport enum MessageTypes {\n  Info,\n  Warn,\n  Error\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, Subject, from } from 'rxjs';\nimport { take, shareReplay } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PageTextsService {\n  pts: IPageTexts;\n\n  _ptsLoaded$ = new Subject<IPageTexts>();\n  public get ptsLoaded$(): Observable<IPageTexts> {\n    return this._ptsLoaded$;\n  }\n\n  langCode: string;\n  langList: EachLang[] = [\n    {name: \"繁中\", isoCode: \"zh-tw\"},\n    {name: \"簡中\", isoCode: \"zh-cn\"},\n    {name: \"English\", isoCode: \"en\"},\n    {name: \"Indonesia\", isoCode: \"id\"}\n  ];\n\n  PTSReady$: Observable<boolean>;\n\n  folder_prefix = \"iso_\";\n  _ptsKey = \"PTS\";\n  _isoCodeKey = \"IsoCode\";\n  constructor(private http: HttpClient) {\n      const self = this;\n      self.PTSReady$ = from(self._iniPTS$$()).pipe(shareReplay(1));\n  }\n\n  private async _iniPTS$$() {\n    let result = await this.loadPTSFromStorage$$();\n    if (!!result === false) {\n      const lang = navigator.language;\n      result = await this.loadPTS$$();\n      this.savePTS2Storage();\n    }\n    return (!!result);\n  }\n\n  async loadPTS$$(isoCode = 'en', isSaveIntoStorage = false) {\n    const self = this;\n    const httpGet = this.http.get(`assets/i18n/${self.folder_prefix}${isoCode}/pageTexts.json`).pipe(take(1));\n    let obj: IPageTexts = null;\n    try {\n      obj = await httpGet.toPromise() as IPageTexts;\n      self.langCode = isoCode;\n      self.pts = obj as IPageTexts;\n      self._ptsLoaded$.next(self.pts);\n      if (isSaveIntoStorage === true) {\n        self.savePTS2Storage();\n      }\n    } catch (error) {\n      self._ptsLoaded$.next(null);\n    }\n    return obj;\n  }\n\n  async loadPTSFromStorage$$() {\n    const self = this;\n    let code: string = null;\n    try {\n      code = window.localStorage.getItem(self._isoCodeKey);\n    } catch (error) {\n      code = null;\n    }\n    if (!!code) {\n      self.langCode = code;\n      self.pts = JSON.parse(window.localStorage.getItem(self._ptsKey)) as IPageTexts;\n      self._ptsLoaded$.next(self.pts);\n    }\n\n    return (!!code) ? self.pts : null;\n  }\n\n  savePTS2Storage() {\n    const self = this;\n    if (!!this.pts) {\n      window.localStorage.setItem(self._ptsKey, JSON.stringify(this.pts));\n      window.localStorage.setItem(self._isoCodeKey, self.langCode);\n    }\n  }\n}\n\nexport interface EachLang {\n  name: string;\n  isoCode: string;\n}\n","import { Injectable } from '@angular/core';\nimport { interval, Observable, Subject } from 'rxjs';\nimport { take, map, takeWhile, shareReplay, last } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SpeechSynthesisService {\n\n  voices: SpeechSynthesisVoice[];\n  defaultVoice: SpeechSynthesisVoice;\n\n  private _getVoices$ = new Subject<boolean>();\n  getVoices$ = this._getVoices$.pipe(shareReplay(1));\n\n  constructor() {\n    this.updateVoices$$();\n   }\n\n  async updateVoices$$() {\n    let voices: SpeechSynthesisVoice[];\n    // * [2018-08-23 11:05] Try 5 times to get the voices\n    await interval(100).pipe(take(5),\n      takeWhile(_ => {\n        voices = speechSynthesis.getVoices();\n        return !!voices === false || voices.length === 0;\n      })\n    ).toPromise();\n\n    // * [2018-08-23 11:07] If I got the voice, set the default voice\n    if (!!voices !== false && voices.length > 0) {\n      this.defaultVoice = voices.find(v => /en.*US/.test(v.lang));\n      this.defaultVoice = (!!this.defaultVoice) ? this.defaultVoice : voices[0];\n      this._getVoices$.next(true);\n    }\n\n    this.voices = voices;\n  }\n\n  speak(para: SSutterParameters ) {\n    if (!!para === false) {\n      alert(`Warning: input of SpeechSynthesisService.speak cannot be ${para}`);\n      return;\n    }\n    // * [2018-08-22 19:53] Cancel previous utterance\n    speechSynthesis.pause();\n    speechSynthesis.cancel();\n    // * [2018-08-22 19:53] Create a new utterance\n    const utter = new SpeechSynthesisUtterance(para.text);\n    utter.pitch = para.pitch;\n    utter.rate = para.rate;\n    utter.volume = para.volume;\n    if (!!para.voice === true) {\n      utter.voice = para.voice;\n    } else {\n      utter.lang = para.lang;\n    }\n    // * [2018-08-22 19:54] Play it\n    speechSynthesis.speak(utter);\n    speechSynthesis.resume();\n  }\n\n  updateUtterParaWithVoice(old: SSutterParameters): SSutterParameters {\n    if (!!old.voiceName === true) {\n      old.voice = this.voices.find(v => v.name === old.voiceName);\n      if (!!old.voice === true) {return old; }\n    }\n\n    if (!!old.lang === true) {\n      old.voice = this.voices.find(v => v.lang === old.lang);\n      if (!!old.voice === true) {return old; }\n    }\n\n    return old;\n  }\n}\n\n export class SSutterParameters {\n  lang = 'en-US';\n  voiceName?: string;\n  pitch = 1;\n  rate = 1;\n  text = 'test';\n  voice?: SpeechSynthesisVoice;\n  volume = 1;\n }\n","import { Injectable } from '@angular/core';\r\nimport { PlayerType } from '../vm/player-type.enum';\r\nimport { AFrame } from '../vm/a-frame';\r\nimport { PageTextsService } from './page-texts.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class StoryService {\r\n\r\n  constructor() { }\r\n}\r\n\r\nexport class Story implements IStory {\r\n  name = '請給個名字';\r\n  title = '歡迎使用本App來幫助學習';\r\n  description = '';\r\n  keywords = '';\r\n\r\n  makeTime: number;\r\n  modifyTime: number;\r\n  viewTime: number;\r\n\r\n  urlOrID = ''; // 'https://youtu.be/rpvsEBdP4c8';\r\n  meType = PlayerType.url;\r\n\r\n  fileName = '';\r\n  fileToken = '';\r\n\r\n  frames: AFrame[];\r\n  iFrame = -1;\r\n\r\n  utterType = utterType.none;\r\n\r\n  constructor(pts?: IPageTexts) {\r\n    if (!!pts === true) {\r\n      this.name = pts.NewStory.name;\r\n      this.title = pts.NewStory.title;\r\n    }\r\n    const time = Date.now();\r\n    this.makeTime = this.viewTime = time;\r\n    this.modifyTime = 0;\r\n    this.frames = [];\r\n    return this;\r\n  }\r\n}\r\nexport interface IStory {\r\n  id?: string;\r\n  name: string;\r\n  title: string;\r\n  description: string;\r\n  keywords: string;\r\n\r\n  makeTime: number;\r\n  modifyTime: number;\r\n  viewTime: number;\r\n\r\n  urlOrID: string;\r\n  meType: PlayerType;\r\n\r\n  fileName: string;\r\n  fileToken: string;\r\n\r\n  frames: AFrame[];\r\n  iFrame: number;\r\n\r\n  utterType: utterType;\r\n}\r\n\r\nexport enum utterType {\r\n  none,\r\n  byEach,\r\n  all\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject, Observable } from 'rxjs';\r\nimport { first } from 'rxjs/operators';\r\n// import 'rxjs/add/operator/first';\r\nimport { MessageService, MessageTypes } from './message.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class YoutubeService {\r\n\r\n  static regYT = /^(http(s)?:\\/\\/)?(((www\\.youtube\\.com|youtube\\.com)\\/.*[\\?\\&]v=([^\\&]+))|(youtu\\.be\\/([^\\&]+)))/i;\r\n\r\n  ytPlayer: YT.Player;\r\n  onReady: Subject<YT.PlayerEvent>;\r\n  onStateChange: Subject<YT.OnStateChangeEvent>;\r\n  onError: Subject<YT.OnErrorEvent>;\r\n\r\n  isScriptEmbedded = false;\r\n\r\n  private _isApiReady = false;\r\n  public get isApiReady(): boolean {\r\n    return this._isApiReady;\r\n  }\r\n  public set isApiReady(v: boolean) {\r\n    if (v === true) {\r\n      this.onApiReday.next(v);\r\n    }\r\n    this._isApiReady = v;\r\n  }\r\n  onApiReday = new Subject<boolean>();\r\n\r\n  static isYoutubeURL(url: string): boolean {\r\n    return this.regYT.test(url);\r\n  }\r\n\r\n  static getYTId(url: string): string {\r\n    const result = this.regYT.exec(url);\r\n    return (result[6] || result[8]);\r\n  }\r\n\r\n  constructor(private msgService: MessageService) {\r\n    this.onReady = new Subject<YT.PlayerEvent>();\r\n    this.onStateChange = new Subject<YT.OnStateChangeEvent>();\r\n    this.onError = new Subject<YT.OnErrorEvent>();\r\n}\r\n\r\n  embedApiScript() {\r\n    // * [2018-06-19 11:36] For Youtube, gotten from\r\n    // https://stackoverflow.com/questions/36467532/use-youtube-iframe-api-with-angular2-and-typescript\r\n    if (this.isScriptEmbedded === true) {\r\n      return;\r\n    } else {\r\n      this.isScriptEmbedded = true;\r\n    }\r\n    const doc = window.document;\r\n    (<any>window).onYouTubeIframeAPIReady = () => {\r\n      this.isApiReady = true;\r\n      this.msgService.pushMessage({type: MessageTypes.Info, message: 'Youtube Api is initialized'});\r\n    };\r\n    const apiScript = doc.createElement('script');\r\n    apiScript.type = 'text/javascript';\r\n    apiScript.src = 'https://www.youtube.com/iframe_api';\r\n    doc.body.appendChild(apiScript);\r\n  }\r\n\r\n  loadURLforPlayer(uiEle: HTMLIFrameElement, VId: string) {\r\n    if (!!window['YT'] === false) {\r\n      this.onApiReday.pipe(first()).subscribe(() => this.loadURLforPlayer(uiEle, VId));\r\n      return;\r\n    }\r\n    const self = this;\r\n    uiEle.src = `http://www.youtube.com/embed/${VId}?enablejsapi=1&html5=1&playsinline=1`;\r\n    if (!!this.ytPlayer && (this.ytPlayer.getIframe() === uiEle)) {\r\n      this.ytPlayer.loadVideoById(VId);\r\n    } else {\r\n      if (!!this.ytPlayer) {\r\n        this.ytPlayer.destroy(); // ******************** TODO *****************************\r\n      }\r\n      this.ytPlayer = new YT.Player(uiEle, {\r\n        events: {\r\n          'onReady': (ev) => {self.onReady.next(ev); },\r\n          'onStateChange': (ev) => {self.onStateChange.next(ev); },\r\n          'onError': (ev) => {self.onError.next(ev); },\r\n          'onApiChange': (ev) => {\r\n            // ************************* TODO for caption******************************\r\n            // console.log('ytPlayer.getOptions?' + JSON.stringify(self.ytPlayer['getOptions']()));\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","import { SSutterParameters } from \"../services/speech-synthesis.service\";\r\n\r\nexport class AFrame {\r\n    name: string;\r\n    pseudopath = '/';\r\n\r\n    genTime: number;\r\n    colorR: number;\r\n    colorG: number;\r\n    colorB: number;\r\n    colorA = 0.9;\r\n    top = 0.5; // 0 ~ ${1-height}\r\n    height = 0.3;\r\n\r\n    start = 0;\r\n    end = 0;\r\n\r\n    rate = 1;\r\n    volume = 1;\r\n\r\n    subtitle = '';\r\n\r\n    isUtter = false;\r\n    utterPara = new SSutterParameters();\r\n\r\n    constructor () {\r\n        this.colorR = Math.round(Math.random() * 200 + 20);\r\n        this.colorG = Math.round(Math.random() * 200 + 20);\r\n        this.colorB = Math.round(Math.random() * 200 + 20);\r\n        this.genTime = Date.now();\r\n        return this;\r\n    }\r\n}\r\n","export enum PlayerType {\n    none,\n    auto,\n    file,\n    url,\n    youtubeID\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nimport 'hammerjs';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}