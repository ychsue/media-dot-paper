{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/draglist/draglist.component.css","webpack:///./src/app/components/draglist/draglist.component.html","webpack:///./src/app/components/draglist/draglist.component.ts","webpack:///./src/app/components/me-main-dashboard/me-main-dashboard.component.css","webpack:///./src/app/components/me-main-dashboard/me-main-dashboard.component.html","webpack:///./src/app/components/me-main-dashboard/me-main-dashboard.component.ts","webpack:///./src/app/components/me-mani-plate/me-mani-plate.component.css","webpack:///./src/app/components/me-mani-plate/me-mani-plate.component.html","webpack:///./src/app/components/me-mani-plate/me-mani-plate.component.ts","webpack:///./src/app/components/me-section-dashboard/me-section-dashboard.component.css","webpack:///./src/app/components/me-section-dashboard/me-section-dashboard.component.html","webpack:///./src/app/components/me-section-dashboard/me-section-dashboard.component.ts","webpack:///./src/app/components/player/player.component.css","webpack:///./src/app/components/player/player.component.html","webpack:///./src/app/components/player/player.component.ts","webpack:///./src/app/components/swap-icon/swap-icon.component.css","webpack:///./src/app/components/swap-icon/swap-icon.component.html","webpack:///./src/app/components/swap-icon/swap-icon.component.ts","webpack:///./src/app/dialog/dialog.component.css","webpack:///./src/app/dialog/dialog.component.html","webpack:///./src/app/dialog/dialog.component.ts","webpack:///./src/app/message/message.component.css","webpack:///./src/app/message/message.component.html","webpack:///./src/app/message/message.component.ts","webpack:///./src/app/navbar/navbar.component.css","webpack:///./src/app/navbar/navbar.component.html","webpack:///./src/app/navbar/navbar.component.ts","webpack:///./src/app/pages/home/home.component.css","webpack:///./src/app/pages/home/home.component.html","webpack:///./src/app/pages/home/home.component.ts","webpack:///./src/app/pages/media-edit/media-edit.component.css","webpack:///./src/app/pages/media-edit/media-edit.component.html","webpack:///./src/app/pages/media-edit/media-edit.component.ts","webpack:///./src/app/pages/story/story.component.css","webpack:///./src/app/pages/story/story.component.html","webpack:///./src/app/pages/story/story.component.ts","webpack:///./src/app/pages/test/test.component.css","webpack:///./src/app/pages/test/test.component.html","webpack:///./src/app/pages/test/test.component.ts","webpack:///./src/app/pipes/safe.pipe.ts","webpack:///./src/app/services/db.service.ts","webpack:///./src/app/services/device.service.ts","webpack:///./src/app/services/fs.service.ts","webpack:///./src/app/services/gv.service.ts","webpack:///./src/app/services/media-edit.service.ts","webpack:///./src/app/services/message.service.ts","webpack:///./src/app/services/story.service.ts","webpack:///./src/app/services/youtube.service.ts","webpack:///./src/app/vm/a-frame.ts","webpack:///./src/app/vm/player-type.enum.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \".container{\\n    display: -ms-grid;\\n    display: grid;\\n        -ms-grid-rows: auto 1fr;\\n        grid-template-rows: auto 1fr;\\n    height: 100vh;\\n        grid-template-areas: \\\"navbar\\\" \\\"content\\\";\\n}\\n\\napp-navbar{\\n    -ms-grid-row: 1;\\n    -ms-grid-column: 1;\\n    grid-area: navbar;\\n    color: white;\\n    width: 100vw;\\n}\\n\\nmat-sidenav {\\n    display: flex;\\n    overflow-x: hidden;\\n}\\n\\napp-home {\\n    flex: 1;\\n}\\n\\n.vSeparate {\\n    position: absolute;\\n    z-index: 1;\\n    width: 2px;\\n    height: 100%;\\n    background-color: black;\\n    touch-action: none;\\n}\\n\\n.vSeparate:hover {\\n    cursor: col-resize;\\n}\\n\\n.content{\\n    -ms-grid-row: 2;\\n    -ms-grid-column: 1;\\n    grid-area: content;\\n    overflow-y: auto;\\n}\\n\\n.page{\\n    width: 100%;\\n    height: 100%;\\n}\\n\\n#resizeWidth {\\n    touch-action: none;\\n    position: absolute;\\n    top: 50%;\\n    right: 0;\\n    width: 20px;\\n    height: 40px;\\n    order: 2;\\n    z-index: 2;\\n}\\n\\n#sidenavTabs {\\n    z-index: 0;\\n    width: 100%;\\n}\\n\\n#sidenavTabs ::ng-deep .mat-tab-label {\\n    min-width: 40px !important;\\n}\\n\\n#sidenavTabs ::ng-deep .mat-tab-body-wrapper {\\n    position: relative;\\n    height: 100%;\\n}\"","module.exports = \"<div #container class=\\\"container\\\">\\n  <app-navbar #navbar class=\\\"mat-elevation-z6\\\" (toggleSidenav_Click)=\\\"sidenav.opened=!sidenav.opened\\\"></app-navbar>\\n  <mat-sidenav-container #sidenavContainer class=\\\"content\\\">\\n      <mat-sidenav #sidenav [mode]=\\\"sidenavMode\\\" align=\\\"start\\\" [opened]=\\\"true\\\"\\n        [style.width]=\\\"sidenavWidth+'px'\\\">\\n        <!-- <app-home class=\\\"page\\\" [style.display]=\\\"(gv.shownPage===pageType.Home)?'block':'none'\\\"></app-home> -->\\n        <mat-tab-group id=\\\"sidenavTabs\\\" mat-stretch-tabs [dynamicHeight]=\\\"true\\\">\\n            <mat-tab>\\n                <ng-template matTabLabel>\\n                    <mat-icon>library_music</mat-icon>\\n                </ng-template>\\n                <app-home class=\\\"page\\\"></app-home>\\n            </mat-tab>            \\n            <mat-tab>\\n                <ng-template matTabLabel>\\n                    <mat-icon>music_video</mat-icon>\\n                </ng-template>\\n                <app-story class=\\\"page\\\" *ngIf=\\\"!!meService.story?.urlOrID===true\\\"></app-story>\\n                <span *ngIf=\\\"!!meService.story?.urlOrID===false\\\">請先選一個媒體</span>\\n            </mat-tab>            \\n        </mat-tab-group>\\n        <div class=\\\"vSeparate\\\" [style.left]=\\\"sidenavWidth-2+'px'\\\" touch-action=\\\"none\\\"\\n          (pointerdown)=\\\"onvSepPointerDown($event)\\\"></div>\\n        <svg id=\\\"resizeWidth\\\" viewBox=\\\"0 0 10 20\\\" (pointerdown)=\\\"onvSepPointerDown($event)\\\" touch-action=\\\"none\\\">\\n          <polygon points=\\\"0,10 10,0 10,20\\\" style=\\\"fill:cadetblue;opacity: 0.5;\\\"/>\\n        </svg>\\n      </mat-sidenav>\\n      <!-- <div class=\\\"page\\\"> -->\\n        <!-- <router-outlet></router-outlet> -->\\n        <mat-sidenav-content class=\\\"page\\\" [style.margin-left]=\\\"(sidenavMode==='over')?0:(sidenavWidth+'px')\\\"\\n          [style.width]=\\\"((sidenavMode==='over'||(sidenav.opened===false))?container.clientWidth:(container.clientWidth-sidenavWidth))+'px'\\\">\\n            <app-media-edit class=\\\"page\\\" [style.display]=\\\"(gv.shownPage===pageType.MediaEdit)?'block':'none'\\\"></app-media-edit>\\n            <app-test class=\\\"page\\\" [style.display]=\\\"(gv.shownPage===pageType.Test)?'block':'none'\\\"></app-test>\\n        </mat-sidenav-content>\\n      <!-- </div> -->\\n      </mat-sidenav-container>\\n</div>\\n\"","import { Component, AfterViewInit } from '@angular/core';\nimport { MessageService, MessageTypes } from './services/message.service';\nimport { MatBottomSheet } from '@angular/material';\nimport { MessageComponent } from './message/message.component';\nimport { YoutubeService } from './services/youtube.service';\nimport { GvService, PageType } from './services/gv.service';\nimport { Subject, of } from 'rxjs';\nimport { DeviceService } from './services/device.service';\nimport { concatAll, takeUntil, map, concat, merge, take, debounceTime } from 'rxjs/operators';\nimport { MediaEditService } from './services/media-edit.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements AfterViewInit {\n\n  resize$ = new Subject<PointerEvent>();\n  sidenavWidth: number;\n  sidenavMode: string;\n\n  pageType = PageType;\n\n  constructor(public msgService: MessageService, public gv: GvService,\n    private ytService: YoutubeService, private device: DeviceService, public meService: MediaEditService) {\n    msgService.pushMessage({type: MessageTypes.Error, message: document.location.toString() });\n    msgService.pushMessage({type: MessageTypes.Warn, message: 'Test 2' });\n    msgService.pushMessage({type: MessageTypes.Info, message: 'Test 321' });\n    this.sidenavWidth = (window.innerWidth < 800) ? 300 : window.innerWidth / 4;\n    this.decideSidenavMode();\n  }\n\n  ngAfterViewInit() {\n    const self = this;\n    this.ytService.embedApiScript();\n    let px = NaN;\n    // * [2018-07-29 20:11] For resizing the sideNav\n    this.resize$.pipe(\n        map(_ => self.device.onPointermove$.pipe(\n          takeUntil(self.device.onPointerup$.pipe(\n            merge(self.device.onPointermove$.pipe(debounceTime(1000)))\n          )),\n          concat(of(null))\n        )),\n        concatAll(),\n    ).subscribe((ev: PointerEvent) => {\n      if (ev === null) { // if at the end\n        px = NaN;\n        this.decideSidenavMode();\n      } else {\n        if (isNaN(px)) { // if at the start\n          px = ev.screenX;\n        } else {\n          const dx = ev.screenX - px;\n          px = ev.screenX;\n            self.sidenavWidth += dx;\n        }\n      }\n    });\n  }\n\n  decideSidenavMode() {\n    const self = this;\n    if (self.sidenavWidth * 2 > window.innerWidth) {\n      self.sidenavMode = 'over';\n    } else {\n      self.sidenavMode = 'side';\n    }\n  }\n\n  onvSepPointerDown(ev: PointerEvent) {\n    this.resize$.next(ev);\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { MessageComponent } from './message/message.component';\nimport { MessageService } from './services/message.service';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport {MatButtonModule, MatBottomSheetModule, MatBadgeModule, MatIconModule,\n  MatFormFieldModule, MatInputModule, MatListModule, MatDialogModule,\n  MatSidenavModule, MatSliderModule, MatTabsModule} from '@angular/material';\nimport { NavbarComponent } from './navbar/navbar.component';\nimport { AppRoutingModule } from './modules/app-routing/app-routing.module';\nimport { HomeComponent } from './pages/home/home.component';\nimport { TestComponent } from './pages/test/test.component';\nimport { SafePipe } from './pipes/safe.pipe';\nimport { MediaEditComponent } from './pages/media-edit/media-edit.component';\nimport { MeMainDashboardComponent } from './components/me-main-dashboard/me-main-dashboard.component';\nimport { MeSectionDashboardComponent } from './components/me-section-dashboard/me-section-dashboard.component';\nimport { MeManiPlateComponent } from './components/me-mani-plate/me-mani-plate.component';\nimport { PlayerComponent } from './components/player/player.component';\nimport { MediaEditService } from './services/media-edit.service';\nimport { YoutubeService } from './services/youtube.service';\nimport { GvService } from './services/gv.service';\nimport { DialogComponent } from './dialog/dialog.component';\nimport { FormsModule } from '@angular/forms';\nimport { DbService } from './services/db.service';\nimport { DeviceService } from './services/device.service';\nimport { DraglistComponent } from './components/draglist/draglist.component';\nimport { SwapIconComponent } from './components/swap-icon/swap-icon.component';\nimport { CommonModule } from '../../node_modules/@angular/common';\nimport { StoryComponent } from './pages/story/story.component';\nimport { FsService } from './services/fs.service';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MessageComponent,\n    NavbarComponent,\n    HomeComponent,\n    TestComponent,\n    SafePipe,\n    MediaEditComponent,\n    MeMainDashboardComponent,\n    MeSectionDashboardComponent,\n    MeManiPlateComponent,\n    PlayerComponent,\n    DialogComponent,\n    DraglistComponent,\n    SwapIconComponent,\n    StoryComponent\n  ],\n  entryComponents: [MessageComponent, DialogComponent],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    BrowserAnimationsModule,\n    MatButtonModule,\n    MatBadgeModule,\n    MatIconModule,\n    MatSidenavModule,\n    MatInputModule,\n    MatFormFieldModule,\n    MatBottomSheetModule,\n    MatListModule,\n    MatDialogModule,\n    CommonModule,\n    MatSliderModule,\n    MatTabsModule\n  ],\n  providers: [MessageService, MediaEditService, YoutubeService, GvService, DbService, DeviceService\n    , FsService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","module.exports = \".container {\\n    display: -ms-grid;\\n    display: grid;\\n    -ms-grid-columns: 1fr;\\n        grid-template-columns: 1fr;\\n}\\n\\n.backDel {\\n    -ms-grid-column: 1;\\n    grid-column: 1;\\n    -ms-grid-row: 1;\\n    grid-row: 1;\\n    background-color: red;\\n    border-radius: 4px;\\n    display: flex;\\n    align-items: center;\\n    color: white;\\n}\\n\\n.right {\\n    margin-left: auto;\\n}\\n\\n.content {\\n    -ms-grid-column: 1;\\n    grid-column: 1;\\n    -ms-grid-row:1;\\n    grid-row:1;\\n    background-color: white;\\n    touch-action: none;\\n}\"","module.exports = \"<div class=\\\"container\\\">\\n    <div class=\\\"backDel\\\">\\n        <mat-icon class=\\\"mat-18 left\\\">delete</mat-icon>\\n        <mat-icon class=\\\"mat-18 right\\\">delete</mat-icon>\\n    </div>\\n    <button mat-button class=\\\"content\\\" (pointerdown)=\\\"onContentPointerdown($event)\\\" (click)=\\\"onContentClick($event)\\\" [style.transform]=\\\"'translateX('+deltaX+'px)'\\\" touch-action=\\\"none\\\">{{story.name}}</button>\\n</div>\"","import { Component, OnInit, Input, OnDestroy, Output, EventEmitter } from '@angular/core';\nimport { IStory } from '../../services/story.service';\nimport { Subject, of, Subscription } from '../../../../node_modules/rxjs';\nimport { DeviceService } from '../../services/device.service';\nimport { map, takeUntil, concatAll, concat, withLatestFrom, debounce, debounceTime, merge } from '../../../../node_modules/rxjs/operators';\n\n@Component({\n  selector: 'app-draglist',\n  templateUrl: './draglist.component.html',\n  styleUrls: ['./draglist.component.css']\n})\nexport class DraglistComponent implements OnInit, OnDestroy {\n  @Input() story: IStory |{name: string};\n\n  @Output() delete = new EventEmitter();\n  @Output() contentClick = new EventEmitter();\n\n  deltaX: number;\n  maxSpeed = 0.5;\n\n  private _tmpXPointerdown = {time: 0, x: 0};\n  private _tmpXPointermove = {time: 0, x: 0};\n  private _tmpVx: number;\n\n  private _subDown: Subscription;\n  private _subSwap: Subscription;\n\n  // * inner events\n  protected contentPointerdown$ = new Subject<PointerEvent>();\n  protected contentPointerup$ = new Subject<PointerEvent>();\n\n  onContentPointerdown(ev: PointerEvent) {\n    this.contentPointerdown$.next(ev);\n  }\n\n  constructor(private deviceService: DeviceService) { }\n\n  ngOnInit() {\n    const self = this;\n    // Get the startX\n    self._subDown = self.contentPointerdown$.subscribe(ev => self._tmpXPointerdown = {time: ev.timeStamp, x: ev.screenX});\n    // Get the movingX and final V_x\n    self._subSwap = self.contentPointerdown$.pipe(\n      map( _ => self.deviceService.onPointermove$.pipe(\n        takeUntil(self.deviceService.onPointerup$),\n        // takeUntil(self.deviceService.onPointermove$.pipe(\n        //   debounceTime(400),\n        //   merge(self.deviceService.onPointerup$)\n        // )),\n        concat(of({timeStamp: 0, movementX: 0, screenX: -1000}))\n      )),\n      concatAll(),\n      // map(ev => ev.clientX)\n      withLatestFrom(self.contentPointerdown$, (e_move, e_down) => {\n        if (e_move.timeStamp !== 0) {\n          self._tmpXPointermove = {time: e_move.timeStamp, x: e_move.screenX};\n        }\n        return e_move.screenX - e_down.screenX;\n      })\n    ).subscribe( dx => {\n      if (dx < -1000) {\n        self.deltaX = 0;\n        self._tmpVx = (self._tmpXPointermove.x - self._tmpXPointerdown.x) / (self._tmpXPointermove.time - self._tmpXPointerdown.time);\n        // * [2018-07-19 10:38] send out a notification 'delete' when the speedX is higher than 0.5\n        if (Math.abs(self._tmpVx) > self.maxSpeed) {\n          self.delete.next();\n        }\n      } else {\n        self.deltaX = (dx < -1000) ? 0 : dx;\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this._subDown.unsubscribe();\n    this._subSwap.unsubscribe();\n  }\n\n  onContentClick(ev) {\n    this.contentClick.next();\n  }\n\n}\n","module.exports = \".container {\\n    width: 100%;\\n    position: relative;\\n    -ms-grid-row-align: center;\\n        align-self: center;\\n    height: 40px;\\n    display:-ms-grid;\\n    display:grid;\\n}\\n\\n.slideContainer {\\n    align-items: center;\\n    /* display: flex; */\\n    display: -ms-grid;\\n    display: grid;\\n        -ms-grid-columns: auto 1fr auto;\\n        grid-template-columns: auto 1fr auto;\\n        -ms-grid-rows: 1fr;\\n        grid-template-rows: 1fr;\\n        grid-template-areas: \\\"start center end\\\";\\n}\\n\\n.slideStart {\\n    -ms-grid-row: 1;\\n    -ms-grid-column: 1;\\n    grid-area: start\\n}\\n\\n.slidePart {\\n    display: -ms-grid;\\n    display: grid;\\n    position: relative;\\n    height: 100%;\\n    align-items: center;\\n    -ms-grid-row: 1;\\n    -ms-grid-column: 2;\\n    grid-area: center;\\n    overflow: hidden;\\n    min-width: 0;\\n}\\n\\n.slideEnd {\\n    -ms-grid-row: 1;\\n    -ms-grid-column: 3;\\n    grid-area: end\\n}\\n\\n.slideCanvas {\\n    order: 0;\\n    z-index: 0;\\n    -ms-grid-column: 1;\\n    grid-column: 1;\\n    -ms-grid-row: 1;\\n    grid-row: 1;\\n    -o-object-fit: fill;\\n       object-fit: fill;\\n    width: 100%;\\n    height: 100%;\\n    position: relative;\\n    -webkit-transform-origin: left;\\n            transform-origin: left;\\n}\\n\"","module.exports = \"<div #container class='container'>\\n  <!-- <button mat-icon-button (click)=\\\"onPlay()\\\" *ngIf=\\\"meService.state !== mEState.playing\\\"> -->\\n  <!-- <button mat-icon-button (click)=\\\"onPlay()\\\">\\n      <mat-icon class=\\\"mat-18\\\">play_arrow</mat-icon>\\n  </button> -->\\n  <!-- <button mat-icon-button (click)=\\\"onPause()\\\" *ngIf=\\\"meService.state===mEState.playing\\\"> -->\\n  <!-- <button mat-icon-button (click)=\\\"onPause()\\\">\\n      <mat-icon class=\\\"mat-18\\\">pause</mat-icon>\\n  </button> -->\\n  <div class=\\\"slideContainer\\\">\\n    <span class=\\\"slideStart\\\">0.0</span>\\n    <div #slidePart class=\\\"slidePart\\\" (click)=\\\"onChangeCurrentTime($event, slidePart)\\\" >\\n      <svg #slideCanvas class=\\\"slideCanvas\\\" [attr.viewBox]=\\\"'0 0 '+meService.duration+' '+'1'\\\" [attr.preserveAspectRatio]=\\\"'none'\\\">\\n        <rect *ngFor=\\\"let frame of meService.story.frames\\\"\\n        [style.fill]=\\\"'rgba('+frame.colorR+','+frame.colorG+','+frame.colorB+','+((!!frame.colorA)?frame.colorA:0.9)+')'\\\"\\n        [attr.width]= \\\"(frame.end-frame.start)\\\"\\n        [attr.height]=\\\"frame.height\\\"\\n        [attr.x]=\\\"frame.start\\\"\\n        [attr.y]=\\\"frame.top\\\"\\n        ></rect>\\n\\n        <!-- horizontal line -->\\n        <rect [style.fill]=\\\"'black'\\\" [attr.height]=\\\"(!!container.clientHeight)?2/container.clientHeight:2\\\" [attr.width]=\\\"meService.duration\\\" x=\\\"0\\\" y=\\\"50%\\\"></rect>\\n        <!-- pointer -->\\n        <rect [style.fill]=\\\"'blue'\\\" [attr.x]=\\\"((meService.currentTime>0)?meService.currentTime:0)\\\" y=\\\"0\\\" [attr.width]=\\\"(!!container.clientWidth)?2*meService.duration/container.clientWidth:1\\\" height=\\\"100%\\\"></rect>\\n      </svg>\\n    </div>\\n    <span class=\\\"slideEnd\\\">{{meService.duration| number: '1.1-1'}}</span>\\n  </div>\\n</div>\"","import { Component, OnInit, NgZone } from '@angular/core';\nimport { MediaEditService, playerAction, MEState } from 'src/app/services/media-edit.service';\n\n@Component({\n  selector: 'app-me-main-dashboard',\n  templateUrl: './me-main-dashboard.component.html',\n  styleUrls: ['./me-main-dashboard.component.css']\n})\nexport class MeMainDashboardComponent implements OnInit {\n\n  mEState = MEState;\n  pAction = playerAction;\n  private _action = playerAction.none;\n  public get action(): playerAction {\n    return this._action;\n  }\n  public set action(v: playerAction) {\n    this.meService.onPlayerAction.next(v);\n    this._action = v;\n  }\n\n  constructor(public meService: MediaEditService, private nZone: NgZone) { }\n\n  ngOnInit() {\n  }\n\n  onPlay() {\n    this.nZone.run( () => {\n      this.action = playerAction.play;\n    });\n  }\n\n  onPause() {\n    this.nZone.run( () => {\n      this.action = playerAction.pause;\n    });\n  }\n\n  onChangeCurrentTime(ev: MouseEvent, evOf: Element) {\n    // * [2018-07-23 11:35] since the support of ev.layerX for mobile is unknown, I tried to get them\n    // const target = ev.target as Element;\n    const target = evOf;\n    const rect = target.getBoundingClientRect();\n    const layerX = ev.clientX - rect.left;\n    // * [2018-07-23 11:36] Set the seekTime\n    this.meService.seekTime = layerX / rect.width * this.meService.duration;\n    this.meService.setiFrame(-1);\n  }\n}\n","module.exports = \".container {\\n    touch-action: none;\\n    width: 100%;\\n    height: 100%;\\n    display: -ms-grid;\\n    display: grid;\\n        -ms-grid-columns: 1fr;\\n        grid-template-columns: 1fr;\\n        -ms-grid-rows: 1fr auto;\\n        grid-template-rows: 1fr auto;\\n        grid-template-areas: \\\"main\\\" \\\"slider\\\";\\n}\\n\\n.main {\\n    -ms-grid-row: 1;\\n    -ms-grid-column: 1;\\n    grid-area: main;\\n    \\n    display: -ms-inline-grid;\\n    \\n    display: inline-grid;\\n        -ms-grid-columns: 1fr;\\n        grid-template-columns: 1fr;\\n        -ms-grid-rows: 1fr 1fr 1fr;\\n        grid-template-rows: 1fr 1fr 1fr;\\n        grid-template-areas: \\\"main-up\\\" \\n    \\\"main-play\\\" \\n    \\\"main-down\\\";\\n    align-items: center;\\n    justify-items: center;\\n}\\n\\n.main-up {\\n    -ms-grid-row: 1;\\n    -ms-grid-column: 1;\\n    grid-area: main-up;\\n    display: flex;\\n}\\n\\n.main-play {\\n    -ms-grid-row: 2;\\n    -ms-grid-column: 1;\\n    grid-area: main-play;\\n}\\n\\n.main-down {\\n    -ms-grid-row: 3;\\n    -ms-grid-column: 1;\\n    grid-area: main-down;\\n    width:100%;\\n    align-self: baseline;\\n}\\n\\n.smallSlider {\\n    display: flex;\\n    align-items: center;\\n    border-radius: 20px;\\n    background-color: white;\\n    margin: 4px;\\n}\\n\\n.slider {\\n    -ms-grid-row: 2;\\n    -ms-grid-column: 1;\\n    grid-area: slider;\\n\\n    display: -ms-grid;\\n\\n    display: grid;\\n    -ms-grid-columns: auto 1fr auto;\\n        grid-template-columns: auto 1fr auto;\\n\\n    background-color: white;\\n    border-radius: 20px;\\n    align-items: center;\\n}\\n\\nmat-slider {\\n    -ms-grid-row: 1;\\n    grid-row: 1;\\n    -ms-grid-column: 2;\\n    grid-column: 2;\\n}\\n\\n.slider-start {\\n    -ms-grid-row: 1;\\n    grid-row: 1;\\n    -ms-grid-column: 1;\\n    grid-column: 1;\\n    margin: 4px;\\n}\\n\\n.slider-end {\\n    -ms-grid-row: 1;\\n    grid-row: 1;\\n    -ms-grid-column: 3;\\n    grid-column: 3;\\n    margin: 4px;\\n}\\n\\n.upCenter, .upLeft, .upRight{\\n    width: 30%;\\n    top: -100%;\\n    position: relative;\\n    -ms-grid-row: 1;\\n    grid-row: 1;\\n}\\n\\n.upLeft {\\n    -ms-grid-column: 1;\\n    -ms-grid-column-span: 2;\\n    grid-column: 1/3;\\n}\\n\\n.upCenter {\\n    -ms-grid-column: 2;\\n    grid-column: 2;\\n    -ms-grid-column-align: center;\\n        justify-self: center;\\n    text-shadow: 3px 0px 5px black,\\n    -3px 0px 5px black,\\n    0px 3px 5px black,\\n    0px -3px 5px black;\\n    text-align: center;\\n    color: white;\\n}\\n\\n.upRight {\\n    -ms-grid-column: 2;\\n    -ms-grid-column-span: 2;\\n    grid-column: 2/4;\\n    -ms-grid-column-align: right;\\n        justify-self: right;\\n}\\n\\n.largeBtn {\\n    width: 120px;\\n    height: 120px;\\n}\\n\\n#btnStart {\\n    border-radius: 50% 0 0 50%;\\n}\\n\\n#btnEnd {\\n    border-radius: 0 50% 50% 0;\\n}\\n\\n#subtitle {\\n    text-shadow: 3px 0px 5px black,\\n    -3px 0px 5px black,\\n    0px 3px 5px black,\\n    0px -3px 5px black;\\n    text-align: center;\\n    color: white;\\n    width: 100%;\\n}\\n\"","module.exports = \"<div class=\\\"container\\\" [@changeFrame]=\\\"meService.story.iFrame\\\" \\n    (pointerenter)=\\\"HideShow='show'\\\" (pointerleave)=\\\"HideShow='hide'\\\" touch-action=\\\"none\\\">\\n    <div class=\\\"main\\\">\\n        <div class=\\\"main-up\\\" [@hideShow]=\\\"HideShow\\\">\\n            <div #ratio class=\\\"smallSlider\\\">\\n                <mat-icon>directions_walk</mat-icon>\\n                <mat-slider min=\\\"0\\\" [max]=\\\"meService.availablePlaybackRates.length-1\\\" step=\\\"1\\\"\\n                 [displayWith]=\\\"tickDisplayWith(meService)\\\" thumbLabel \\n                 [value]=\\\"meService.availablePlaybackRates.indexOf(meService.playbackRate)\\\"\\n                 (input)=\\\"meService.playbackRate=meService.availablePlaybackRates[$event.value]\\\" ></mat-slider>\\n                <mat-icon>flight</mat-icon>\\n            </div>\\n            <div #volume class=\\\"smallSlider\\\">\\n                    <mat-icon>volume_mute</mat-icon>\\n                    <mat-slider min=\\\"0\\\" max=\\\"1\\\" step=\\\"0.2\\\" thumbLabel [(ngModel)]=\\\"meService.volume\\\"></mat-slider>\\n                    <mat-icon>volume_up</mat-icon>\\n            </div>    \\n        </div>\\n        <div class=\\\"main-play\\\" [@hideShow]=\\\"HideShow\\\">\\n            <button id=\\\"btnStart\\\" mat-icon-button mat-raised-button (click)=\\\"meService.seekTime=meService.story.frames[meService.story.iFrame].start\\\">\\n                <mat-icon class=\\\"mat-18\\\">skip_previous</mat-icon>\\n            </button>\\n            <button mat-icon-button mat-raised-button class=\\\"largeBtn\\\" (click)=\\\"onPlayPause()\\\">\\n                <svg viewBox=\\\"0 0 10 10\\\" *ngIf=\\\"previousState!==MEState.playing\\\">\\n                    <polygon points=\\\"8,5 3,2 3,8\\\" style=\\\"fill:darkblue\\\"/>\\n                </svg>\\n                <svg viewBox=\\\"0 0 10 10\\\" *ngIf=\\\"previousState===MEState.playing\\\">\\n                        <rect x=\\\"2\\\" y=\\\"2\\\" width=\\\"2\\\" height=\\\"6\\\" style=\\\"fill:red\\\"/>\\n                        <rect x=\\\"6\\\" y=\\\"2\\\" width=\\\"2\\\" height=\\\"6\\\" style=\\\"fill:red\\\"/>\\n                    </svg>\\n            </button>\\n            <button id=\\\"btnEnd\\\" mat-icon-button mat-raised-button (click)=\\\"meService.seekTime=meService.story.frames[meService.story.iFrame].end\\\">\\n                <mat-icon class=\\\"mat-18\\\">skip_next</mat-icon>\\n            </button>\\n        </div>\\n        <div class=\\\"main-down\\\">\\n            <textarea id=\\\"subtitle\\\" matInput \\n             [(ngModel)]=\\\"meService.story.frames[meService.story.iFrame].subtitle\\\"\\n             [style.background-color]=\\\"(HideShow==='hide')?'#00000000':'#FFFFFFFF'\\\"\\n             [style.border-color]=\\\"(HideShow==='hide')?'#00000000':'#B0B0B0FF'\\\">\\n            </textarea>\\n        </div>\\n    </div>\\n    <div class=\\\"slider\\\">\\n        <input #inStart type=\\\"number\\\" [@flyInOut]=\\\"IOStartShown\\\" class=\\\"upLeft\\\" [(ngModel)]=\\\"meService.story.frames[meService.story.iFrame].start\\\" (blur)=\\\"IOStartShown='out'\\\">\\n        <div class=\\\"upCenter\\\">{{meService.currentTime}}</div>\\n        <input #inEnd type=\\\"number\\\" [@flyInOut]=\\\"IOEndShown\\\" class=\\\"upRight\\\" [(ngModel)]=\\\"meService.story.frames[meService.story.iFrame].end\\\"  (blur)=\\\"IOEndShown='out'\\\">\\n        <span class=\\\"slider-start\\\" (click)=\\\"onOpenInputStart(inStart)\\\" >{{meService.story.frames[meService.story.iFrame].start | number: '1.1-1'}}</span>\\n        <!-- <mat-form-field><input class=\\\"slider-start\\\" matInput [(ngModel)]=\\\"meService.story.frames[meService.story.iFrame].start\\\"></mat-form-field> -->\\n            <mat-slider #frameSlider [min]=\\\"meService.story.frames[meService.story.iFrame].start\\\"\\n                [max]=\\\"meService.story.frames[meService.story.iFrame].end\\\"\\n                [value]=\\\"meService.currentTime\\\"\\n                (change)=\\\"meService.seekTime=frameSlider.value\\\"\\n            ></mat-slider>\\n        <span class=\\\"slider-end\\\" (click)=\\\"onOpenInputEnd(inEnd)\\\" >{{meService.story.frames[meService.story.iFrame].end | number: '1.1-1'}}</span>\\n    </div>\\n</div>\"","import { Component, OnInit, AfterViewInit } from '@angular/core';\nimport { MediaEditService, playerAction, MEState } from 'src/app/services/media-edit.service';\nimport { trigger, transition, style, animate, state } from '../../../../node_modules/@angular/animations';\n\n@Component({\n  selector: 'app-me-mani-plate',\n  templateUrl: './me-mani-plate.component.html',\n  styleUrls: ['./me-mani-plate.component.css'],\n  animations: [\n    trigger('changeFrame', [\n      transition('* => *', [\n        style({transform: 'translateY(-100%)'}),\n        animate('0.2s 0.1s ease-in', style({transform: 'translateY(0)'}))\n      ])\n    ]),\n    trigger('flyInOut', [\n      state('in', style({transform: 'translateY(0)', opacity: 1})),\n      state('out', style({transform: 'translateY(100%)', opacity: 0})),\n      transition('out => in', [\n        style({transform: 'translateY(100%)', opacity: 0}),\n        animate('0.2s 0.1s ease-in', style({transform: 'translateY(0)', opacity: 1}))\n      ]),\n      transition('in => out', [\n        animate('0.2s 0.1s ease-out', style({transform: 'translateY(100%)', opacity: 0}))\n      ])\n    ]),\n    trigger('hideShow', [\n      state('show', style({opacity: 1})),\n      state('hide', style({opacity: 0})),\n      transition('hide => show', [animate('0.2s 0.1s ease-in', style({opacity: 1}))]),\n      transition('show => hide', [animate('4s 2s ease-out', style({opacity: 0}))]),\n    ])\n  ]\n})\nexport class MeManiPlateComponent implements OnInit, AfterViewInit {\n\n  previousState: MEState = MEState.initialized;\n  MEState = MEState;\n\n  IOStartShown = 'out';\n  IOEndShown = 'out';\n  HideShow = 'show';\n\n\n  constructor(public meService: MediaEditService) { }\n\n  ngOnInit() {\n    this.previousState = this.meService.state;\n  }\n\n  ngAfterViewInit() {\n    Promise.resolve(null).then(_ => this.HideShow = 'hide');\n  }\n\n  onPlayPause() {\n    if (this.previousState !== MEState.playing) {\n      this.meService.onPlayerAction.next(playerAction.play);\n      this.previousState = MEState.playing;\n    } else if (this.previousState === MEState.playing) {\n      this.meService.onPlayerAction.next(playerAction.pause);\n      this.previousState = MEState.paused;\n    }\n  }\n\n  onOpenInputStart(inStart: HTMLInputElement) {\n    inStart.focus();\n    this.IOStartShown = 'in';\n  }\n\n  onOpenInputEnd(inEnd: HTMLInputElement) {\n    inEnd.focus();\n    this.IOEndShown = 'in';\n  }\n\n  tickDisplayWith = (meService: MediaEditService) => {\n    return (i: number) => {\n      return meService.availablePlaybackRates[i];\n    };\n  }\n}\n","module.exports = \".container {\\n    display: flex;\\n}\\n\\n.large {\\n    font-size: large;\\n}\\n\\n.listContainer {\\n    flex-grow: 1;\\n    max-height: 120px;\\n    overflow-y: auto;\\n    display: inline;\\n}\\n\"","module.exports = \"<div class=\\\"container\\\">\\n  <button id=\\\"allBtn\\\" mat-icon-button mat-raised-button (click)=\\\"onWhichFrame(-1)\\\">\\n    <mat-icon class=\\\"mat-18\\\">all_inclusive</mat-icon>\\n  </button>\\n  <button id=\\\"plusBtn\\\" mat-icon-button mat-raised-button (click)=\\\"onAddFrame()\\\">\\n    <span class=\\\"large\\\">+</span>\\n  </button>\\n\\n  <div class=\\\"listContainer\\\">\\n    <app-swap-icon\\n    *ngFor=\\\"let aFrame of meService.story.frames; let i = index;\\\" \\n    [index]=\\\"i\\\"\\n    [bR]=\\\"aFrame.colorR\\\"\\n    [bG]=\\\"aFrame.colorG\\\"\\n    [bB]=\\\"aFrame.colorB\\\"\\n    (contentClick)=\\\"onWhichFrame(i)\\\"\\n    (delete)=\\\"onRemoveFrame(i)\\\">\\n    </app-swap-icon>\\n  </div>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { MediaEditService } from '../../services/media-edit.service';\nimport { AFrame } from '../../vm/a-frame';\n\n@Component({\n  selector: 'app-me-section-dashboard',\n  templateUrl: './me-section-dashboard.component.html',\n  styleUrls: ['./me-section-dashboard.component.css']\n})\nexport class MeSectionDashboardComponent implements OnInit {\n\n  constructor(public meService: MediaEditService) { }\n\n  ngOnInit() {\n  }\n\n  onAddFrame() {\n    const frame = new AFrame();\n    frame.start = this.meService.currentTime;\n    frame.end = frame.start + 10;\n    frame.height = 0.6;\n    frame.top = Math.random() * 0.4;\n    this.meService.story.frames.push(frame);\n  }\n\n  onRemoveFrame(i: number) {\n    const frames = this.meService.story.frames;\n    frames.splice(i, 1);\n    this.meService.setiFrame(-1);\n  }\n\n  onWhichFrame(i: number) {\n    this.meService.setiFrame(i);\n    if (i >= 0) {\n      this.meService.seekTime = this.meService.story.frames[i].start;\n    }\n    console.log(`${i}/ **************************** TODO **************************/`);\n  }\n}\n","module.exports = \"video{\\n    height: 100%;\\n    width: auto;\\n    max-width: 100%;\\n    background: transparent no-repeat;\\n    /* For windows, it should be '/www/...' and for android is '/android_asset/www/...' */\\n    /* Now I declare it in html file */\\n    background-size: contain;\\n    background-position: center;\\n}\\n\\n.container, #youtube {\\n    width: 100%;\\n    height: 100%\\n}\"","module.exports = \"<div class=\\\"container\\\">\\n    <video #video [style.display]=\\\"(dataService.story.meType===pType.url||dataService.story.meType===pType.file)?'block':'none'\\\" (click)=\\\"onVideoPlayOrPause($event)\\\" controls poster=\\\"data:image/gif;base64,AAAA\\\" [style.background-image]=\\\"'url(\\\\'assets/MusicNotes.svg\\\\')'\\\"\\n        [src]=\\\"videoSrc|safe\\\"></video>\\n    <iframe #youtube id=\\\"youtube\\\" [frameBorder]=\\\"0\\\" [style.display]=\\\"(dataService.story.meType===pType.youtubeID)?'block':'none'\\\"></iframe>\\n</div>\"","import { Component, OnInit, ViewChild, ElementRef, OnDestroy, NgZone } from '@angular/core';\nimport { MediaEditService, MEState, playerAction } from 'src/app/services/media-edit.service';\nimport { YoutubeService } from 'src/app/services/youtube.service';\nimport { Subject, interval, from, fromEvent } from 'rxjs';\nimport { takeUntil, map, distinctUntilChanged, merge, share } from 'rxjs/operators';\nimport { SafePipe } from 'src/app/pipes/safe.pipe';\nimport { MessageService, MessageTypes } from 'src/app/services/message.service';\nimport { PlayerType } from '../../vm/player-type.enum';\nimport { equalSegments } from '../../../../node_modules/@angular/router/src/url_tree';\nimport { DeviceService } from '../../services/device.service';\n\n@Component({\n  selector: 'app-player',\n  templateUrl: './player.component.html',\n  styleUrls: ['./player.component.css']\n})\nexport class PlayerComponent implements OnInit, OnDestroy {\n\n  pType = PlayerType;\n  unSubscribed = new Subject<boolean>();\n\n  videoSrc: string;\n\n  private _ytVId: string;\n  public get ytVId(): string {\n    return this._ytVId;\n  }\n  public set ytVId(v: string) {\n    this.YTservice.loadURLforPlayer(this.youtubeEle, v);\n    this._ytVId = v;\n  }\n\n  @ViewChild('video')\n  ngVideo: ElementRef;\n  videoEle: HTMLVideoElement;\n\n  @ViewChild('youtube')\n  ngYoutube: ElementRef;\n  youtubeEle: HTMLIFrameElement;\n  isInited = false;\n\n  constructor(public dataService: MediaEditService, private YTservice: YoutubeService,\n    private msgService: MessageService, private ngZone: NgZone, private device: DeviceService) {\n  }\n\n  ngOnInit() {\n    const self = this;\n    this.videoEle = this.ngVideo.nativeElement;\n    this.youtubeEle = this.ngYoutube.nativeElement;\n    this.eventTriggers();\n    this.eventListeners();\n    // * [2018-06-18 20:57] because this component might be initialized after the MEState.readyForPlayer, I need to deal with this situation\n    if ((this.dataService.state === MEState.readyForPlayer) && (this.isInited === false)) {\n      this.initMe();\n      this.isInited = true;\n    }\n    if (this.device.isCordova && cordova.platformId === 'ios') {\n      self.videoEle.setAttribute(\"playsinline\", \"true\");\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.unSubscribed.next(true);\n    this.unSubscribed.complete();\n  }\n\n  getCurrentTime(): number {\n    const self = this;\n    const meType = self.dataService.story.meType;\n    if (meType === self.pType.youtubeID) {\n      if (self.YTservice.isApiReady && !!self.YTservice.ytPlayer.getCurrentTime) {\n        return self.YTservice.ytPlayer.getCurrentTime();\n      } else {\n        return -1;\n      }\n    } else {\n      return self.videoEle.currentTime;\n    }\n  }\n\n  eventListeners() {\n    const self = this;\n    // * For readyForPlayer\n    this.dataService.onStateChanged\n    .pipe(takeUntil(self.unSubscribed))\n    .subscribe((t) => {\n      if (t === MEState.readyForPlayer) {\n        if (self.isInited === false) {self.isInited = true; }\n        self.initMe();\n      }\n    });\n    // * [2018-07-21 19:44] For CurrentTime\n    self.dataService.onCurrentTimeChanged = interval(200)\n    .pipe(\n      map(_ => self.getCurrentTime()),\n      distinctUntilChanged(),\n      share()\n    );\n    self.dataService.onCurrentTimeChanged\n    .pipe(takeUntil(self.unSubscribed))\n    .subscribe(t => {\n      self.dataService.currentTime = t;\n      // console.log(t);\n    });\n\n    let isDuringStart = false; // For iOS because its seek time might be earlier than the time you are seeking to\n    // * [2018-07-24 13:48] For repeating each frame\n    self.dataService.onCurrentTimeChanged\n    .pipe(takeUntil(self.unSubscribed))\n    .subscribe(t => {\n      try {\n        let start = 0;\n        let end = self.dataService.duration - 0.1;\n        const iFrame = self.dataService.story.iFrame;\n        if (iFrame >= 0) {\n          const frame = self.dataService.story.frames[iFrame];\n          if (!!frame) {\n            start = frame.start;\n            end = frame.end;\n          }\n        }\n        if (t < start) {\n          if (isDuringStart === false) {\n            isDuringStart = true;\n            self.dataService.seekTime = start;\n          }\n        } else if (t > end) {\n          self.dataService.seekTime = start;\n          if (self.dataService.isRepeat === false) {\n            self.dataService.onPlayerAction.next(playerAction.pause);\n          }\n        } else {\n          if (isDuringStart === true) {\n            isDuringStart = false;\n          }\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    });\n\n    // * [2018-07-22 22:16] Update Duration & availablePlaybackRates\n    fromEvent(self.videoEle, 'durationchange')\n    // .pipe(merge(fromEvent(self.videoEle, 'loadstart')))\n    .pipe( takeUntil(self.unSubscribed))\n    .subscribe(_ => {\n      self.dataService.duration = self.videoEle.duration;\n      self.dataService.availablePlaybackRates = [0.25, 0.5, 0.75, 1, 1.5, 2, 4];\n    });\n    self.YTservice.onReady\n    .pipe( takeUntil(self.unSubscribed))\n    .subscribe(_ => {\n      self.dataService.duration = self.YTservice.ytPlayer.getDuration();\n      self.dataService.availablePlaybackRates = self.YTservice.ytPlayer.getAvailablePlaybackRates();\n    });\n\n    // * For playerAction\n    this.dataService.onPlayerAction\n    .pipe(takeUntil(self.unSubscribed))\n    .subscribe((t) => {\n      const meType = self.dataService.story.meType;\n      if (meType === self.pType.url || meType === self.pType.file) {\n        switch (t) {\n          case playerAction.play:\n          self.videoEle.play();\n          break;\n          case playerAction.pause:\n          self.videoEle.pause();\n          break;\n          case playerAction.seek:\n          self.videoEle.currentTime = self.dataService.seekTime;\n          break;\n          case playerAction.getDuration:\n          self.dataService.duration = self.videoEle.duration;\n          break;\n          case playerAction.getVolume:\n          self.dataService._volume = self.videoEle.volume;\n          break;\n          case playerAction.setVolume:\n          self.videoEle.volume = self.dataService.volume;\n          break;\n          case playerAction.getPlaybackRate:\n          self.dataService._playbackRate = self.videoEle.playbackRate;\n          break;\n          case playerAction.setPlaybackRate:\n          self.videoEle.playbackRate = self.dataService.playbackRate;\n          break;\n          case playerAction.getAllowedPlaybackRate:\n          self.dataService.availablePlaybackRates = [0.25, 0.5, 0.75, 1, 1.5, 2, 4];\n          break;\n          default:\n          break;\n        }\n      } else if (meType === self.pType.youtubeID) {\n        const ytPlayer = self.YTservice.ytPlayer;\n        if (!!ytPlayer === false) {return; }\n        switch (t) {\n          case playerAction.play:\n          ytPlayer.playVideo();\n          break;\n          case playerAction.pause:\n          ytPlayer.pauseVideo();\n          break;\n          case playerAction.seek:\n          if (!!ytPlayer.seekTo) {\n            ytPlayer.seekTo(self.dataService.seekTime, true);\n          }\n          break;\n          case playerAction.getDuration:\n          if (!!ytPlayer && !!ytPlayer.getDuration) {\n            self.dataService.duration = ytPlayer.getDuration();\n          }\n          break;\n          case playerAction.getVolume:\n          self.dataService._volume = ytPlayer.getVolume() / 100;\n          break;\n          case playerAction.setVolume:\n          ytPlayer.setVolume(self.dataService.volume * 100);\n          break;\n          case playerAction.getPlaybackRate:\n          self.dataService._playbackRate = ytPlayer.getPlaybackRate();\n          break;\n          case playerAction.setPlaybackRate:\n          ytPlayer.setPlaybackRate(self.dataService.playbackRate);\n          break;\n          case playerAction.getAllowedPlaybackRate:\n          self.dataService.availablePlaybackRates = ytPlayer.getAvailablePlaybackRates();\n          break;\n          default:\n          break;\n        }\n      }\n    });\n    // * [2018-06-26 15:53] For Youtube stateChange\n    self.YTservice.onStateChange\n    .pipe(takeUntil(this.unSubscribed))\n    .subscribe( (ev) => {\n      self.ngZone.run(() => {\n        switch (ev.data) {\n          case YT.PlayerState.PLAYING:\n            self.dataService.state = MEState.playing;\n            break;\n          case YT.PlayerState.PAUSED:\n            self.dataService.state = MEState.paused;\n            break;\n          case YT.PlayerState.ENDED:\n            self.dataService.state = MEState.stopped;\n            break;\n          default:\n            break;\n        }\n      });\n    });\n    // * [2018-06-26 16:50] For Youtube Ready\n    self.YTservice.onReady\n    .pipe(takeUntil(this.unSubscribed))\n    .subscribe( (ev) => {\n      self.dataService.state = MEState.canPlay;\n    });\n  }\n\n  eventTriggers() {\n    const self = this;\n    // * [2018-06-18 11:11] for MEState.canPlay\n    this.videoEle.oncanplay = (ev) => {\n      self.dataService.state = MEState.canPlay;\n    };\n    // * [2018-06-18 11:11] for MEState.error\n    this.videoEle.onerror = (ev) => {\n      self.dataService.state = MEState.error;\n    };\n    // * [2018-06-18 11:11] for MEState.waiting\n    this.videoEle.onwaiting = (ev) => {\n      self.dataService.state = MEState.waiting;\n    };\n    // * [2018-06-18 11:11] for MEState.playing\n    this.videoEle.onplay = (ev) => {\n      self.dataService.state = MEState.playing;\n    };\n    this.videoEle.onplaying = (ev) => {\n      self.dataService.state = MEState.playing;\n    };\n    // * [2018-06-18 11:11] for MEState.paused\n    this.videoEle.onpause = (ev) => {\n      self.dataService.state = MEState.paused;\n    };\n    // * [2018-06-18 11:11] for MEState.stopped\n    this.videoEle.onended = (ev) => {\n      self.dataService.state = MEState.stopped;\n    };\n    // ************************* TODO *****************************\n  }\n\n  initMe() {\n    // ******* TODO *******\n    const meType = this.dataService.story.meType;\n    const urlOrId = this.dataService.story.urlOrID;\n    if (meType ===  PlayerType.url) {\n      if (YoutubeService.isYoutubeURL(urlOrId)) {\n        this.dataService.story.meType = PlayerType.youtubeID;\n        this.ytVId = YoutubeService.getYTId(urlOrId);\n      } else {\n        this.videoSrc = urlOrId;\n      }\n    } else if (meType === PlayerType.youtubeID) {\n      if (YoutubeService.isYoutubeURL(urlOrId)) {\n        this.ytVId = YoutubeService.getYTId(urlOrId);\n      } else {\n        this.ytVId = urlOrId;\n      }\n    } else if (meType === PlayerType.file) {\n      this.videoSrc = urlOrId;\n    }\n  }\n\n  onVideoPlayOrPause(ev: MouseEvent) {\n    ev.preventDefault();\n    const state = this.dataService.state;\n    if (state === MEState.paused || state === MEState.readyForPlayer || state === MEState.canPlay) {\n      this.dataService.onPlayerAction.next(playerAction.play);\n    } else {\n      this.dataService.onPlayerAction.next(playerAction.pause);\n    }\n  }\n}\n","module.exports = \"\\n.container {\\n    display: -ms-inline-grid;\\n    display: inline-grid;\\n        -ms-grid-columns: 1fr;\\n        grid-template-columns: 1fr;\\n        -ms-grid-rows: 1fr;\\n        grid-template-rows: 1fr;\\n        grid-template-areas: 'center';\\n}\\n\\nbutton {\\n    touch-action: none;\\n}\\n\\n.eachButton, .delBK {\\n    -ms-grid-row: 1;\\n    -ms-grid-column: 1;\\n    grid-area: center;\\n    /* grid-column: 1;\\n    grid-row: 1; */\\n}\\n\\n.delBK {\\n    background-color: red;\\n    color: white;\\n}\"","module.exports = \"<span class=\\\"container\\\">\\n  <button mat-icon-button class=\\\"delBK\\\">\\n    <mat-icon class=\\\"mat-18\\\">delete</mat-icon>\\n  </button>\\n  <button mat-icon-button mat-raised-button\\n  class=\\\"eachButton\\\"\\n  touch-action=\\\"none\\\"\\n  [style.transform]=\\\"'translateY('+deltaY+'px)'\\\"\\n  [style.background-color]=\\\"'rgba('+bR+','+bG+','+bB+','+bA+')'\\\"\\n  (pointerdown)=\\\"onContentPointerdown($event)\\\"\\n  (click)=\\\"onBtnClick($event)\\\">\\n  <span>{{index}}</span>\\n</button>\\n</span>\\n\"","import { Component, OnInit, Input, OnDestroy, Output, EventEmitter } from '@angular/core';\nimport { Subscription, Subject, of } from 'rxjs';\nimport { DeviceService } from '../../services/device.service';\nimport { map, takeUntil, concat, concatAll, withLatestFrom } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-swap-icon',\n  templateUrl: './swap-icon.component.html',\n  styleUrls: ['./swap-icon.component.css']\n})\nexport class SwapIconComponent implements OnInit, OnDestroy {\n\n  @Input() index: number;\n\n  @Input() bR: number;\n  @Input() bG: number;\n  @Input() bB: number;\n  @Input() bA = 1;\n\n  @Output() delete = new EventEmitter();\n  @Output() contentClick = new EventEmitter();\n\n  deltaY: number;\n  maxSpeed = 0.9;\n\n  private _tmpYPointerdown = {time: 0, y: 0};\n  private _tmpYPointermove = {time: 0, y: 0};\n  private _tmpVy: number;\n\n  private _subDown: Subscription;\n  private _subSwap: Subscription;\n\n  // * inner events\n  protected contentPointerdown$ = new Subject<PointerEvent>();\n  protected contentPointerup$ = new Subject<PointerEvent>();\n\n  onContentPointerdown(ev: PointerEvent) {\n    this.contentPointerdown$.next(ev);\n  }\n\n  constructor(private deviceService: DeviceService) { }\n\n  ngOnInit() {\n    const self = this;\n    // Get the startX\n    self._subDown = self.contentPointerdown$.subscribe(ev => self._tmpYPointerdown = {time: ev.timeStamp, y: ev.screenY});\n    // Get the movingX and final V_x\n    self._subSwap = self.contentPointerdown$.pipe(\n      map( _ => self.deviceService.onPointermove$.pipe(\n        takeUntil(self.deviceService.onPointerup$),\n        concat(of({timeStamp: 0, movementY: 0, screenY: -1000}))\n      )),\n      concatAll(),\n      // map(ev => ev.clientX)\n      withLatestFrom(self.contentPointerdown$, (e_move, e_down) => {\n        if (e_move.timeStamp !== 0) {\n          self._tmpYPointermove = {time: e_move.timeStamp, y: e_move.screenY};\n        }\n        return e_move.screenY - e_down.screenY;\n      })\n    ).subscribe( dy => {\n      if (dy < -1000) {\n        self.deltaY = 0;\n        self._tmpVy = (self._tmpYPointermove.y - self._tmpYPointerdown.y) / (self._tmpYPointermove.time - self._tmpYPointerdown.time);\n        // * [2018-07-19 10:38] send out a notification 'delete' when the speedX is higher than 0.5\n        if (Math.abs(self._tmpVy) > self.maxSpeed) {\n          self.delete.next();\n        }\n      } else {\n        self.deltaY = (dy < -1000) ? 0 : dy;\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this._subDown.unsubscribe();\n    this._subSwap.unsubscribe();\n  }\n\n  onBtnClick(ev) {\n    const self = this;\n    this.contentClick.next(self.index);\n  }\n}\n","module.exports = \".full-width {\\n    width: 100%;\\n}\\n\\n.buttons {\\n    display: flex;\\n    justify-content: center;\\n}\"","module.exports = \"<p>\\n  dialog works!\\n</p>\\n<div *ngIf=\\\"data.dType===dialogType.inputUrl\\\">\\n  <mat-form-field class=\\\"full-width\\\" >\\n    <input matInput placeholder=\\\"請輸入想要的網址\\\" [(ngModel)]=\\\"data.url\\\" >\\n  </mat-form-field>\\n  <div class=\\\"buttons\\\">\\n    <button mat-raised-button (click)=\\\"onLoadURL()\\\" >載入</button>\\n  </div>\\n</div>\\n\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\n\n@Component({\n  selector: 'app-dialog',\n  templateUrl: './dialog.component.html',\n  styleUrls: ['./dialog.component.css']\n})\nexport class DialogComponent implements OnInit {\n\n  dialogType = DialogType;\n\n  constructor(public dialogRef: MatDialogRef<DialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData) { }\n\n  ngOnInit() {\n  }\n\n  onLoadURL() {\n    this.dialogRef.close(this.data.url);\n  }\n}\n\nexport enum DialogType {\n  inputUrl = 0\n}\n\nexport interface DialogData {\n  dType: DialogType;\n  url: string;\n}\n","module.exports = \"\\n.Error{\\n    background-color: red;\\n    color: white;\\n    text-shadow: 1px 1px 1px black;\\n}\\n\\n.Warn{\\n    background-color: yellow;\\n    color: blue;\\n    text-shadow: 1px 1px 1px green;\\n}\\n\\n.Info{\\n    background-color: lightblue;\\n    color: green;\\n    text-shadow: 1px 1px 1px black;\\n}\"","module.exports = \"<div class=\\\"main\\\">\\n    <ol>\\n        <li *ngFor=\\\"let msg of messages\\\">\\n          <span [textContent]=\\\"msg.message\\\" [class.Info]=\\\"msg.type==msgType.Info\\\" [class.Warn]=\\\"msg.type==msgType.Warn\\\" [class.Error]=\\\"msg.type==msgType.Error\\\"></span>\\n        </li>\\n    </ol>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { MessageService, OneMessage, MessageTypes } from '../services/message.service';\nimport { MatBottomSheetRef } from '@angular/material';\n\n@Component({\n  selector: 'app-message',\n  templateUrl: './message.component.html',\n  styleUrls: ['./message.component.css']\n})\nexport class MessageComponent implements OnInit {\n\n  messages: OneMessage[];\n  msgType = MessageTypes;\n  constructor(private bottomSheetRef: MatBottomSheetRef<MessageComponent>,\n    private msgService: MessageService) { }\n\n  showMsgs(num: number = 20) {\n    this.messages = this.msgService.readMessages();\n  }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"nav{\\n    display: flex;\\n    align-items: center;\\n    padding: 8px 16px;\\n    background: #673ab7;\\n}\\n\\n.flex-spacer{\\n    flex-grow: 1;\\n    text-align: center;\\n    overflow-x: auto;\\n}\"","module.exports = \"<nav class=\\\"docs-navbar-header\\\">\\n  <button mat-icon-button (click)=\\\"toggleSidenav_Click.next($event)\\\">\\n      <mat-icon class=\\\"mat-18\\\">menu</mat-icon>\\n  </button>\\n  <button mat-icon-button (click)=\\\"onSaveStory()\\\" *ngIf=\\\"meService.sideClickType===sideClickType_.new\\\">\\n    <mat-icon class=\\\"mat-18\\\">save</mat-icon>\\n  </button>\\n  <button mat-icon-button (click)=\\\"onUpdateStory()\\\" *ngIf=\\\"meService.sideClickType===sideClickType_.select\\\">\\n    <mat-icon class=\\\"mat-18\\\">update</mat-icon>\\n  </button>\\n<div class=\\\"flex-spacer\\\">\\n  <div>{{meService.story.title}}</div>\\n</div>\\n  <button mat-icon-button [matBadge]=\\\"nUnReadMsg\\\" (click)=\\\"showMsgsAtBottom()\\\" *ngIf=\\\"nUnReadMsg!=0\\\">\\n    <mat-icon class=\\\"mat-18\\\">event_note</mat-icon>\\n  </button>\\n</nav>\"","import { Component, OnInit, NgZone, Output, EventEmitter } from '@angular/core';\nimport { MessageService, MessageTypes } from '../services/message.service';\nimport { MatBottomSheet } from '@angular/material';\nimport { MessageComponent } from '../message/message.component';\nimport { DbService } from '../services/db.service';\nimport { MediaEditService, SideClickType } from '../services/media-edit.service';\nimport { PlayerType } from '../vm/player-type.enum';\nimport { FsService } from '../services/fs.service';\nimport { map, concatAll } from '../../../node_modules/rxjs/operators';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.css']\n})\nexport class NavbarComponent implements OnInit {\n\n  @Output() toggleSidenav_Click = new EventEmitter<MouseEvent>();\n\n  nUnReadMsg = 0;\n  sideClickType_ = SideClickType;\n\n  constructor(private bottomSheet: MatBottomSheet , private ngZone: NgZone,\n    private db: DbService, private fsService: FsService, public meService: MediaEditService,\n    public msgService: MessageService) {\n    const self = this;\n    this.nUnReadMsg = msgService.getNUnRead();\n    msgService.remindMsgIn.subscribe(\n      (n) => {\n        const isInZone = NgZone.isInAngularZone();\n        const action = () => { self.nUnReadMsg = n; };\n        if (isInZone === false) {\n          ngZone.run(action);\n        } else {action(); }\n      });\n  }\n\n  ngOnInit() {\n  }\n\n  showMsgsAtBottom() {\n    const ref = this.bottomSheet.open(MessageComponent);\n    ref.instance.showMsgs();\n  }\n\n  async onSaveStory() {\n    const story = this.meService.story;\n    const self = this;\n    if (story.meType === PlayerType.file) {\n      const isSaved = await this.fsService.getFile$(story.fileName, true).pipe(map(fEntry => {\n        return self.fsService.writeFile$(fEntry, self.meService.blob);\n      }), concatAll()).toPromise();\n      // * [2018-08-05 17:23] if it is saved, renew its URL\n      if (isSaved === true) {\n        story.urlOrID = (await this.fsService.getFile$(story.fileName).toPromise()).toURL();\n      }\n\n      self.msgService.pushMessage({type: MessageTypes.Info, message: `The file ${story.fileName} is stored: ${isSaved}`});\n    }\n    delete story['id'];\n    const insert = await this.db.upsertAsync(DbService.storyTableName, story);\n    // * [2018-07-25 19:04] Change its state to 'Update'\n    story['id'] = insert[0].affectedRows[0].id;\n    this.meService.sideClickType = SideClickType.select;\n  }\n\n  async onUpdateStory() {\n    const story = this.meService.story;\n    await this.db.upsertAsync(DbService.storyTableName, story);\n  }\n}\n","module.exports = \"input[type='file'] {\\n    display: none;\\n}\\n\\n.full-width {\\n    width: 100%;\\n    display: block;\\n}\\n\\n.question {\\n    background-color: red;\\n    color: yellow;\\n    font-weight: bolder;\\n    min-width: 0px;\\n    box-shadow: 4px;\\n}\\n\\napp-draglist {\\n    width:100%;\\n}\"","module.exports = \"<div>\\n    <button mat-raised-button (click)=\\\"gv.shownPage = pageType.Test\\\">Test</button>\\n</div>\\n<div>\\n    <h3>\\n        讀入新的媒體：\\n    </h3>\\n    <mat-list dense>\\n        <mat-list-item>\\n            <button mat-raised-button (click)=\\\"onLoadFromURL();\\\">\\n                網址\\n            </button>\\n            <button mat-icon-button class=\\\"question\\\">\\n                ?\\n            </button>\\n        </mat-list-item>\\n        <mat-list-item>\\n            <button mat-raised-button (click)=\\\"selFile.click()\\\" >\\n                <input #selFile name=\\\"selFile\\\" id=\\\"selFile\\\"\\n                type=\\\"file\\\" accept=\\\"video/*, audio/*\\\" (change)=\\\"onFileSelect(selFile.files)\\\">\\n                檔案\\n            </button>\\n        </mat-list-item>\\n    </mat-list>\\n</div>\\n<div>\\n    <h3>讀入已備份的媒體：</h3>\\n\\n    <mat-list dense>\\n        <!-- <mat-list-item *ngFor=\\\"let story of stories$| async\\\"> -->\\n        <app-draglist *ngFor=\\\"let story of stories\\\" \\n            [story]=\\\"story\\\"\\n            (delete)=\\\"onStoryDelete(story)\\\"\\n            (contentClick)=\\\"onStoryOpen(story)\\\" ></app-draglist>\\n        <!-- </mat-list-item> -->\\n    </mat-list>\\n</div>\\n\"","import { Component, OnInit, NgZone, AfterViewInit } from '@angular/core';\nimport { GvService, PageType } from '../../services/gv.service';\nimport { MediaEditService, SideClickType } from '../../services/media-edit.service';\nimport { MatDialog } from '@angular/material';\nimport { DialogComponent, DialogType } from '../../dialog/dialog.component';\nimport { DbService } from '../../services/db.service';\nimport { Observable, Subject, from } from 'rxjs';\nimport { IStory } from '../../services/story.service';\nimport { map, concatAll } from 'rxjs/operators';\nimport { NavbarComponent } from '../../navbar/navbar.component';\nimport { FsService } from '../../services/fs.service';\nimport { MessageService, MessageTypes } from '../../services/message.service';\nimport { PlayerType } from '../../vm/player-type.enum';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit, AfterViewInit {\n\n  Url = 'https://dzxuyknqkmi1e.cloudfront.net/odb/2018/06/odb-06-12-18.mp3';\n  testYoutubeUrl = 'https://youtu.be/f1SZ5GaAp3g';\n\n  stories$: Observable<IStory[]>;\n  stories: IStory[];\n  storySearch$ = new Subject<IStory>();\n\n  pageType = PageType;\n  constructor(public gv: GvService, public dialog: MatDialog,\n    private meService: MediaEditService, private db: DbService,\n    private ngZone: NgZone, private fs: FsService\n    , private msg: MessageService) {\n    }\n\n  ngOnInit() {\n    const self = this;\n    // from(this.db.searchAsync()).subscribe(this.stories$);\n    self.db.onDataChanged.subscribe(data => self.storySearch$.next(null));\n    self.stories$ = self.storySearch$.pipe(map(val => {\n      if (val === null) { return self.db.searchAsync(DbService.storyTableName, null, null, {viewTime: 'desc'}); }\n    }),\n    concatAll()\n    );\n    self.stories$.subscribe(s => {\n      self.ngZone.run(() => {\n        self.stories = s;\n      });\n    });\n    // * [2018-08-01 10:27] Check whether FsPlugin is available now\n    self.fs.FSReady$.subscribe(v => self.msg.pushMessage({type: MessageTypes.Info, message: `FSReady = ${v}`}));\n  }\n\n  ngAfterViewInit() {\n    this.storySearch$.next(null); // initialize the search\n  }\n\n  onFileSelect(files: FileList) {\n    if (files !== null && files.length > 0) {\n      const file = files[0];\n      this.meService.initMe(file);\n      this.gv.shownPage = PageType.MediaEdit;\n    }\n    // * [2018-07-19 21:28] Tell navbar that you want to create a story\n    this.meService.sideClickType = SideClickType.new;\n  }\n\n  onLoadFromURL() {\n    const self = this;\n    const dialogRef = this.dialog.open(DialogComponent, {\n      width: '50%',\n      data: {dType: DialogType.inputUrl, url: self.Url}\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (!!result === false) {return; }\n      self.Url = result;\n      self.meService.initMe(self.Url);\n      self.gv.shownPage = PageType.MediaEdit;\n      // * [2018-07-19 21:28] Tell navbar that you want to create a story\n      self.meService.sideClickType = SideClickType.new;\n    });\n  }\n\n  async onStoryDelete(story: IStory) {\n    const self = this;\n    if (story.meType === PlayerType.file) {\n      const isDeleted = await self.fs.getFile$(story.fileName).pipe(map(\n        fEntry => self.fs.rmFile$(fEntry)\n      ), concatAll()).toPromise();\n\n      self.msg.pushMessage({type: MessageTypes.Info, message: `The file ${story.fileName} is deleted: ${isDeleted}`});\n    }\n    // this.db.deleteAsync(DbService.storyTableName, ['id', '=', story.id]);\n    this.db.deleteAsync(DbService.storyTableName, ['makeTime', '=', story.makeTime]);\n    // * [2018-07-19 21:28] Tell navbar that you delete a story\n    // this.meService.sideClickType = SideClickType.none;\n  }\n\n  onStoryOpen(story: IStory) {\n    const duplicatedStory = Object.assign(story);\n    this.meService.initMe(duplicatedStory);\n    this.gv.shownPage = PageType.MediaEdit;\n    // * [2018-07-19 21:28] Tell navbar that you select a story\n    this.meService.sideClickType = SideClickType.select;\n  }\n}\n","module.exports = \".container {\\n    display: -ms-grid;\\n    display: grid;\\n        -ms-grid-rows: auto 1fr auto auto;\\n        grid-template-rows: auto 1fr auto auto;\\n        grid-template-areas: \\\"header\\\" \\\"main\\\" \\\"cSection\\\" \\\"cMain\\\";\\n    height: 100%;\\n    width: 100%;\\n}\\n\\nheader {\\n    -ms-grid-row: 1;\\n    -ms-grid-column: 1;\\n    grid-area: header;\\n}\\n\\n.main {\\n    -ms-grid-row: 2;\\n    -ms-grid-column: 1;\\n    grid-area: main;\\n    overflow: hidden;\\n}\\n\\napp-player {\\n    z-index: 0;\\n}\\n\\napp-me-mani-plate {\\n    z-index: 1;\\n}\\n\\n.dashboardSection {\\n    -ms-grid-row: 3;\\n    -ms-grid-column: 1;\\n    grid-area: cSection;\\n}\\n\\n.dashboardMain {\\n    -ms-grid-row: 4;\\n    -ms-grid-column: 1;\\n    grid-area: cMain;\\n}\"","module.exports = \"<div class=\\\"container\\\">\\n  <!-- <header>{{this.dataService.story.name}}</header> -->\\n  <!-- <main> -->\\n    <!-- <video #videoElement class=\\\"main\\\"></video> -->\\n    <app-player class=\\\"main\\\"></app-player>\\n    <app-me-mani-plate class=\\\"main\\\"\\n      [style.background-color]=\\\"(meService.story.iFrame<0)?'rgba(0,0,0,0)':'rgba('+meService.story.frames[meService.story.iFrame].colorR+','+meService.story.frames[meService.story.iFrame].colorG+','+meService.story.frames[meService.story.iFrame].colorB+','+'0.2'+')'\\\"\\n      *ngIf=\\\"meService.story.iFrame>=0\\\"\\n      [@flyInOut]=\\\"'in'\\\"\\n    ></app-me-mani-plate>\\n  <!-- </main> -->\\n  <aside></aside>\\n  <footer class=\\\"dashboardSection\\\">\\n    <app-me-section-dashboard></app-me-section-dashboard>\\n  </footer>\\n  <footer class=\\\"dashboardMain\\\">\\n    <app-me-main-dashboard></app-me-main-dashboard>\\n  </footer>\\n</div>\\n\"","import { Component, OnInit, Input, ElementRef, ViewChild, AfterViewInit, NgZone } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { MediaEditService } from '../../services/media-edit.service';\nimport { trigger, state, style, transition, animate } from '../../../../node_modules/@angular/animations';\n\n@Component({\n  selector: 'app-media-edit',\n  templateUrl: './media-edit.component.html',\n  styleUrls: ['./media-edit.component.css'],\n  animations: [\n    trigger('flyInOut', [\n      state('in', style({transform: 'translateY(0)'})),\n      transition('void => *', [\n        style({transform: 'translateY(-100%)'}),\n        animate('0.2s ease-in')\n      ]),\n      transition('* => void', [\n        animate('0.2s 0.1s ease-out', style({transform: 'translateY(-100%)'}))\n      ])\n    ])\n  ]\n})\nexport class MediaEditComponent implements OnInit {\n\n  constructor(/*private route: ActivatedRoute, */\n    public meService: MediaEditService) {\n  }\n\n  ngOnInit() {\n    // const self = this;\n    // this.route.paramMap.subscribe( (paraM) => {\n    //   const para = decodeURIComponent(paraM.get('inUrl'));\n    //   let inData: Blob|string;\n    //   if (para !== '0') {\n    //     inData = para;\n    //   } else {\n    //     inData = this.meService.blob;\n    //   }\n    //   self.meService.initMe(inData);\n    // });\n  }\n\n}\n","module.exports = \".container {\\n    display: -ms-grid;\\n    display: grid;\\n    height: 100%;\\n        -ms-grid-rows: auto 1fr;\\n        grid-template-rows: auto 1fr;\\n        grid-template-areas: 'main' 'des';\\n}\\n\\n.nameETC {\\n    -ms-grid-row: 1;\\n    -ms-grid-column: 1;\\n    grid-area: main;\\n}\\n\\nmat-form-field {\\n    width: 90%;\\n}\\n\\n.description {\\n    -ms-grid-row: 2;\\n    -ms-grid-column: 1;\\n    grid-area: des;\\n    height: 100%;\\n}\\n\\n.description ::ng-deep [class^=mat-form-field-wrapper], .description ::ng-deep [class^=mat-form-field-flex], .description ::ng-deep [class^=mat-form-field-infix], textarea {\\n    height: 100%;\\n}\"","module.exports = \"<div class=\\\"container\\\">\\n  <div class=\\\"nameETC\\\">\\n    <mat-form-field>\\n      <input matInput placeholder=\\\"媒體名稱\\\" [(ngModel)]=\\\"meService.story.name\\\">\\n    </mat-form-field>\\n    \\n    <mat-form-field>\\n      <input matInput placeholder=\\\"媒體標題\\\" [(ngModel)]=\\\"meService.story.title\\\">\\n    </mat-form-field>\\n    \\n    <mat-form-field>\\n      <input matInput placeholder=\\\"關鍵字\\\" [(ngModel)]=\\\"meService.story.keywords\\\">\\n    </mat-form-field>\\n    \\n    <mat-form-field>\\n      <input matInput placeholder=\\\"媒體來源\\\" [(ngModel)]=\\\"(meService.story.meType===meService.PlayerType.file)?meService.story.fileName:meService.story.urlOrID\\\">\\n    </mat-form-field>      \\n  </div>\\n  \\n  <mat-form-field class=\\\"description\\\">\\n    <textarea matInput placeholder=\\\"描述\\\" [(ngModel)]=\\\"meService.story.description\\\">\\n    </textarea>\\n  </mat-form-field>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { MediaEditService } from '../../services/media-edit.service';\n\n@Component({\n  selector: 'app-story',\n  templateUrl: './story.component.html',\n  styleUrls: ['./story.component.css']\n})\nexport class StoryComponent implements OnInit {\n\n  constructor(public meService: MediaEditService) { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<input #selFile type=\\\"file\\\" multiple (change)=\\\"onSelFileChange(selFile.files,$event.target === audioFile)\\\">\\n<!-- list of files -->\\n<mat-list dense *ngIf=\\\"!!entries\\\">\\n    <app-draglist *ngFor=\\\"let entry of entries\\\"\\n    [story]=\\\"entry\\\"\\n    (delete)=\\\"onRmFile(entry)\\\"\\n    (contentClick)=\\\"onClickAFile(entry)\\\" >\\n    </app-draglist>\\n</mat-list>\\n<video #audioFromFile autoplay controls [src]=\\\"audioSrc|safe\\\">\\n</video>\\n<hr>\\n<div>\\n    <div>Is cordova support? {{(isCordovaSupport)?\\\"Yes\\\":\\\"No\\\"}}</div>\\n    <div>Is cordova.file support? {{(isFilePluginSupport)?\\\"Yes\\\":\\\"No\\\"}}</div>\\n</div>\\n<div>\\n    <button mat-raised-button (click)=\\\"onGetDocFolder()\\\">\\n        <mat-icon>folder</mat-icon>\\n    </button>\\n    {{newFolderName}}\\n</div>\\n<br/>\\n<div>\\n    <button (click)=\\\"onSelectFromNSQL()\\\">select nanoSQL</button>\\n</div>\\n<br/>\\n<div>\\n    <button (click)=\\\"ondeleteFromNSQL()\\\">delete nanoSQL</button>\\n</div>\\n<br/>\\n<div>\\n    <button (click)=\\\"onUpsertFromNSQL()\\\">upsert nanoSQL</button>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { MessageService, MessageTypes, OneMessage } from '../../services/message.service';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\nimport { DbService } from '../../services/db.service';\nimport { FsService } from '../../services/fs.service';\nimport { map, concatAll } from '../../../../node_modules/rxjs/operators';\n\n@Component({\n  selector: 'app-test',\n  templateUrl: './test.component.html',\n  styleUrls: ['./test.component.css']\n})\nexport class TestComponent implements OnInit {\n\n  entries: Entry[];\n  audioFile: File;\n  // audioSrc: SafeUrl;\n  audioSrc: string;\n  isCordovaSupport: boolean;\n  isFilePluginSupport: boolean;\n  newFolderName: string;\n\n  constructor(private msgService: MessageService, private sanitizer: DomSanitizer,\n    private DBService: DbService , private fsService: FsService\n  ) { }\n\n  ngOnInit() {\n    const self = this;\n    this.isCordovaSupport = !!window.cordova;\n    this.isFilePluginSupport = this.isCordovaSupport && !!cordova.file;\n    this.fsService.ls$('').subscribe(entries => self.entries = entries);\n  }\n\n  async onSelFileChange(files: FileList, obj: object) {\n    const file = files[0];\n    const self = this;\n    if (!!file === false) { return; }\n    await this.fsService.getFile$(file.name, true).pipe(\n      map(fEntry => {\n        return self.fsService.writeFile$(fEntry, file);\n      }), concatAll()).toPromise();\n\n    this.fsService.ls$('').subscribe(entries => self.entries = entries);\n  }\n\n  onRmFile(file: FileEntry) {\n    const self = this;\n    this.fsService.rmFile$(file).subscribe();\n    this.fsService.ls$('').subscribe(entries => self.entries = entries);\n  }\n\n  onClickAFile(file: FileEntry) {\n    this.audioSrc = this.fsService.toURL(file);\n  }\n\n  async onSelFileChange_for_windows_videoLibrary(files: FileList, obj: object) {\n    console.log(`obj= ${obj}`);\n    this.audioFile = files[0];\n    const fName = this.audioFile.name;\n    let newFile: any;\n    if (!!window.cordova && (cordova.platformId === 'windows')) {\n      try {\n        const outputFile = await Windows.Storage.KnownFolders.videosLibrary.createFileAsync(this.audioFile.name);\n        const outStream = await outputFile.openAsync(Windows.Storage.FileAccessMode.readWrite);\n        const inStream = this.audioFile.msDetachStream();\n        await Windows.Storage.Streams.RandomAccessStream.copyAsync(inStream, outStream);\n        await outStream.flushAsync();\n        inStream.close();\n        outStream.close();\n\n        newFile = await Windows.Storage.KnownFolders.videosLibrary.getFileAsync(fName);\n  } catch (error) {\n        this.msgService.pushMessage({type: MessageTypes.Error, message: error});\n      }\n    } else {\n        newFile = this.audioFile;\n    }\n    // this.audioSrc = this.sanitizer.bypassSecurityTrustUrl('https://www.scripturesongs.net/mp3/h1/01FountainFilledWithBlood.mp3');\n    // this.audioSrc = 'https://www.scripturesongs.net/mp3/h1/01FountainFilledWithBlood.mp3';\n    // this.audioSrc = this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(this.audioFile));\n    this.audioSrc = window.URL.createObjectURL(newFile);\n    this.msgService.pushMessage({type : MessageTypes.Info, message: `audioSrc: ${JSON.stringify(this.audioSrc)}`});\n  }\n\n  async onGetDocFolder() {\n    if (!!window['Windows']) {\n      const docFolder = Windows.Storage.KnownFolders.videosLibrary;\n      const newFolder = await docFolder.createFolderAsync('Test');\n      if (newFolder != null) {\n        this.newFolderName = newFolder.path;\n      }\n    }\n  }\n\n  async onSelectFromNSQL() {\n    const result = await this.DBService.searchAsync();\n  }\n\n  async ondeleteFromNSQL() {\n    await this.DBService.deleteAsync();\n  }\n\n  async onUpsertFromNSQL() {\n    await this.DBService.upsertAsync();\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'safe',\n  pure: true\n})\nexport class SafePipe implements PipeTransform {\n\n  constructor(public sanitizer: DomSanitizer) {}\n\n  transform(url: string, args?: any): SafeUrl {\n    return this.sanitizer.bypassSecurityTrustUrl(url);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { nSQL, NanoSQLInstance } from 'nano-sql';\nimport { DeviceService } from './device.service';\nimport { GvService } from './gv.service';\nimport { MessageService, MessageTypes } from './message.service';\nimport { StickyObservable } from '../extends/sticky-observable';\nimport { Subscriber, Observable, Subject } from 'rxjs';\nimport { first, shareReplay } from 'rxjs/operators';\nimport 'rxjs/add/operator/toPromise';\nimport { _NanoSQLQuery } from 'nano-sql/lib/query/std-query';\nimport { IStory, Story } from './story.service';\nimport { PlayerType } from '../vm/player-type.enum';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DbService {\n\n  static storyTableName = 'stories';\n  static storyModel = [\n    {key: 'id', type: 'uuid', props: [ 'pk']},\n    {key: 'name', type: 'string'},\n    {key: 'title', type: 'string', props: ['trie']},\n    {key: 'description', type: 'string', props: ['trie']},\n    {key: 'keywords', type: 'string', props: ['trie']},\n    {key: 'fileName', type: 'string'} ,\n    {key: 'fileToken', type: 'string'} ,\n    {key: 'makeTime', type: 'int'},\n    {key: 'modifyTime', type: 'int'},\n    {key: 'viewTime', type: 'int'},\n    {key: 'urlOrID', type: 'string', default: ''},\n    {key: 'meType', type: 'int', default: 0},\n    {key: 'frames', type: 'map[]', default: []}\n  ];\n\n  private _isInitialized = false;\n  public get isInitialized(): boolean {\n    return this._isInitialized;\n  }\n\n  onDBReady: Observable<boolean>;\n\n  private _onDataChanged = new Subject<any>();\n  public get onDataChanged(): Observable<any> {\n    return this._onDataChanged;\n  }\n\n  nStories = 0;\n\n  constructor(private cService: DeviceService, private msgService: MessageService) {\n    const self = this;\n    const subscriber = observer => {\n      const action = async () => {\n        if (cService.isCordova) {await cService.onDeviceReady.toPromise(); }\n        await self.iniNanoSQL.bind(self)(observer);\n      };\n      action();\n    return () => {};\n    };\n    // this.onDBReady = StickyObservable.createWithInit<boolean>(subscriber); //original one\n    this.onDBReady = (new Observable<boolean>(subscriber)).pipe(shareReplay(1), first());\n    this.onDBReady.subscribe(); // initialize it!!!\n  }\n\n  getSampleItem() {\n    const result = new Story();\n    result.urlOrID = 'https://youtu.be/rpvsEBdP4c8';\n    return result;\n  }\n\n  async iniNanoSQL(ob: Subscriber<boolean>) {\n    const mode = (!!window['nSQLite'] && window.cordova.platformId !== 'browser') ? window['nSQLite'].getMode() : 'PERM';\n    const buf = nSQL(DbService.storyTableName)\n    .model(DbService.storyModel)\n    .config({\n      mode: mode,\n      cache: true,\n      id: 'test'\n    });\n    await buf.connect();\n    this._isInitialized = true;\n    ob.next(true);\n\n    this.msgService.pushMessage({type: MessageTypes.Info, message: buf.toString() });\n\n    let rows = await nSQL(DbService.storyTableName).query('select', ['COUNT(*) AS count']).exec();\n    if (!!rows[0].count && rows[0].count > 0) {\n    } else {\n      rows = await this.upsertAsync();\n    }\n    this.msgService.pushMessage({type: MessageTypes.Info, message: JSON.stringify(rows) });\n\n  }\n\n  async searchAsync(tName: string = DbService.storyTableName,\n    selOptions?: any, where?: any, orderBy?: any, offset?: number, limit?: number) {\n    await this.onDBReady.toPromise(); // make sure it is finished\n    let select: _NanoSQLQuery;\n    if (!!selOptions) {\n      select = nSQL(tName).query('select', selOptions);\n    } else {\n      select = nSQL(tName).query('select');\n    }\n    if (!!where) {select = select.where(where); }\n    if (!!orderBy) {select = select.orderBy(orderBy); }\n    if (!!offset) {select = select.offset(offset); }\n    if (!!limit) {select = select.limit(limit); }\n\n    let result: any;\n    try {\n      result = await select.exec();\n      this.msgService.pushMessage({type: MessageTypes.Info, message: JSON.stringify(result)});\n    } catch (error) {\n      result = {};\n      this.msgService.pushMessage({type: MessageTypes.Error, message: error});\n    }\n    return result;\n  }\n\n  async deleteAsync(tName: string = DbService.storyTableName, where: any = ['viewTime', '>', 0]) {\n    await this.onDBReady.toPromise();\n    let q = nSQL(tName).query('delete');\n    if (!!where) {q = q.where(where); }\n\n    let result: any;\n    try {\n      result = await q.exec();\n      this._onDataChanged.next(result);\n    } catch (error) {\n      result = {};\n      this.msgService.pushMessage({type: MessageTypes.Error, message: error});\n    }\n    return result;\n  }\n\n  async upsertAsync(tName: string = DbService.storyTableName, item?: any, where?: any) {\n    await this.onDBReady.toPromise();\n    if (!!item === false) {item = this.getSampleItem(); }\n    let q = nSQL(tName).query('upsert', item);\n    if (!!where) { q = q.where(where); }\n    let result: any;\n    try {\n      result = await q.exec();\n      this._onDataChanged.next(result);\n    } catch (error) {\n      result = {};\n      this.msgService.pushMessage({type: MessageTypes.Error, message: error});\n    }\n    this.msgService.pushMessage({type: MessageTypes.Info, message: JSON.stringify(result)});\n    return result;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, fromEvent } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DeviceService {\n\n  isCordova: boolean;\n  channel: any;\n\n  // * Observable\n  onDeviceReady: Observable<null>;\n  onPointerdown$: Observable<PointerEvent>;\n  onPointermove$: Observable<PointerEvent>;\n  onPointerup$: Observable<PointerEvent>;\n  onPointerout$: Observable<PointerEvent>;\n  onMouseup$: Observable<MouseEvent>;\n  onMousemove$: Observable<MouseEvent>;\n  onMousedown$: Observable<MouseEvent>;\n\n  constructor() {\n    // * [2018-06-??] For cordova\n    this.isCordova = !!window.cordova;\n    const self = this;\n    if (this.isCordova) {\n      this.channel = cordova.require('cordova/channel');\n      this.onDeviceReady = new Observable(ob => {\n        this.channel.onDeviceReady.subscribe( () => {\n          ob.next(); // For subscribe\n          ob.complete(); // For toPromise and auto-unsubscribe\n        });\n      });\n    }\n\n    // * [2018-07-17 19:50] For pointing device's events\n    this.onPointerdown$ = fromEvent(document, 'pointerdown') as Observable<PointerEvent>;\n    this.onPointermove$ = fromEvent(document, 'pointermove') as Observable<PointerEvent>;\n    // this.onPointermove$ = new Observable(ob => document.addEventListener('pointermove', e => {\n    //   const ev = e as PointerEvent;\n    //   ob.next(ev);\n    //   console.log(ev.screenX);\n    // }));\n    this.onPointerup$ = fromEvent(document, 'pointerup') as Observable<PointerEvent>;\n    this.onPointerout$ = fromEvent(document, 'pointerout') as Observable<PointerEvent>;\n    this.onMouseup$ = fromEvent(document, 'mouseup') as Observable<MouseEvent>;\n    this.onMousemove$ = fromEvent(document, 'mousemove') as Observable<MouseEvent>;\n    // this.onMousemove$ = new Observable(ob => document.addEventListener('mousemove', e => {\n    //   const ev = e as MouseEvent;\n    //   ob.next(ev);\n    //   console.log(ev.screenX);\n    // }));\n    this.onMousedown$ = fromEvent(document, 'mousedown') as Observable<MouseEvent>;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { DeviceService } from './device.service';\nimport { Observable, of, fromEvent } from 'rxjs';\nimport { shareReplay, map, concatAll, first, concat, last } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FsService {\n\n  FSReady$: Observable<boolean>;\n  fs$: Observable<FileSystem>;\n\n  constructor(private device: DeviceService) {\n    if (device.isCordova === true) {\n      this.FSReady$ = device.onDeviceReady.pipe(\n        map(_ => {\n          if (!!window['isFilePluginReadyRaised'] === false) { return of(true); }\n          if (!!window['isFilePluginReadyRaised']() === true) {\n            window['initPersistentFileSystem']();\n            return of(true);\n          } else {\n            return fromEvent(window, 'filePluginIsReady').pipe(\n              map( ev => true)\n            );\n          }\n        }),\n        concatAll()\n      ).pipe(shareReplay(1), first());\n    } else {\n      this.FSReady$ = of(false).pipe(shareReplay(1), first());\n    }\n    this.fs$ = this.getFs$();\n  }\n\n  getFs$(): Observable<FileSystem> {\n    let obs: Observable<FileSystem>;\n    obs = this.FSReady$.pipe(map(isReady => {\n      if (isReady) {\n        return new Observable<FileSystem>( subs => {\n          window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, fs => {\n            subs.next(fs);\n            subs.complete();\n          }, subs.error);\n        });\n      } else {\n        return of(null);\n      }\n    }), concatAll());\n    return obs.pipe(shareReplay(1), first());\n  }\n\n  getDir$(path: string, create: boolean = false, exclusive: boolean = false): Observable<DirectoryEntry> {\n    const self = this;\n    return self.fs$.pipe(map(fs => {\n      if (!!fs === false) {\n        return of(null);\n      } else {\n        return new Observable<DirectoryEntry>( subs => {\n          if (!!path === false) {\n            subs.next(fs.root);\n            subs.complete();\n          } else {\n            fs.root.getDirectory(path, {create: create, exclusive: exclusive},\n              dir => {\n                subs.next(dir);\n                subs.complete();\n              },\n              subs.error\n            );\n          }\n        });\n      }\n    }), concatAll());\n  }\n\n  ls$(dir: DirectoryEntry| string): Observable<Entry[]> {\n    const self = this;\n    if (typeof dir === 'string') {\n      return self.getDir$(dir).pipe(map(dEntry => {\n        return self.ls$(dEntry);\n      }), concatAll());\n    } else {\n      if (!!dir === false) {return of(null); }\n\n      return new Observable<Entry[]>( subs => {\n        dir.createReader().readEntries(\n          entries => {\n            subs.next(entries);\n            subs.complete();\n          },\n          subs.error\n        );\n      });\n    }\n  }\n\n  getFile$(name: string, create: boolean = false, exclusive: boolean = false): Observable<FileEntry> {\n    const self = this;\n    if (self.device.isCordova === false) {return of(null); }\n    const obs = self.fs$.pipe(map(fs => new Observable<FileEntry>( subs => {\n      fs.root.getFile(name, {create: create, exclusive: exclusive},\n        file => {\n          subs.next(file);\n          subs.complete();\n        },\n        subs.error);\n    })),\n    concatAll()\n    );\n    return obs;\n  }\n\n  writeFile$(fEntry: FileEntry, data: Blob, isAppend: boolean = false): Observable<boolean> {\n    const self = this;\n    if (self.device.isCordova === false) {return of(null); }\n    const obs = new Observable<boolean>( subs => {\n      fEntry.createWriter( fWriter => {\n        fWriter.onwriteend = e => {\n          subs.next(true);\n          console.log(e);\n          subs.complete();\n        };\n        fWriter.onerror = subs.error;\n\n        if (isAppend) {\n          try {\n            fWriter.seek(fWriter.length);\n          } catch (e) {\n            subs.error(e);\n          }\n        }\n        fWriter.write(data);\n      }, subs.error);\n    });\n    return obs;\n  }\n\n  rmFile$(file: FileEntry) {\n    return new Observable<boolean>( subs => {\n      file.remove(\n        () => {\n          subs.next(true);\n          subs.complete();\n        },\n        subs.error);\n    });\n  }\n\n  toURL(file: FileEntry) {\n    return file.toURL();\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GvService {\n\n  shownPage = PageType.Home;\n  sharedFolderName = 'SegmentedMediaLayer';\n\n  constructor() { }\n}\n\nexport enum PageType {\n  Home,\n  MediaEdit,\n  Test\n}\n","import { Injectable } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\nimport { IStory, Story } from './story.service';\nimport { PlayerType } from '../vm/player-type.enum';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MediaEditService {\n\n  _onStateChanged: Subject<MEState>; // Just for subscribe, if you want to trigger it, set ~self.state~.\n  public get onStateChanged(): Observable<MEState> {\n    return this._onStateChanged;\n  }\n\n  onPlayerAction: Subject<playerAction>;\n\n  PlayerType = PlayerType;\n\n  private _state: MEState;\n  public get state(): MEState {\n    return this._state;\n  }\n  public set state(v: MEState) {\n    if (this._state !== v && !!this._onStateChanged) {\n      this._onStateChanged.next(v);\n    }\n    this._state = v;\n  }\n\n  onCurrentTimeChanged: Observable<number>;\n\n  private _duration = 100;\n  public set duration(v: number) {\n    this._duration = v;\n  }\n  public get duration(): number {\n    return (!!this._duration) ? this._duration : 100;\n  }\n\n  public _volume = 1; // **************** TODO *******************\n  public get volume(): number {\n    return this._volume;\n  }\n  public set volume(v: number) {\n    this._volume = v;\n    this.setVolumeIntoFrame();\n  }\n\n  // ********************** TODO *************************\n  public _playbackRate = 1;\n  public get playbackRate(): number {\n    return this._playbackRate;\n  }\n  public set playbackRate(v: number) {\n    this._playbackRate = v;\n    this.setPlaybackRateIntoFrame();\n  }\n\n  public availablePlaybackRates: number[] = [0.25, 0.5, 0.75, 1, 1.5, 2, 4];\n\n  story = new Story();\n  blob: Blob;\n\n  currentTime = 0;\n  isRepeat = true;\n\n  private _seekTime = 0;\n  public set seekTime(v: number) {\n    this._seekTime = v;\n    this.onPlayerAction.next(playerAction.seek);\n  }\n  public get seekTime(): number {\n    return this._seekTime;\n  }\n\n  sideClickType = SideClickType.none;\n\n  constructor() {\n    this._onStateChanged  = new Subject<MEState>();\n    this.onPlayerAction = new Subject<playerAction>();\n    this.state = MEState.initialized;\n  }\n\n  initMe(data: Blob| IStory| string, pType: PlayerType = PlayerType.auto) {\n    // * [2018-07-19 17:58] pause previous action\n    this.onPlayerAction.next(playerAction.pause);\n    // * [2018-07-19 17:59] Start to initialize it.\n    this.state = MEState.parsing;\n    // * [2018-06-20 11:00] Check the type of service is\n    if (pType !== PlayerType.auto) {\n      this.story.meType = pType;\n    } else {\n      if ((typeof data) === 'string') {\n        this.story = new Story();\n        this.story.meType = PlayerType.url;\n      } else if (!!data['viewTime']) {\n        this.story = data as IStory;\n      } else if (!!(data as Blob)) {\n        this.story = new Story();\n        this.story.meType = PlayerType.file;\n      } else {\n        this.state = MEState.parseFailed;\n        return;\n      }\n    }\n\n    if (!!data['viewTime']) {\n      // * [2018-07-19 13:41] If input is a story\n    } else if ((this.story.meType === PlayerType.url) || (this.story.meType === PlayerType.youtubeID)) {\n      this.story.urlOrID = data as string;\n      this.story.title = this.story.urlOrID;\n    } else if (this.story.meType === PlayerType.file) {\n      this.blob = data as Blob;\n      this.story.urlOrID = window.URL.createObjectURL(this.blob);\n      if (!!(data as File)) {\n        this.story.title = this.story.fileName = (data as File).name;\n      }\n    }\n\n    // * [2018-07-23 10:16] Update the duration & playbackRates\n    if (this.story.meType !== PlayerType.youtubeID) {\n      this.onPlayerAction.next(playerAction.getDuration);\n      this.onPlayerAction.next(playerAction.getAllowedPlaybackRate);\n    }\n    this.state = MEState.readyForPlayer;\n  }\n\n  setiFrame(i: number) {\n    const self = this;\n    if (!!self.story) {\n      // **************************** TODO ********************************************\n      self.story.iFrame = i;\n      self.setVolumeFromFrame();\n      self.setPlaybackRateFromFrame();\n    } else {\n      console.log(`Problem in setiFrame(${i})`);\n    }\n  }\n\n  setVolumeFromFrame() {\n    const self = this;\n    if (!!self.story) {\n      const i = self.story.iFrame;\n      // **************************** TODO ********************************************\n      if (i >= 0) { // if it is a frame.\n        const frame = self.story.frames[i];\n        self._volume = frame.volume;\n      } else { // for all\n        self._volume = 1;\n      }\n      self.onPlayerAction.next(playerAction.setVolume);\n    } else {\n      console.log(`Problem in setVolume`);\n    }\n  }\n\n  setPlaybackRateFromFrame() {\n    const self = this;\n    if (!!self.story) {\n      const i = self.story.iFrame;\n      // **************************** TODO ********************************************\n      if (i >= 0) { // if it is a frame.\n        const frame = self.story.frames[i];\n        self._playbackRate = frame.rate;\n      } else { // for whole story\n        self._playbackRate = 1;\n      }\n      self.onPlayerAction.next(playerAction.setPlaybackRate);\n    } else {\n      console.log(`Problem in setPlaybackRate`);\n    }\n  }\n\n  /**\n   * Provide self._volume at first.\n   */\n  setVolumeIntoFrame() {\n    const self = this;\n    if (!!self.story) {\n      const i = self.story.iFrame;\n      // **************************** TODO ********************************************\n      if (i >= 0) { // if it is a frame.\n        const frame = self.story.frames[i];\n        frame.volume = self._volume;\n      } else { // for all\n        // self._volume = 1;\n      }\n      self.onPlayerAction.next(playerAction.setVolume);\n    } else {\n      console.log(`Problem in setVolume`);\n    }\n  }\n\n    /**\n   * Provide self._playbackRate at first.\n   */\n  setPlaybackRateIntoFrame() {\n    const self = this;\n    if (!!self.story) {\n      const i = self.story.iFrame;\n      // **************************** TODO ********************************************\n      if (i >= 0) { // if it is a frame.\n        const frame = self.story.frames[i];\n        frame.rate = self._playbackRate;\n      } else { // for whole story\n        // self._playbackRate = 1;\n      }\n      self.onPlayerAction.next(playerAction.setPlaybackRate);\n    } else {\n      console.log(`Problem in setPlaybackRate`);\n    }\n  }\n}\n\nexport enum playerAction {\n  none,\n  play,\n  pause,\n  seek,\n  getDuration,\n  getVolume,\n  setVolume,\n  getPlaybackRate,\n  setPlaybackRate,\n  getAllowedPlaybackRate\n}\n\nexport enum MEState {\n  initialized,\n  parsing,\n  parseFailed,\n  readyForPlayer,\n  canPlay,\n  error,\n  waiting,\n  playing,\n  paused,\n  stopped,\n  disposed\n}\n\nexport enum SideClickType {\n  none,\n  new,\n  select\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MessageService {\n\n  remindMsgIn: Subject<number> = new Subject();\n\n  private _messages: OneMessage[] = [];\n  private _nRead = 0;\n\n  pushMessage(msg: OneMessage) {\n    this._messages.push(msg);\n    this.remindMsgIn.next(this.getNUnRead());\n  }\n\n  readMessages() {\n    this._nRead = this._messages.length;\n    this.remindMsgIn.next(0);\n    const origin = this._messages.slice(0);\n    const result = this._messages.reverse();\n    this._messages = origin;\n    return result;\n  }\n\n  getNUnRead() {\n    return this._messages.length - this._nRead;\n  }\n\n  constructor() { }\n\n\n}\n\nexport class OneMessage {\n  type: MessageTypes;\n  message: string;\n  constructor() {\n  }\n}\n\nexport enum MessageTypes {\n  Info,\n  Warn,\n  Error\n}\n","import { Injectable } from '@angular/core';\nimport { PlayerType } from '../vm/player-type.enum';\nimport { AFrame } from '../vm/a-frame';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StoryService {\n\n  constructor() { }\n}\n\nexport class Story implements IStory {\n  name = '請給個名字';\n  title = '歡迎使用本App來幫助學習';\n  description = '';\n  keywords = '';\n\n  makeTime: number;\n  modifyTime: number;\n  viewTime: number;\n\n  urlOrID = ''; // 'https://youtu.be/rpvsEBdP4c8';\n  meType = PlayerType.url;\n\n  fileName = '';\n  fileToken = '';\n\n  frames: AFrame[];\n  iFrame = -1;\n\n  constructor() {\n    const time = Date.now();\n    this.makeTime = this.modifyTime = this.viewTime = time;\n    this.frames = [];\n    return this;\n  }\n}\nexport interface IStory {\n  id?: string;\n  name: string;\n  title: string;\n  description: string;\n  keywords: string;\n\n  makeTime: number;\n  modifyTime: number;\n  viewTime: number;\n\n  urlOrID: string;\n  meType: PlayerType;\n\n  fileName: string;\n  fileToken: string;\n\n  frames: AFrame[];\n  iFrame: number;\n}\n","import { Injectable } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\nimport { first } from 'rxjs/operators';\n// import 'rxjs/add/operator/first';\nimport { MessageService, MessageTypes } from './message.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class YoutubeService {\n\n  static regYT = /^(http(s)?:\\/\\/)?(((www\\.youtube\\.com|youtube\\.com)\\/.*[\\?\\&]v=([^\\&]+))|(youtu\\.be\\/([^\\&]+)))/i;\n\n  ytPlayer: YT.Player;\n  onReady: Subject<YT.PlayerEvent>;\n  onStateChange: Subject<YT.OnStateChangeEvent>;\n  onError: Subject<YT.OnErrorEvent>;\n\n  isScriptEmbedded = false;\n\n  private _isApiReady = false;\n  public get isApiReady(): boolean {\n    return this._isApiReady;\n  }\n  public set isApiReady(v: boolean) {\n    if (v === true) {\n      this.onApiReday.next(v);\n    }\n    this._isApiReady = v;\n  }\n  onApiReday = new Subject<boolean>();\n\n  static isYoutubeURL(url: string): boolean {\n    return this.regYT.test(url);\n  }\n\n  static getYTId(url: string): string {\n    const result = this.regYT.exec(url);\n    return (result[6] || result[8]);\n  }\n\n  constructor(private msgService: MessageService) {\n    this.onReady = new Subject<YT.PlayerEvent>();\n    this.onStateChange = new Subject<YT.OnStateChangeEvent>();\n    this.onError = new Subject<YT.OnErrorEvent>();\n}\n\n  embedApiScript() {\n    // * [2018-06-19 11:36] For Youtube, gotten from\n    // https://stackoverflow.com/questions/36467532/use-youtube-iframe-api-with-angular2-and-typescript\n    if (this.isScriptEmbedded === true) {\n      return;\n    } else {\n      this.isScriptEmbedded = true;\n    }\n    const doc = window.document;\n    (<any>window).onYouTubeIframeAPIReady = () => {\n      this.isApiReady = true;\n      this.msgService.pushMessage({type: MessageTypes.Info, message: 'Youtube Api is initialized'});\n    };\n    const apiScript = doc.createElement('script');\n    apiScript.type = 'text/javascript';\n    apiScript.src = 'https://www.youtube.com/iframe_api';\n    doc.body.appendChild(apiScript);\n  }\n\n  loadURLforPlayer(uiEle: HTMLIFrameElement, VId: string) {\n    if (!!window['YT'] === false) {\n      this.onApiReday.pipe(first()).subscribe(() => this.loadURLforPlayer(uiEle, VId));\n      return;\n    }\n    const self = this;\n    uiEle.src = `http://www.youtube.com/embed/${VId}?enablejsapi=1&html5=1&playsinline=1`;\n    if (!!this.ytPlayer && (this.ytPlayer.getIframe() === uiEle)) {\n      this.ytPlayer.loadVideoById(VId);\n    } else {\n      if (!!this.ytPlayer) {\n        this.ytPlayer.destroy(); // ******************** TODO *****************************\n      }\n      this.ytPlayer = new YT.Player(uiEle, {\n        events: {\n          'onReady': (ev) => {self.onReady.next(ev); },\n          'onStateChange': (ev) => {self.onStateChange.next(ev); },\n          'onError': (ev) => {self.onError.next(ev); },\n          'onApiChange': (ev) => {\n            // ************************* TODO for caption******************************\n            // console.log('ytPlayer.getOptions?' + JSON.stringify(self.ytPlayer['getOptions']()));\n          }\n        }\n      });\n    }\n  }\n}\n","export class AFrame {\n    name: string;\n    pseudopath = '/';\n\n    genTime: number;\n    colorR: number;\n    colorG: number;\n    colorB: number;\n    colorA = 0.9;\n    top = 0.5; // 0 ~ ${1-height}\n    height = 0.3;\n\n    start = 0;\n    end = 0;\n\n    rate = 1;\n    volume = 1;\n\n    subtitle = '';\n\n    constructor () {\n        this.colorR = Math.round(Math.random() * 200 + 20);\n        this.colorG = Math.round(Math.random() * 200 + 20);\n        this.colorB = Math.round(Math.random() * 200 + 20);\n        this.genTime = Date.now();\n        return this;\n    }\n}\n","export enum PlayerType {\n    none,\n    auto,\n    file,\n    url,\n    youtubeID\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nimport 'hammerjs';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}